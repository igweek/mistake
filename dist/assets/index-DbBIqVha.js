(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var S2={exports:{}},Zc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw=Symbol.for("react.transitional.element"),Uw=Symbol.for("react.fragment");function _2(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:zw,type:t,key:r,ref:e!==void 0?e:null,props:n}}Zc.Fragment=Uw;Zc.jsx=_2;Zc.jsxs=_2;S2.exports=Zc;var x=S2.exports,T2={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rp=Symbol.for("react.transitional.element"),Ow=Symbol.for("react.portal"),Lw=Symbol.for("react.fragment"),Pw=Symbol.for("react.strict_mode"),Bw=Symbol.for("react.profiler"),qw=Symbol.for("react.consumer"),Hw=Symbol.for("react.context"),Fw=Symbol.for("react.forward_ref"),Gw=Symbol.for("react.suspense"),Vw=Symbol.for("react.memo"),E2=Symbol.for("react.lazy"),$w=Symbol.for("react.activity"),r1=Symbol.iterator;function Yw(t){return t===null||typeof t!="object"?null:(t=r1&&t[r1]||t["@@iterator"],typeof t=="function"?t:null)}var A2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C2=Object.assign,k2={};function Ys(t,e,n){this.props=t,this.context=e,this.refs=k2,this.updater=n||A2}Ys.prototype.isReactComponent={};Ys.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ys.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function N2(){}N2.prototype=Ys.prototype;function ip(t,e,n){this.props=t,this.context=e,this.refs=k2,this.updater=n||A2}var ap=ip.prototype=new N2;ap.constructor=ip;C2(ap,Ys.prototype);ap.isPureReactComponent=!0;var i1=Array.isArray;function uh(){}var et={H:null,A:null,T:null,S:null},R2=Object.prototype.hasOwnProperty;function sp(t,e,n){var r=n.ref;return{$$typeof:rp,type:t,key:e,ref:r!==void 0?r:null,props:n}}function Kw(t,e){return sp(t.type,e,t.props)}function op(t){return typeof t=="object"&&t!==null&&t.$$typeof===rp}function Jw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var a1=/\/+/g;function B0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jw(""+t.key):e.toString(36)}function jw(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(uh,uh):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Qa(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case rp:case Ow:s=!0;break;case E2:return s=t._init,Qa(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+B0(t,0):r,i1(i)?(n="",s!=null&&(n=s.replace(a1,"$&/")+"/"),Qa(i,e,n,"",function(u){return u})):i!=null&&(op(i)&&(i=Kw(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(a1,"$&/")+"/")+s)),e.push(i)),1;s=0;var o=r===""?".":r+":";if(i1(t))for(var l=0;l<t.length;l++)r=t[l],a=o+B0(r,l),s+=Qa(r,e,n,a,i);else if(l=Yw(t),typeof l=="function")for(t=l.call(t),l=0;!(r=t.next()).done;)r=r.value,a=o+B0(r,l++),s+=Qa(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return Qa(jw(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Gl(t,e,n){if(t==null)return t;var r=[],i=0;return Qa(t,r,"","",function(a){return e.call(n,a,i++)}),r}function Xw(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var s1=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Ww={map:Gl,forEach:function(t,e,n){Gl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Gl(t,function(){e++}),e},toArray:function(t){return Gl(t,function(e){return e})||[]},only:function(t){if(!op(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};xe.Activity=$w;xe.Children=Ww;xe.Component=Ys;xe.Fragment=Lw;xe.Profiler=Bw;xe.PureComponent=ip;xe.StrictMode=Pw;xe.Suspense=Gw;xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et;xe.__COMPILER_RUNTIME={__proto__:null,c:function(t){return et.H.useMemoCache(t)}};xe.cache=function(t){return function(){return t.apply(null,arguments)}};xe.cacheSignal=function(){return null};xe.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=C2({},t.props),i=t.key;if(e!=null)for(a in e.key!==void 0&&(i=""+e.key),e)!R2.call(e,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&e.ref===void 0||(r[a]=e[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var s=Array(a),o=0;o<a;o++)s[o]=arguments[o+2];r.children=s}return sp(t.type,i,r)};xe.createContext=function(t){return t={$$typeof:Hw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:qw,_context:t},t};xe.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)R2.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var o=Array(s),l=0;l<s;l++)o[l]=arguments[l+2];i.children=o}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return sp(t,a,i)};xe.createRef=function(){return{current:null}};xe.forwardRef=function(t){return{$$typeof:Fw,render:t}};xe.isValidElement=op;xe.lazy=function(t){return{$$typeof:E2,_payload:{_status:-1,_result:t},_init:Xw}};xe.memo=function(t,e){return{$$typeof:Vw,type:t,compare:e===void 0?null:e}};xe.startTransition=function(t){var e=et.T,n={};et.T=n;try{var r=t(),i=et.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(uh,s1)}catch(a){s1(a)}finally{e!==null&&n.types!==null&&(e.types=n.types),et.T=e}};xe.unstable_useCacheRefresh=function(){return et.H.useCacheRefresh()};xe.use=function(t){return et.H.use(t)};xe.useActionState=function(t,e,n){return et.H.useActionState(t,e,n)};xe.useCallback=function(t,e){return et.H.useCallback(t,e)};xe.useContext=function(t){return et.H.useContext(t)};xe.useDebugValue=function(){};xe.useDeferredValue=function(t,e){return et.H.useDeferredValue(t,e)};xe.useEffect=function(t,e){return et.H.useEffect(t,e)};xe.useEffectEvent=function(t){return et.H.useEffectEvent(t)};xe.useId=function(){return et.H.useId()};xe.useImperativeHandle=function(t,e,n){return et.H.useImperativeHandle(t,e,n)};xe.useInsertionEffect=function(t,e){return et.H.useInsertionEffect(t,e)};xe.useLayoutEffect=function(t,e){return et.H.useLayoutEffect(t,e)};xe.useMemo=function(t,e){return et.H.useMemo(t,e)};xe.useOptimistic=function(t,e){return et.H.useOptimistic(t,e)};xe.useReducer=function(t,e,n){return et.H.useReducer(t,e,n)};xe.useRef=function(t){return et.H.useRef(t)};xe.useState=function(t){return et.H.useState(t)};xe.useSyncExternalStore=function(t,e,n){return et.H.useSyncExternalStore(t,e,n)};xe.useTransition=function(){return et.H.useTransition()};xe.version="19.2.3";T2.exports=xe;var ee=T2.exports;const Be=Qc(ee);var M2={exports:{}},e0={},I2={exports:{}},D2={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(q,V){var P=q.length;q.push(V);e:for(;0<P;){var le=P-1>>>1,R=q[le];if(0<i(R,V))q[le]=V,q[P]=R,P=le;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var V=q[0],P=q.pop();if(P!==V){q[0]=P;e:for(var le=0,R=q.length,Me=R>>>1;le<Me;){var Re=2*(le+1)-1,z=q[Re],Fe=Re+1,nt=q[Fe];if(0>i(z,P))Fe<R&&0>i(nt,z)?(q[le]=nt,q[Fe]=P,le=Fe):(q[le]=z,q[Re]=P,le=Re);else if(Fe<R&&0>i(nt,P))q[le]=nt,q[Fe]=P,le=Fe;else break e}}return V}function i(q,V){var P=q.sortIndex-V.sortIndex;return P!==0?P:q.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var l=[],u=[],c=1,f=null,p=3,m=!1,y=!1,w=!1,E=!1,b=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function C(q){for(var V=n(u);V!==null;){if(V.callback===null)r(u);else if(V.startTime<=q)r(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(u)}}function I(q){if(w=!1,C(q),!y)if(n(l)!==null)y=!0,k||(k=!0,J());else{var V=n(u);V!==null&&H(I,V.startTime-q)}}var k=!1,D=-1,B=5,O=-1;function F(){return E?!0:!(t.unstable_now()-O<B)}function Y(){if(E=!1,k){var q=t.unstable_now();O=q;var V=!0;try{e:{y=!1,w&&(w=!1,S(D),D=-1),m=!0;var P=p;try{t:{for(C(q),f=n(l);f!==null&&!(f.expirationTime>q&&F());){var le=f.callback;if(typeof le=="function"){f.callback=null,p=f.priorityLevel;var R=le(f.expirationTime<=q);if(q=t.unstable_now(),typeof R=="function"){f.callback=R,C(q),V=!0;break t}f===n(l)&&r(l),C(q)}else r(l);f=n(l)}if(f!==null)V=!0;else{var Me=n(u);Me!==null&&H(I,Me.startTime-q),V=!1}}break e}finally{f=null,p=P,m=!1}V=void 0}}finally{V?J():k=!1}}}var J;if(typeof _=="function")J=function(){_(Y)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,oe=ie.port2;ie.port1.onmessage=Y,J=function(){oe.postMessage(null)}}else J=function(){b(Y,0)};function H(q,V){D=b(function(){q(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var P=p;p=V;try{return q()}finally{p=P}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(q,V){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var P=p;p=q;try{return V()}finally{p=P}},t.unstable_scheduleCallback=function(q,V,P){var le=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?le+P:le):P=le,q){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=P+R,q={id:c++,callback:V,priorityLevel:q,startTime:P,expirationTime:R,sortIndex:-1},P>le?(q.sortIndex=P,e(u,q),n(l)===null&&q===n(u)&&(w?(S(D),D=-1):w=!0,H(I,P-le))):(q.sortIndex=R,e(l,q),y||m||(y=!0,k||(k=!0,J()))),q},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(q){var V=p;return function(){var P=p;p=V;try{return q.apply(this,arguments)}finally{p=P}}}})(D2);I2.exports=D2;var Qw=I2.exports,z2={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zw=ee;function U2(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function hi(){}var Xt={d:{f:hi,r:function(){throw Error(U2(522))},D:hi,C:hi,L:hi,m:hi,X:hi,S:hi,M:hi},p:0,findDOMNode:null},ex=Symbol.for("react.portal");function tx(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ex,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var Ro=Zw.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function t0(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Xt;Zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(U2(299));return tx(t,e,null,n)};Zt.flushSync=function(t){var e=Ro.T,n=Xt.p;try{if(Ro.T=null,Xt.p=2,t)return t()}finally{Ro.T=e,Xt.p=n,Xt.d.f()}};Zt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Xt.d.C(t,e))};Zt.prefetchDNS=function(t){typeof t=="string"&&Xt.d.D(t)};Zt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=t0(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Xt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Xt.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Zt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=t0(e.as,e.crossOrigin);Xt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Xt.d.M(t)};Zt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=t0(n,e.crossOrigin);Xt.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Zt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=t0(e.as,e.crossOrigin);Xt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Xt.d.m(t)};Zt.requestFormReset=function(t){Xt.d.r(t)};Zt.unstable_batchedUpdates=function(t,e){return t(e)};Zt.useFormState=function(t,e,n){return Ro.H.useFormState(t,e,n)};Zt.useFormStatus=function(){return Ro.H.useHostTransitionStatus()};Zt.version="19.2.3";function O2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O2)}catch(t){console.error(t)}}O2(),z2.exports=Zt;var nx=z2.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kt=Qw,L2=ee,rx=nx;function $(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function P2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function El(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function B2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function q2(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o1(t){if(El(t)!==t)throw Error($(188))}function ix(t){var e=t.alternate;if(!e){if(e=El(t),e===null)throw Error($(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return o1(i),t;if(a===r)return o1(i),e;a=a.sibling}throw Error($(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?t:e}function H2(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=H2(t),e!==null)return e;t=t.sibling}return null}var tt=Object.assign,ax=Symbol.for("react.element"),Vl=Symbol.for("react.transitional.element"),So=Symbol.for("react.portal"),as=Symbol.for("react.fragment"),F2=Symbol.for("react.strict_mode"),ch=Symbol.for("react.profiler"),G2=Symbol.for("react.consumer"),Vr=Symbol.for("react.context"),lp=Symbol.for("react.forward_ref"),dh=Symbol.for("react.suspense"),hh=Symbol.for("react.suspense_list"),up=Symbol.for("react.memo"),vi=Symbol.for("react.lazy"),fh=Symbol.for("react.activity"),sx=Symbol.for("react.memo_cache_sentinel"),l1=Symbol.iterator;function uo(t){return t===null||typeof t!="object"?null:(t=l1&&t[l1]||t["@@iterator"],typeof t=="function"?t:null)}var ox=Symbol.for("react.client.reference");function ph(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===ox?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case as:return"Fragment";case ch:return"Profiler";case F2:return"StrictMode";case dh:return"Suspense";case hh:return"SuspenseList";case fh:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case So:return"Portal";case Vr:return t.displayName||"Context";case G2:return(t._context.displayName||"Context")+".Consumer";case lp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case up:return e=t.displayName||null,e!==null?e:ph(t.type)||"Memo";case vi:e=t._payload,t=t._init;try{return ph(t(e))}catch{}}return null}var _o=Array.isArray,ge=L2.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Le=rx.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,wa={pending:!1,data:null,method:null,action:null},mh=[],ss=-1;function Ar(t){return{current:t}}function Dt(t){0>ss||(t.current=mh[ss],mh[ss]=null,ss--)}function Xe(t,e){ss++,mh[ss]=t.current,t.current=e}var Tr=Ar(null),Qo=Ar(null),Oi=Ar(null),nc=Ar(null);function rc(t,e){switch(Xe(Oi,e),Xe(Qo,t),Xe(Tr,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?pg(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=pg(e),t=u6(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Dt(Tr),Xe(Tr,t)}function zs(){Dt(Tr),Dt(Qo),Dt(Oi)}function gh(t){t.memoizedState!==null&&Xe(nc,t);var e=Tr.current,n=u6(e,t.type);e!==n&&(Xe(Qo,t),Xe(Tr,n))}function ic(t){Qo.current===t&&(Dt(Tr),Dt(Qo)),nc.current===t&&(Dt(nc),ul._currentValue=wa)}var q0,u1;function ca(t){if(q0===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);q0=e&&e[1]||"",u1=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+q0+t+u1}var H0=!1;function F0(t,e){if(!t||H0)return"";H0=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var p=m}Reflect.construct(t,[],f)}else{try{f.call()}catch(m){p=m}t.call(f.prototype)}}else{try{throw Error()}catch(m){p=m}(f=t())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&p&&typeof m.stack=="string")return[m.stack,p.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],o=a[1];if(s&&o){var l=s.split(`
`),u=o.split(`
`);for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<u.length&&!u[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===u.length)for(r=l.length-1,i=u.length-1;1<=r&&0<=i&&l[r]!==u[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==u[i]){if(r!==1||i!==1)do if(r--,i--,0>i||l[r]!==u[i]){var c=`
`+l[r].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=r&&0<=i);break}}}finally{H0=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?ca(n):""}function lx(t,e){switch(t.tag){case 26:case 27:case 5:return ca(t.type);case 16:return ca("Lazy");case 13:return t.child!==e&&e!==null?ca("Suspense Fallback"):ca("Suspense");case 19:return ca("SuspenseList");case 0:case 15:return F0(t.type,!1);case 11:return F0(t.type.render,!1);case 1:return F0(t.type,!0);case 31:return ca("Activity");default:return""}}function c1(t){try{var e="",n=null;do e+=lx(t,n),n=t,t=t.return;while(t);return e}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var yh=Object.prototype.hasOwnProperty,cp=kt.unstable_scheduleCallback,G0=kt.unstable_cancelCallback,ux=kt.unstable_shouldYield,cx=kt.unstable_requestPaint,Rn=kt.unstable_now,dx=kt.unstable_getCurrentPriorityLevel,V2=kt.unstable_ImmediatePriority,$2=kt.unstable_UserBlockingPriority,ac=kt.unstable_NormalPriority,hx=kt.unstable_LowPriority,Y2=kt.unstable_IdlePriority,fx=kt.log,px=kt.unstable_setDisableYieldValue,Al=null,Mn=null;function Ci(t){if(typeof fx=="function"&&px(t),Mn&&typeof Mn.setStrictMode=="function")try{Mn.setStrictMode(Al,t)}catch{}}var In=Math.clz32?Math.clz32:yx,mx=Math.log,gx=Math.LN2;function yx(t){return t>>>=0,t===0?32:31-(mx(t)/gx|0)|0}var $l=256,Yl=262144,Kl=4194304;function da(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function n0(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var o=r&134217727;return o!==0?(r=o&~a,r!==0?i=da(r):(s&=o,s!==0?i=da(s):n||(n=o&~t,n!==0&&(i=da(n))))):(o=r&~a,o!==0?i=da(o):s!==0?i=da(s):n||(n=r&~t,n!==0&&(i=da(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function Cl(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function vx(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function K2(){var t=Kl;return Kl<<=1,!(Kl&62914560)&&(Kl=4194304),t}function V0(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bx(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var o=t.entanglements,l=t.expirationTimes,u=t.hiddenUpdates;for(n=s&~n;0<n;){var c=31-In(n),f=1<<c;o[c]=0,l[c]=-1;var p=u[c];if(p!==null)for(u[c]=null,c=0;c<p.length;c++){var m=p[c];m!==null&&(m.lane&=-536870913)}n&=~f}r!==0&&J2(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function J2(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-In(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&261930}function j2(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-In(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function X2(t,e){var n=e&-e;return n=n&42?1:dp(n),n&(t.suspendedLanes|e)?0:n}function dp(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function hp(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function W2(){var t=Le.p;return t!==0?t:(t=window.event,t===void 0?32:w6(t.type))}function d1(t,e){var n=Le.p;try{return Le.p=t,e()}finally{Le.p=n}}var Qi=Math.random().toString(36).slice(2),qt="__reactFiber$"+Qi,pn="__reactProps$"+Qi,Ks="__reactContainer$"+Qi,vh="__reactEvents$"+Qi,wx="__reactListeners$"+Qi,xx="__reactHandles$"+Qi,h1="__reactResources$"+Qi,Nl="__reactMarker$"+Qi;function fp(t){delete t[qt],delete t[pn],delete t[vh],delete t[wx],delete t[xx]}function os(t){var e=t[qt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ks]||n[qt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bg(t);t!==null;){if(n=t[qt])return n;t=bg(t)}return e}t=n,n=t.parentNode}return null}function Js(t){if(t=t[qt]||t[Ks]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function To(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error($(33))}function ws(t){var e=t[h1];return e||(e=t[h1]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function It(t){t[Nl]=!0}var Q2=new Set,Z2={};function Ra(t,e){Us(t,e),Us(t+"Capture",e)}function Us(t,e){for(Z2[t]=e,t=0;t<e.length;t++)Q2.add(e[t])}var Sx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),f1={},p1={};function _x(t){return yh.call(p1,t)?!0:yh.call(f1,t)?!1:Sx.test(t)?p1[t]=!0:(f1[t]=!0,!1)}function Du(t,e,n){if(_x(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Jl(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function zr(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}function qn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function e5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Tx(t,e,n){var r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,a=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bh(t){if(!t._valueTracker){var e=e5(t)?"checked":"value";t._valueTracker=Tx(t,e,""+t[e])}}function t5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=e5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ex=/[\n"\\]/g;function Vn(t){return t.replace(Ex,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function wh(t,e,n,r,i,a,s,o){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+qn(e)):t.value!==""+qn(e)&&(t.value=""+qn(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?xh(t,s,qn(e)):n!=null?xh(t,s,qn(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?t.name=""+qn(o):t.removeAttribute("name")}function n5(t,e,n,r,i,a,s,o){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null)){bh(t);return}n=n!=null?""+qn(n):"",e=e!=null?""+qn(e):n,o||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=o?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s),bh(t)}function xh(t,e,n){e==="number"&&sc(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function xs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function r5(t,e,n){if(e!=null&&(e=""+qn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+qn(n):""}function i5(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error($(92));if(_o(r)){if(1<r.length)throw Error($(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=qn(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r),bh(t)}function Os(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ax=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function m1(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||Ax.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function a5(t,e,n){if(e!=null&&typeof e!="object")throw Error($(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&m1(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&m1(t,a,e[a])}function pp(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Cx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),kx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zu(t){return kx.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $r(){}var Sh=null;function mp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ls=null,Ss=null;function g1(t){var e=Js(t);if(e&&(t=e.stateNode)){var n=t[pn]||null;e:switch(t=e.stateNode,e.type){case"input":if(wh(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Vn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[pn]||null;if(!i)throw Error($(90));wh(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&t5(r)}break e;case"textarea":r5(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&xs(t,!!n.multiple,e,!1)}}}var $0=!1;function s5(t,e,n){if($0)return t(e,n);$0=!0;try{var r=t(e);return r}finally{if($0=!1,(ls!==null||Ss!==null)&&(p0(),ls&&(e=ls,t=Ss,Ss=ls=null,g1(e),t)))for(e=0;e<t.length;e++)g1(t[e])}}function Zo(t,e){var n=t.stateNode;if(n===null)return null;var r=n[pn]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($(231,e,typeof n));return n}var Qr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_h=!1;if(Qr)try{var co={};Object.defineProperty(co,"passive",{get:function(){_h=!0}}),window.addEventListener("test",co,co),window.removeEventListener("test",co,co)}catch{_h=!1}var ki=null,gp=null,Uu=null;function o5(){if(Uu)return Uu;var t,e=gp,n=e.length,r,i="value"in ki?ki.value:ki.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Uu=i.slice(t,1<r?1-r:void 0)}function Ou(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jl(){return!0}function y1(){return!1}function mn(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?jl:y1,this.isPropagationStopped=y1,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),e}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r0=mn(Ma),Rl=tt({},Ma,{view:0,detail:0}),Nx=mn(Rl),Y0,K0,ho,i0=tt({},Rl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ho&&(ho&&t.type==="mousemove"?(Y0=t.screenX-ho.screenX,K0=t.screenY-ho.screenY):K0=Y0=0,ho=t),Y0)},movementY:function(t){return"movementY"in t?t.movementY:K0}}),v1=mn(i0),Rx=tt({},i0,{dataTransfer:0}),Mx=mn(Rx),Ix=tt({},Rl,{relatedTarget:0}),J0=mn(Ix),Dx=tt({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),zx=mn(Dx),Ux=tt({},Ma,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ox=mn(Ux),Lx=tt({},Ma,{data:0}),b1=mn(Lx),Px={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qx[t])?!!e[t]:!1}function yp(){return Hx}var Fx=tt({},Rl,{key:function(t){if(t.key){var e=Px[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ou(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yp,charCode:function(t){return t.type==="keypress"?Ou(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ou(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Gx=mn(Fx),Vx=tt({},i0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w1=mn(Vx),$x=tt({},Rl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yp}),Yx=mn($x),Kx=tt({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),Jx=mn(Kx),jx=tt({},i0,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Xx=mn(jx),Wx=tt({},Ma,{newState:0,oldState:0}),Qx=mn(Wx),Zx=[9,13,27,32],vp=Qr&&"CompositionEvent"in window,Mo=null;Qr&&"documentMode"in document&&(Mo=document.documentMode);var e8=Qr&&"TextEvent"in window&&!Mo,l5=Qr&&(!vp||Mo&&8<Mo&&11>=Mo),x1=" ",S1=!1;function u5(t,e){switch(t){case"keyup":return Zx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function c5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var us=!1;function t8(t,e){switch(t){case"compositionend":return c5(e);case"keypress":return e.which!==32?null:(S1=!0,x1);case"textInput":return t=e.data,t===x1&&S1?null:t;default:return null}}function n8(t,e){if(us)return t==="compositionend"||!vp&&u5(t,e)?(t=o5(),Uu=gp=ki=null,us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return l5&&e.locale!=="ko"?null:e.data;default:return null}}var r8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!r8[t.type]:e==="textarea"}function d5(t,e,n,r){ls?Ss?Ss.push(r):Ss=[r]:ls=r,e=Tc(e,"onChange"),0<e.length&&(n=new r0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Io=null,el=null;function i8(t){s6(t,0)}function a0(t){var e=To(t);if(t5(e))return t}function T1(t,e){if(t==="change")return e}var h5=!1;if(Qr){var j0;if(Qr){var X0="oninput"in document;if(!X0){var E1=document.createElement("div");E1.setAttribute("oninput","return;"),X0=typeof E1.oninput=="function"}j0=X0}else j0=!1;h5=j0&&(!document.documentMode||9<document.documentMode)}function A1(){Io&&(Io.detachEvent("onpropertychange",f5),el=Io=null)}function f5(t){if(t.propertyName==="value"&&a0(el)){var e=[];d5(e,el,t,mp(t)),s5(i8,e)}}function a8(t,e,n){t==="focusin"?(A1(),Io=e,el=n,Io.attachEvent("onpropertychange",f5)):t==="focusout"&&A1()}function s8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return a0(el)}function o8(t,e){if(t==="click")return a0(e)}function l8(t,e){if(t==="input"||t==="change")return a0(e)}function u8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Un=typeof Object.is=="function"?Object.is:u8;function tl(t,e){if(Un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yh.call(e,i)||!Un(t[i],e[i]))return!1}return!0}function C1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function k1(t,e){var n=C1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=C1(n)}}function p5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?p5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function m5(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=sc(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sc(t.document)}return e}function bp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var c8=Qr&&"documentMode"in document&&11>=document.documentMode,cs=null,Th=null,Do=null,Eh=!1;function N1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Eh||cs==null||cs!==sc(r)||(r=cs,"selectionStart"in r&&bp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Do&&tl(Do,r)||(Do=r,r=Tc(Th,"onSelect"),0<r.length&&(e=new r0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=cs)))}function aa(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ds={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},W0={},g5={};Qr&&(g5=document.createElement("div").style,"AnimationEvent"in window||(delete ds.animationend.animation,delete ds.animationiteration.animation,delete ds.animationstart.animation),"TransitionEvent"in window||delete ds.transitionend.transition);function Ia(t){if(W0[t])return W0[t];if(!ds[t])return t;var e=ds[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in g5)return W0[t]=e[n];return t}var y5=Ia("animationend"),v5=Ia("animationiteration"),b5=Ia("animationstart"),d8=Ia("transitionrun"),h8=Ia("transitionstart"),f8=Ia("transitioncancel"),w5=Ia("transitionend"),x5=new Map,Ah="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ah.push("scrollEnd");function hr(t,e){x5.set(t,e),Ra(e,[t])}var oc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Bn=[],hs=0,wp=0;function s0(){for(var t=hs,e=wp=hs=0;e<t;){var n=Bn[e];Bn[e++]=null;var r=Bn[e];Bn[e++]=null;var i=Bn[e];Bn[e++]=null;var a=Bn[e];if(Bn[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&S5(n,i,a)}}function o0(t,e,n,r){Bn[hs++]=t,Bn[hs++]=e,Bn[hs++]=n,Bn[hs++]=r,wp|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function xp(t,e,n,r){return o0(t,e,n,r),lc(t)}function Da(t,e){return o0(t,null,null,e),lc(t)}function S5(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-In(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function lc(t){if(50<Fo)throw Fo=0,Kh=null,Error($(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var fs={};function p8(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,e,n,r){return new p8(t,e,n,r)}function Sp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Kr(t,e){var n=t.alternate;return n===null?(n=Tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function _5(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Lu(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")Sp(t)&&(s=1);else if(typeof t=="string")s=bS(t,n,Tr.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case fh:return t=Tn(31,n,e,i),t.elementType=fh,t.lanes=a,t;case as:return xa(n.children,i,a,e);case F2:s=8,i|=24;break;case ch:return t=Tn(12,n,e,i|2),t.elementType=ch,t.lanes=a,t;case dh:return t=Tn(13,n,e,i),t.elementType=dh,t.lanes=a,t;case hh:return t=Tn(19,n,e,i),t.elementType=hh,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vr:s=10;break e;case G2:s=9;break e;case lp:s=11;break e;case up:s=14;break e;case vi:s=16,r=null;break e}s=29,n=Error($(130,t===null?"null":typeof t,"")),r=null}return e=Tn(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function xa(t,e,n,r){return t=Tn(7,t,r,e),t.lanes=n,t}function Q0(t,e,n){return t=Tn(6,t,null,e),t.lanes=n,t}function T5(t){var e=Tn(18,null,null,0);return e.stateNode=t,e}function Z0(t,e,n){return e=Tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var R1=new WeakMap;function $n(t,e){if(typeof t=="object"&&t!==null){var n=R1.get(t);return n!==void 0?n:(e={value:t,source:e,stack:c1(e)},R1.set(t,e),e)}return{value:t,source:e,stack:c1(e)}}var ps=[],ms=0,uc=null,nl=0,Hn=[],Fn=0,$i=null,br=1,wr="";function Hr(t,e){ps[ms++]=nl,ps[ms++]=uc,uc=t,nl=e}function E5(t,e,n){Hn[Fn++]=br,Hn[Fn++]=wr,Hn[Fn++]=$i,$i=t;var r=br;t=wr;var i=32-In(r)-1;r&=~(1<<i),n+=1;var a=32-In(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,br=1<<32-In(e)+i|n<<i|r,wr=a+t}else br=1<<a|n<<i|r,wr=t}function _p(t){t.return!==null&&(Hr(t,1),E5(t,1,0))}function Tp(t){for(;t===uc;)uc=ps[--ms],ps[ms]=null,nl=ps[--ms],ps[ms]=null;for(;t===$i;)$i=Hn[--Fn],Hn[Fn]=null,wr=Hn[--Fn],Hn[Fn]=null,br=Hn[--Fn],Hn[Fn]=null}function A5(t,e){Hn[Fn++]=br,Hn[Fn++]=wr,Hn[Fn++]=$i,br=e.id,wr=e.overflow,$i=t}var Ht=null,Ze=null,Ne=!1,Li=null,Yn=!1,Ch=Error($(519));function Yi(t){var e=Error($(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl($n(e,t)),Ch}function M1(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[qt]=t,e[pn]=r,n){case"dialog":Ee("cancel",e),Ee("close",e);break;case"iframe":case"object":case"embed":Ee("load",e);break;case"video":case"audio":for(n=0;n<ol.length;n++)Ee(ol[n],e);break;case"source":Ee("error",e);break;case"img":case"image":case"link":Ee("error",e),Ee("load",e);break;case"details":Ee("toggle",e);break;case"input":Ee("invalid",e),n5(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":Ee("invalid",e);break;case"textarea":Ee("invalid",e),i5(e,r.value,r.defaultValue,r.children)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||l6(e.textContent,n)?(r.popover!=null&&(Ee("beforetoggle",e),Ee("toggle",e)),r.onScroll!=null&&Ee("scroll",e),r.onScrollEnd!=null&&Ee("scrollend",e),r.onClick!=null&&(e.onclick=$r),e=!0):e=!1,e||Yi(t,!0)}function I1(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Yn=!1;return;case 27:case 3:Yn=!0;return;default:Ht=Ht.return}}function qa(t){if(t!==Ht)return!1;if(!Ne)return I1(t),Ne=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||Qh(t.type,t.memoizedProps)),n=!n),n&&Ze&&Yi(t),I1(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));Ze=vg(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(317));Ze=vg(t)}else e===27?(e=Ze,Zi(t.type)?(t=nf,nf=null,Ze=t):Ze=e):Ze=Ht?jn(t.stateNode.nextSibling):null;return!0}function Ea(){Ze=Ht=null,Ne=!1}function ed(){var t=Li;return t!==null&&(cn===null?cn=t:cn.push.apply(cn,t),Li=null),t}function rl(t){Li===null?Li=[t]:Li.push(t)}var kh=Ar(null),za=null,Yr=null;function Si(t,e,n){Xe(kh,e._currentValue),e._currentValue=n}function Jr(t){t._currentValue=kh.current,Dt(kh)}function Nh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Rh(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var o=a;a=i;for(var l=0;l<e.length;l++)if(o.context===e[l]){a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),Nh(a.return,n,t),r||(s=null);break e}a=o.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error($(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Nh(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function js(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error($(387));if(s=s.memoizedProps,s!==null){var o=i.type;Un(i.pendingProps.value,s.value)||(t!==null?t.push(o):t=[o])}}else if(i===nc.current){if(s=i.alternate,s===null)throw Error($(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(ul):t=[ul])}i=i.return}t!==null&&Rh(e,t,n,r),e.flags|=262144}function cc(t){for(t=t.firstContext;t!==null;){if(!Un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Aa(t){za=t,Yr=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ft(t){return C5(za,t)}function Xl(t,e){return za===null&&Aa(t),C5(t,e)}function C5(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Yr===null){if(t===null)throw Error($(308));Yr=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Yr=Yr.next=e;return n}var m8=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},g8=kt.unstable_scheduleCallback,y8=kt.unstable_NormalPriority,_t={$$typeof:Vr,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ep(){return{controller:new m8,data:new Map,refCount:0}}function Ml(t){t.refCount--,t.refCount===0&&g8(y8,function(){t.controller.abort()})}var zo=null,Mh=0,Ls=0,_s=null;function v8(t,e){if(zo===null){var n=zo=[];Mh=0,Ls=Xp(),_s={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Mh++,e.then(D1,D1),e}function D1(){if(--Mh===0&&zo!==null){_s!==null&&(_s.status="fulfilled");var t=zo;zo=null,Ls=0,_s=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function b8(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var z1=ge.S;ge.S=function(t,e){H3=Rn(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&v8(t,e),z1!==null&&z1(t,e)};var Sa=Ar(null);function Ap(){var t=Sa.current;return t!==null?t:Ye.pooledCache}function Pu(t,e){e===null?Xe(Sa,Sa.current):Xe(Sa,e.pool)}function k5(){var t=Ap();return t===null?null:{parent:_t._currentValue,pool:t}}var Xs=Error($(460)),Cp=Error($(474)),l0=Error($(542)),dc={then:function(){}};function U1(t){return t=t.status,t==="fulfilled"||t==="rejected"}function N5(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then($r,$r),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,L1(t),t;default:if(typeof e.status=="string")e.then($r,$r);else{if(t=Ye,t!==null&&100<t.shellSuspendCounter)throw Error($(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,L1(t),t}throw _a=e,Xs}}function ha(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(_a=n,Xs):n}}var _a=null;function O1(){if(_a===null)throw Error($(459));var t=_a;return _a=null,t}function L1(t){if(t===Xs||t===l0)throw Error($(483))}var Ts=null,il=0;function Wl(t){var e=il;return il+=1,Ts===null&&(Ts=[]),N5(Ts,t,e)}function fo(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ql(t,e){throw e.$$typeof===ax?Error($(525)):(t=Object.prototype.toString.call(e),Error($(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function R5(t){function e(b,S){if(t){var _=b.deletions;_===null?(b.deletions=[S],b.flags|=16):_.push(S)}}function n(b,S){if(!t)return null;for(;S!==null;)e(b,S),S=S.sibling;return null}function r(b){for(var S=new Map;b!==null;)b.key!==null?S.set(b.key,b):S.set(b.index,b),b=b.sibling;return S}function i(b,S){return b=Kr(b,S),b.index=0,b.sibling=null,b}function a(b,S,_){return b.index=_,t?(_=b.alternate,_!==null?(_=_.index,_<S?(b.flags|=67108866,S):_):(b.flags|=67108866,S)):(b.flags|=1048576,S)}function s(b){return t&&b.alternate===null&&(b.flags|=67108866),b}function o(b,S,_,C){return S===null||S.tag!==6?(S=Q0(_,b.mode,C),S.return=b,S):(S=i(S,_),S.return=b,S)}function l(b,S,_,C){var I=_.type;return I===as?c(b,S,_.props.children,C,_.key):S!==null&&(S.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===vi&&ha(I)===S.type)?(S=i(S,_.props),fo(S,_),S.return=b,S):(S=Lu(_.type,_.key,_.props,null,b.mode,C),fo(S,_),S.return=b,S)}function u(b,S,_,C){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=Z0(_,b.mode,C),S.return=b,S):(S=i(S,_.children||[]),S.return=b,S)}function c(b,S,_,C,I){return S===null||S.tag!==7?(S=xa(_,b.mode,C,I),S.return=b,S):(S=i(S,_),S.return=b,S)}function f(b,S,_){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Q0(""+S,b.mode,_),S.return=b,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Vl:return _=Lu(S.type,S.key,S.props,null,b.mode,_),fo(_,S),_.return=b,_;case So:return S=Z0(S,b.mode,_),S.return=b,S;case vi:return S=ha(S),f(b,S,_)}if(_o(S)||uo(S))return S=xa(S,b.mode,_,null),S.return=b,S;if(typeof S.then=="function")return f(b,Wl(S),_);if(S.$$typeof===Vr)return f(b,Xl(b,S),_);Ql(b,S)}return null}function p(b,S,_,C){var I=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return I!==null?null:o(b,S,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Vl:return _.key===I?l(b,S,_,C):null;case So:return _.key===I?u(b,S,_,C):null;case vi:return _=ha(_),p(b,S,_,C)}if(_o(_)||uo(_))return I!==null?null:c(b,S,_,C,null);if(typeof _.then=="function")return p(b,S,Wl(_),C);if(_.$$typeof===Vr)return p(b,S,Xl(b,_),C);Ql(b,_)}return null}function m(b,S,_,C,I){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return b=b.get(_)||null,o(S,b,""+C,I);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Vl:return b=b.get(C.key===null?_:C.key)||null,l(S,b,C,I);case So:return b=b.get(C.key===null?_:C.key)||null,u(S,b,C,I);case vi:return C=ha(C),m(b,S,_,C,I)}if(_o(C)||uo(C))return b=b.get(_)||null,c(S,b,C,I,null);if(typeof C.then=="function")return m(b,S,_,Wl(C),I);if(C.$$typeof===Vr)return m(b,S,_,Xl(S,C),I);Ql(S,C)}return null}function y(b,S,_,C){for(var I=null,k=null,D=S,B=S=0,O=null;D!==null&&B<_.length;B++){D.index>B?(O=D,D=null):O=D.sibling;var F=p(b,D,_[B],C);if(F===null){D===null&&(D=O);break}t&&D&&F.alternate===null&&e(b,D),S=a(F,S,B),k===null?I=F:k.sibling=F,k=F,D=O}if(B===_.length)return n(b,D),Ne&&Hr(b,B),I;if(D===null){for(;B<_.length;B++)D=f(b,_[B],C),D!==null&&(S=a(D,S,B),k===null?I=D:k.sibling=D,k=D);return Ne&&Hr(b,B),I}for(D=r(D);B<_.length;B++)O=m(D,b,B,_[B],C),O!==null&&(t&&O.alternate!==null&&D.delete(O.key===null?B:O.key),S=a(O,S,B),k===null?I=O:k.sibling=O,k=O);return t&&D.forEach(function(Y){return e(b,Y)}),Ne&&Hr(b,B),I}function w(b,S,_,C){if(_==null)throw Error($(151));for(var I=null,k=null,D=S,B=S=0,O=null,F=_.next();D!==null&&!F.done;B++,F=_.next()){D.index>B?(O=D,D=null):O=D.sibling;var Y=p(b,D,F.value,C);if(Y===null){D===null&&(D=O);break}t&&D&&Y.alternate===null&&e(b,D),S=a(Y,S,B),k===null?I=Y:k.sibling=Y,k=Y,D=O}if(F.done)return n(b,D),Ne&&Hr(b,B),I;if(D===null){for(;!F.done;B++,F=_.next())F=f(b,F.value,C),F!==null&&(S=a(F,S,B),k===null?I=F:k.sibling=F,k=F);return Ne&&Hr(b,B),I}for(D=r(D);!F.done;B++,F=_.next())F=m(D,b,B,F.value,C),F!==null&&(t&&F.alternate!==null&&D.delete(F.key===null?B:F.key),S=a(F,S,B),k===null?I=F:k.sibling=F,k=F);return t&&D.forEach(function(J){return e(b,J)}),Ne&&Hr(b,B),I}function E(b,S,_,C){if(typeof _=="object"&&_!==null&&_.type===as&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Vl:e:{for(var I=_.key;S!==null;){if(S.key===I){if(I=_.type,I===as){if(S.tag===7){n(b,S.sibling),C=i(S,_.props.children),C.return=b,b=C;break e}}else if(S.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===vi&&ha(I)===S.type){n(b,S.sibling),C=i(S,_.props),fo(C,_),C.return=b,b=C;break e}n(b,S);break}else e(b,S);S=S.sibling}_.type===as?(C=xa(_.props.children,b.mode,C,_.key),C.return=b,b=C):(C=Lu(_.type,_.key,_.props,null,b.mode,C),fo(C,_),C.return=b,b=C)}return s(b);case So:e:{for(I=_.key;S!==null;){if(S.key===I)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){n(b,S.sibling),C=i(S,_.children||[]),C.return=b,b=C;break e}else{n(b,S);break}else e(b,S);S=S.sibling}C=Z0(_,b.mode,C),C.return=b,b=C}return s(b);case vi:return _=ha(_),E(b,S,_,C)}if(_o(_))return y(b,S,_,C);if(uo(_)){if(I=uo(_),typeof I!="function")throw Error($(150));return _=I.call(_),w(b,S,_,C)}if(typeof _.then=="function")return E(b,S,Wl(_),C);if(_.$$typeof===Vr)return E(b,S,Xl(b,_),C);Ql(b,_)}return typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint"?(_=""+_,S!==null&&S.tag===6?(n(b,S.sibling),C=i(S,_),C.return=b,b=C):(n(b,S),C=Q0(_,b.mode,C),C.return=b,b=C),s(b)):n(b,S)}return function(b,S,_,C){try{il=0;var I=E(b,S,_,C);return Ts=null,I}catch(D){if(D===Xs||D===l0)throw D;var k=Tn(29,D,null,b.mode);return k.lanes=C,k.return=b,k}finally{}}}var Ca=R5(!0),M5=R5(!1),bi=!1;function kp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ih(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Pi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=lc(t),S5(t,null,n),e}return o0(t,r,e,n),lc(t)}function Uo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,j2(t,n)}}function td(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Dh=!1;function Oo(){if(Dh){var t=_s;if(t!==null)throw t}}function Lo(t,e,n,r){Dh=!1;var i=t.updateQueue;bi=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,s===null?a=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==s&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;s=0,c=u=l=null,o=a;do{var p=o.lane&-536870913,m=p!==o.lane;if(m?(Ce&p)===p:(r&p)===p){p!==0&&p===Ls&&(Dh=!0),c!==null&&(c=c.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var y=t,w=o;p=e;var E=n;switch(w.tag){case 1:if(y=w.payload,typeof y=="function"){f=y.call(E,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,p=typeof y=="function"?y.call(E,f,p):y,p==null)break e;f=tt({},f,p);break e;case 2:bi=!0}}p=o.callback,p!==null&&(t.flags|=64,m&&(t.flags|=8192),m=i.callbacks,m===null?i.callbacks=[p]:m.push(p))}else m={lane:p,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,s|=p;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,a===null&&(i.shared.lanes=0),Ji|=s,t.lanes=s,t.memoizedState=f}}function I5(t,e){if(typeof t!="function")throw Error($(191,t));t.call(e)}function D5(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)I5(n[t],e)}var Ps=Ar(null),hc=Ar(0);function P1(t,e){t=ni,Xe(hc,t),Xe(Ps,e),ni=t|e.baseLanes}function zh(){Xe(hc,ni),Xe(Ps,Ps.current)}function Np(){ni=hc.current,Dt(Ps),Dt(hc)}var On=Ar(null),Jn=null;function _i(t){var e=t.alternate;Xe(gt,gt.current&1),Xe(On,t),Jn===null&&(e===null||Ps.current!==null||e.memoizedState!==null)&&(Jn=t)}function Uh(t){Xe(gt,gt.current),Xe(On,t),Jn===null&&(Jn=t)}function z5(t){t.tag===22?(Xe(gt,gt.current),Xe(On,t),Jn===null&&(Jn=t)):Ti()}function Ti(){Xe(gt,gt.current),Xe(On,On.current)}function _n(t){Dt(On),Jn===t&&(Jn=null),Dt(gt)}var gt=Ar(0);function fc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||ef(n)||tf(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Zr=0,Se=null,Ve=null,xt=null,pc=!1,Es=!1,ka=!1,mc=0,al=0,As=null,w8=0;function ht(){throw Error($(321))}function Rp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Un(t[n],e[n]))return!1;return!0}function Mp(t,e,n,r,i,a){return Zr=a,Se=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ge.H=t===null||t.memoizedState===null?d3:Fp,ka=!1,a=n(r,i),ka=!1,Es&&(a=O5(e,n,r,i)),U5(t),a}function U5(t){ge.H=sl;var e=Ve!==null&&Ve.next!==null;if(Zr=0,xt=Ve=Se=null,pc=!1,al=0,As=null,e)throw Error($(300));t===null||Tt||(t=t.dependencies,t!==null&&cc(t)&&(Tt=!0))}function O5(t,e,n,r){Se=t;var i=0;do{if(Es&&(As=null),al=0,Es=!1,25<=i)throw Error($(301));if(i+=1,xt=Ve=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}ge.H=h3,a=e(n,r)}while(Es);return a}function x8(){var t=ge.H,e=t.useState()[0];return e=typeof e.then=="function"?Il(e):e,t=t.useState()[0],(Ve!==null?Ve.memoizedState:null)!==t&&(Se.flags|=1024),e}function Ip(){var t=mc!==0;return mc=0,t}function Dp(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function zp(t){if(pc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}pc=!1}Zr=0,xt=Ve=Se=null,Es=!1,al=mc=0,As=null}function Jt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Se.memoizedState=xt=t:xt=xt.next=t,xt}function vt(){if(Ve===null){var t=Se.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var e=xt===null?Se.memoizedState:xt.next;if(e!==null)xt=e,Ve=t;else{if(t===null)throw Se.alternate===null?Error($(467)):Error($(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},xt===null?Se.memoizedState=xt=t:xt=xt.next=t}return xt}function u0(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Il(t){var e=al;return al+=1,As===null&&(As=[]),t=N5(As,t,e),e=Se,(xt===null?e.memoizedState:xt.next)===null&&(e=e.alternate,ge.H=e===null||e.memoizedState===null?d3:Fp),t}function c0(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Il(t);if(t.$$typeof===Vr)return Ft(t)}throw Error($(438,String(t)))}function Up(t){var e=null,n=Se.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=Se.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=u0(),Se.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=sx;return e.index++,n}function ei(t,e){return typeof e=="function"?e(t):e}function Bu(t){var e=vt();return Op(e,Ve,t)}function Op(t,e,n){var r=t.queue;if(r===null)throw Error($(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var o=s=null,l=null,u=e,c=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(Ce&f)===f:(Zr&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Ls&&(c=!0);else if((Zr&p)===p){u=u.next,p===Ls&&(c=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=f,s=a):l=l.next=f,Se.lanes|=p,Ji|=p;f=u.action,ka&&n(a,f),a=u.hasEagerState?u.eagerState:n(a,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(o=l=p,s=a):l=l.next=p,Se.lanes|=f,Ji|=f;u=u.next}while(u!==null&&u!==e);if(l===null?s=a:l.next=o,!Un(a,t.memoizedState)&&(Tt=!0,c&&(n=_s,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=l,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function nd(t){var e=vt(),n=e.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);Un(a,e.memoizedState)||(Tt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function L5(t,e,n){var r=Se,i=vt(),a=Ne;if(a){if(n===void 0)throw Error($(407));n=n()}else n=e();var s=!Un((Ve||i).memoizedState,n);if(s&&(i.memoizedState=n,Tt=!0),i=i.queue,Lp(q5.bind(null,r,i,t),[t]),i.getSnapshot!==e||s||xt!==null&&xt.memoizedState.tag&1){if(r.flags|=2048,Bs(9,{destroy:void 0},B5.bind(null,r,i,n,e),null),Ye===null)throw Error($(349));a||Zr&127||P5(r,e,n)}return n}function P5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Se.updateQueue,e===null?(e=u0(),Se.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function B5(t,e,n,r){e.value=n,e.getSnapshot=r,H5(e)&&F5(t)}function q5(t,e,n){return n(function(){H5(e)&&F5(t)})}function H5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Un(t,n)}catch{return!0}}function F5(t){var e=Da(t,2);e!==null&&hn(e,t,2)}function Oh(t){var e=Jt();if(typeof t=="function"){var n=t;if(t=n(),ka){Ci(!0);try{n()}finally{Ci(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:t},e}function G5(t,e,n,r){return t.baseState=n,Op(t,Ve,typeof r=="function"?r:ei)}function S8(t,e,n,r,i){if(h0(t))throw Error($(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};ge.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,V5(e,a)):(a.next=n.next,e.pending=n.next=a)}}function V5(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=ge.T,s={};ge.T=s;try{var o=n(i,r),l=ge.S;l!==null&&l(s,o),B1(t,e,o)}catch(u){Lh(t,e,u)}finally{a!==null&&s.types!==null&&(a.types=s.types),ge.T=a}}else try{a=n(i,r),B1(t,e,a)}catch(u){Lh(t,e,u)}}function B1(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){q1(t,e,r)},function(r){return Lh(t,e,r)}):q1(t,e,n)}function q1(t,e,n){e.status="fulfilled",e.value=n,$5(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,V5(t,n)))}function Lh(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,$5(e),e=e.next;while(e!==r)}t.action=null}function $5(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function Y5(t,e){return e}function H1(t,e){if(Ne){var n=Ye.formState;if(n!==null){e:{var r=Se;if(Ne){if(Ze){t:{for(var i=Ze,a=Yn;i.nodeType!==8;){if(!a){i=null;break t}if(i=jn(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){Ze=jn(i.nextSibling),r=i.data==="F!";break e}}Yi(r)}r=!1}r&&(e=n[0])}}return n=Jt(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Y5,lastRenderedState:e},n.queue=r,n=l3.bind(null,Se,r),r.dispatch=n,r=Oh(!1),a=Hp.bind(null,Se,!1,r.queue),r=Jt(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=S8.bind(null,Se,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function F1(t){var e=vt();return K5(e,Ve,t)}function K5(t,e,n){if(e=Op(t,e,Y5)[0],t=Bu(ei)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=Il(e)}catch(s){throw s===Xs?l0:s}else r=e;e=vt();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(Se.flags|=2048,Bs(9,{destroy:void 0},_8.bind(null,i,n),null)),[r,a,t]}function _8(t,e){t.action=e}function G1(t){var e=vt(),n=Ve;if(n!==null)return K5(e,n,t);vt(),e=e.memoizedState,n=vt();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Bs(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=Se.updateQueue,e===null&&(e=u0(),Se.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function J5(){return vt().memoizedState}function qu(t,e,n,r){var i=Jt();Se.flags|=t,i.memoizedState=Bs(1|e,{destroy:void 0},n,r===void 0?null:r)}function d0(t,e,n,r){var i=vt();r=r===void 0?null:r;var a=i.memoizedState.inst;Ve!==null&&r!==null&&Rp(r,Ve.memoizedState.deps)?i.memoizedState=Bs(e,a,n,r):(Se.flags|=t,i.memoizedState=Bs(1|e,a,n,r))}function V1(t,e){qu(8390656,8,t,e)}function Lp(t,e){d0(2048,8,t,e)}function T8(t){Se.flags|=4;var e=Se.updateQueue;if(e===null)e=u0(),Se.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function j5(t){var e=vt().memoizedState;return T8({ref:e,nextImpl:t}),function(){if(Oe&2)throw Error($(440));return e.impl.apply(void 0,arguments)}}function X5(t,e){return d0(4,2,t,e)}function W5(t,e){return d0(4,4,t,e)}function Q5(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Z5(t,e,n){n=n!=null?n.concat([t]):null,d0(4,4,Q5.bind(null,e,t),n)}function Pp(){}function e3(t,e){var n=vt();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&Rp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function t3(t,e){var n=vt();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&Rp(e,r[1]))return r[0];if(r=t(),ka){Ci(!0);try{t()}finally{Ci(!1)}}return n.memoizedState=[r,e],r}function Bp(t,e,n){return n===void 0||Zr&1073741824&&!(Ce&261930)?t.memoizedState=e:(t.memoizedState=n,t=G3(),Se.lanes|=t,Ji|=t,n)}function n3(t,e,n,r){return Un(n,e)?n:Ps.current!==null?(t=Bp(t,n,r),Un(t,e)||(Tt=!0),t):!(Zr&42)||Zr&1073741824&&!(Ce&261930)?(Tt=!0,t.memoizedState=n):(t=G3(),Se.lanes|=t,Ji|=t,e)}function r3(t,e,n,r,i){var a=Le.p;Le.p=a!==0&&8>a?a:8;var s=ge.T,o={};ge.T=o,Hp(t,!1,e,n);try{var l=i(),u=ge.S;if(u!==null&&u(o,l),l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=b8(l,r);Po(t,e,c,Dn(t))}else Po(t,e,r,Dn(t))}catch(f){Po(t,e,{then:function(){},status:"rejected",reason:f},Dn())}finally{Le.p=a,s!==null&&o.types!==null&&(s.types=o.types),ge.T=s}}function E8(){}function Ph(t,e,n,r){if(t.tag!==5)throw Error($(476));var i=i3(t).queue;r3(t,i,e,wa,n===null?E8:function(){return a3(t),n(r)})}function i3(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:wa,baseState:wa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:wa},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function a3(t){var e=i3(t);e.next===null&&(e=t.alternate.memoizedState),Po(t,e.next.queue,{},Dn())}function qp(){return Ft(ul)}function s3(){return vt().memoizedState}function o3(){return vt().memoizedState}function A8(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=Dn();t=Pi(n);var r=Bi(e,t,n);r!==null&&(hn(r,e,n),Uo(r,e,n)),e={cache:Ep()},t.payload=e;return}e=e.return}}function C8(t,e,n){var r=Dn();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},h0(t)?u3(e,n):(n=xp(t,e,n,r),n!==null&&(hn(n,t,r),c3(n,e,r)))}function l3(t,e,n){var r=Dn();Po(t,e,n,r)}function Po(t,e,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(h0(t))u3(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Un(o,s))return o0(t,e,i,0),Ye===null&&s0(),!1}catch{}finally{}if(n=xp(t,e,i,r),n!==null)return hn(n,t,r),c3(n,e,r),!0}return!1}function Hp(t,e,n,r){if(r={lane:2,revertLane:Xp(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},h0(t)){if(e)throw Error($(479))}else e=xp(t,n,r,2),e!==null&&hn(e,t,2)}function h0(t){var e=t.alternate;return t===Se||e!==null&&e===Se}function u3(t,e){Es=pc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function c3(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,j2(t,n)}}var sl={readContext:Ft,use:c0,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useLayoutEffect:ht,useInsertionEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useSyncExternalStore:ht,useId:ht,useHostTransitionStatus:ht,useFormState:ht,useActionState:ht,useOptimistic:ht,useMemoCache:ht,useCacheRefresh:ht};sl.useEffectEvent=ht;var d3={readContext:Ft,use:c0,useCallback:function(t,e){return Jt().memoizedState=[t,e===void 0?null:e],t},useContext:Ft,useEffect:V1,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,qu(4194308,4,Q5.bind(null,e,t),n)},useLayoutEffect:function(t,e){return qu(4194308,4,t,e)},useInsertionEffect:function(t,e){qu(4,2,t,e)},useMemo:function(t,e){var n=Jt();e=e===void 0?null:e;var r=t();if(ka){Ci(!0);try{t()}finally{Ci(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Jt();if(n!==void 0){var i=n(e);if(ka){Ci(!0);try{n(e)}finally{Ci(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=C8.bind(null,Se,t),[r.memoizedState,t]},useRef:function(t){var e=Jt();return t={current:t},e.memoizedState=t},useState:function(t){t=Oh(t);var e=t.queue,n=l3.bind(null,Se,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Pp,useDeferredValue:function(t,e){var n=Jt();return Bp(n,t,e)},useTransition:function(){var t=Oh(!1);return t=r3.bind(null,Se,t.queue,!0,!1),Jt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=Se,i=Jt();if(Ne){if(n===void 0)throw Error($(407));n=n()}else{if(n=e(),Ye===null)throw Error($(349));Ce&127||P5(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,V1(q5.bind(null,r,a,t),[t]),r.flags|=2048,Bs(9,{destroy:void 0},B5.bind(null,r,a,n,e),null),n},useId:function(){var t=Jt(),e=Ye.identifierPrefix;if(Ne){var n=wr,r=br;n=(r&~(1<<32-In(r)-1)).toString(32)+n,e="_"+e+"R_"+n,n=mc++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=w8++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:qp,useFormState:H1,useActionState:H1,useOptimistic:function(t){var e=Jt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Hp.bind(null,Se,!0,n),n.dispatch=e,[t,e]},useMemoCache:Up,useCacheRefresh:function(){return Jt().memoizedState=A8.bind(null,Se)},useEffectEvent:function(t){var e=Jt(),n={impl:t};return e.memoizedState=n,function(){if(Oe&2)throw Error($(440));return n.impl.apply(void 0,arguments)}}},Fp={readContext:Ft,use:c0,useCallback:e3,useContext:Ft,useEffect:Lp,useImperativeHandle:Z5,useInsertionEffect:X5,useLayoutEffect:W5,useMemo:t3,useReducer:Bu,useRef:J5,useState:function(){return Bu(ei)},useDebugValue:Pp,useDeferredValue:function(t,e){var n=vt();return n3(n,Ve.memoizedState,t,e)},useTransition:function(){var t=Bu(ei)[0],e=vt().memoizedState;return[typeof t=="boolean"?t:Il(t),e]},useSyncExternalStore:L5,useId:s3,useHostTransitionStatus:qp,useFormState:F1,useActionState:F1,useOptimistic:function(t,e){var n=vt();return G5(n,Ve,t,e)},useMemoCache:Up,useCacheRefresh:o3};Fp.useEffectEvent=j5;var h3={readContext:Ft,use:c0,useCallback:e3,useContext:Ft,useEffect:Lp,useImperativeHandle:Z5,useInsertionEffect:X5,useLayoutEffect:W5,useMemo:t3,useReducer:nd,useRef:J5,useState:function(){return nd(ei)},useDebugValue:Pp,useDeferredValue:function(t,e){var n=vt();return Ve===null?Bp(n,t,e):n3(n,Ve.memoizedState,t,e)},useTransition:function(){var t=nd(ei)[0],e=vt().memoizedState;return[typeof t=="boolean"?t:Il(t),e]},useSyncExternalStore:L5,useId:s3,useHostTransitionStatus:qp,useFormState:G1,useActionState:G1,useOptimistic:function(t,e){var n=vt();return Ve!==null?G5(n,Ve,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Up,useCacheRefresh:o3};h3.useEffectEvent=j5;function rd(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bh={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Dn(),i=Pi(r);i.payload=e,n!=null&&(i.callback=n),e=Bi(t,i,r),e!==null&&(hn(e,t,r),Uo(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Dn(),i=Pi(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Bi(t,i,r),e!==null&&(hn(e,t,r),Uo(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Dn(),r=Pi(n);r.tag=2,e!=null&&(r.callback=e),e=Bi(t,r,n),e!==null&&(hn(e,t,n),Uo(e,t,n))}};function $1(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!tl(n,r)||!tl(i,a):!0}function Y1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bh.enqueueReplaceState(e,e.state,null)}function Na(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=tt({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function f3(t){oc(t)}function p3(t){console.error(t)}function m3(t){oc(t)}function gc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function K1(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function qh(t,e,n){return n=Pi(n),n.tag=3,n.payload={element:null},n.callback=function(){gc(t,e)},n}function g3(t){return t=Pi(t),t.tag=3,t}function y3(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){K1(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){K1(e,n,r),typeof i!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var o=r.stack;this.componentDidCatch(r.value,{componentStack:o!==null?o:""})})}function k8(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&js(e,n,i,!0),n=On.current,n!==null){switch(n.tag){case 31:case 13:return Jn===null?xc():n.alternate===null&&pt===0&&(pt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===dc?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),pd(t,r,i)),!1;case 22:return n.flags|=65536,r===dc?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),pd(t,r,i)),!1}throw Error($(435,n.tag))}return pd(t,r,i),xc(),!1}if(Ne)return e=On.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==Ch&&(t=Error($(422),{cause:r}),rl($n(t,n)))):(r!==Ch&&(e=Error($(423),{cause:r}),rl($n(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=$n(r,n),i=qh(t.stateNode,r,i),td(t,i),pt!==4&&(pt=2)),!1;var a=Error($(520),{cause:r});if(a=$n(a,n),Ho===null?Ho=[a]:Ho.push(a),pt!==4&&(pt=2),e===null)return!0;r=$n(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=qh(n.stateNode,r,t),td(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(qi===null||!qi.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=g3(i),y3(i,t,n,r),td(n,i),!1}n=n.return}while(n!==null);return!1}var Gp=Error($(461)),Tt=!1;function Pt(t,e,n,r){e.child=t===null?M5(e,null,n,r):Ca(e,t.child,n,r)}function J1(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var o in r)o!=="ref"&&(s[o]=r[o])}else s=r;return Aa(e),r=Mp(t,e,n,s,a,i),o=Ip(),t!==null&&!Tt?(Dp(t,e,i),ti(t,e,i)):(Ne&&o&&_p(e),e.flags|=1,Pt(t,e,r,i),e.child)}function j1(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Sp(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,v3(t,e,a,r,i)):(t=Lu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!Vp(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:tl,n(s,r)&&t.ref===e.ref)return ti(t,e,i)}return e.flags|=1,t=Kr(a,r),t.ref=e.ref,t.return=e,e.child=t}function v3(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(tl(a,r)&&t.ref===e.ref)if(Tt=!1,e.pendingProps=r=a,Vp(t,i))t.flags&131072&&(Tt=!0);else return e.lanes=t.lanes,ti(t,e,i)}return Hh(t,e,n,r,i)}function b3(t,e,n,r){var i=r.children,a=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if(e.flags&128){if(a=a!==null?a.baseLanes|n:n,t!==null){for(r=e.child=t.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,e.child=null;return X1(t,e,a,n,r)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pu(e,a!==null?a.cachePool:null),a!==null?P1(e,a):zh(),z5(e);else return r=e.lanes=536870912,X1(t,e,a!==null?a.baseLanes|n:n,n,r)}else a!==null?(Pu(e,a.cachePool),P1(e,a),Ti(),e.memoizedState=null):(t!==null&&Pu(e,null),zh(),Ti());return Pt(t,e,i,n),e.child}function Eo(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function X1(t,e,n,r,i){var a=Ap();return a=a===null?null:{parent:_t._currentValue,pool:a},e.memoizedState={baseLanes:n,cachePool:a},t!==null&&Pu(e,null),zh(),z5(e),t!==null&&js(t,e,r,!0),e.childLanes=i,null}function Hu(t,e){return e=yc({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function W1(t,e,n){return Ca(e,t.child,null,n),t=Hu(e,e.pendingProps),t.flags|=2,_n(e),e.memoizedState=null,t}function N8(t,e,n){var r=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Ne){if(r.mode==="hidden")return t=Hu(e,r),e.lanes=536870912,Eo(null,t);if(Uh(e),(t=Ze)?(t=d6(t,Yn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:$i!==null?{id:br,overflow:wr}:null,retryLane:536870912,hydrationErrors:null},n=T5(t),n.return=e,e.child=n,Ht=e,Ze=null)):t=null,t===null)throw Yi(e);return e.lanes=536870912,null}return Hu(e,r)}var a=t.memoizedState;if(a!==null){var s=a.dehydrated;if(Uh(e),i)if(e.flags&256)e.flags&=-257,e=W1(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error($(558));else if(Tt||js(t,e,n,!1),i=(n&t.childLanes)!==0,Tt||i){if(r=Ye,r!==null&&(s=X2(r,n),s!==0&&s!==a.retryLane))throw a.retryLane=s,Da(t,s),hn(r,t,s),Gp;xc(),e=W1(t,e,n)}else t=a.treeContext,Ze=jn(s.nextSibling),Ht=e,Ne=!0,Li=null,Yn=!1,t!==null&&A5(e,t),e=Hu(e,r),e.flags|=4096;return e}return t=Kr(t.child,{mode:r.mode,children:r.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Fu(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error($(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Hh(t,e,n,r,i){return Aa(e),n=Mp(t,e,n,r,void 0,i),r=Ip(),t!==null&&!Tt?(Dp(t,e,i),ti(t,e,i)):(Ne&&r&&_p(e),e.flags|=1,Pt(t,e,n,i),e.child)}function Q1(t,e,n,r,i,a){return Aa(e),e.updateQueue=null,n=O5(e,r,n,i),U5(t),r=Ip(),t!==null&&!Tt?(Dp(t,e,a),ti(t,e,a)):(Ne&&r&&_p(e),e.flags|=1,Pt(t,e,n,a),e.child)}function Z1(t,e,n,r,i){if(Aa(e),e.stateNode===null){var a=fs,s=n.contextType;typeof s=="object"&&s!==null&&(a=Ft(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Bh,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},kp(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?Ft(s):fs,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(rd(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Bh.enqueueReplaceState(a,a.state,null),Lo(e,r,a,i),Oo(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var o=e.memoizedProps,l=Na(n,o);a.props=l;var u=a.context,c=n.contextType;s=fs,typeof c=="object"&&c!==null&&(s=Ft(c));var f=n.getDerivedStateFromProps;c=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function",o=e.pendingProps!==o,c||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o||u!==s)&&Y1(e,a,r,s),bi=!1;var p=e.memoizedState;a.state=p,Lo(e,r,a,i),Oo(),u=e.memoizedState,o||p!==u||bi?(typeof f=="function"&&(rd(e,n,f,r),u=e.memoizedState),(l=bi||$1(e,n,l,r,p,u,s))?(c||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=s,r=l):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Ih(t,e),s=e.memoizedProps,c=Na(n,s),a.props=c,f=e.pendingProps,p=a.context,u=n.contextType,l=fs,typeof u=="object"&&u!==null&&(l=Ft(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||p!==l)&&Y1(e,a,r,l),bi=!1,p=e.memoizedState,a.state=p,Lo(e,r,a,i),Oo();var m=e.memoizedState;s!==f||p!==m||bi||t!==null&&t.dependencies!==null&&cc(t.dependencies)?(typeof o=="function"&&(rd(e,n,o,r),m=e.memoizedState),(c=bi||$1(e,n,c,r,p,m,l)||t!==null&&t.dependencies!==null&&cc(t.dependencies))?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,Fu(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=Ca(e,t.child,null,i),e.child=Ca(e,null,n,i)):Pt(t,e,n,i),e.memoizedState=a.state,t=e.child):t=ti(t,e,i),t}function eg(t,e,n,r){return Ea(),e.flags|=256,Pt(t,e,n,r),e.child}var id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ad(t){return{baseLanes:t,cachePool:k5()}}function sd(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=kn),t}function w3(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(Ne){if(i?_i(e):Ti(),(t=Ze)?(t=d6(t,Yn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:$i!==null?{id:br,overflow:wr}:null,retryLane:536870912,hydrationErrors:null},n=T5(t),n.return=e,e.child=n,Ht=e,Ze=null)):t=null,t===null)throw Yi(e);return tf(t)?e.lanes=32:e.lanes=536870912,null}var o=r.children;return r=r.fallback,i?(Ti(),i=e.mode,o=yc({mode:"hidden",children:o},i),r=xa(r,i,n,null),o.return=e,r.return=e,o.sibling=r,e.child=o,r=e.child,r.memoizedState=ad(n),r.childLanes=sd(t,s,n),e.memoizedState=id,Eo(null,r)):(_i(e),Fh(e,o))}var l=t.memoizedState;if(l!==null&&(o=l.dehydrated,o!==null)){if(a)e.flags&256?(_i(e),e.flags&=-257,e=od(t,e,n)):e.memoizedState!==null?(Ti(),e.child=t.child,e.flags|=128,e=null):(Ti(),o=r.fallback,i=e.mode,r=yc({mode:"visible",children:r.children},i),o=xa(o,i,n,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,Ca(e,t.child,null,n),r=e.child,r.memoizedState=ad(n),r.childLanes=sd(t,s,n),e.memoizedState=id,e=Eo(null,r));else if(_i(e),tf(o)){if(s=o.nextSibling&&o.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error($(419)),r.stack="",r.digest=s,rl({value:r,source:null,stack:null}),e=od(t,e,n)}else if(Tt||js(t,e,n,!1),s=(n&t.childLanes)!==0,Tt||s){if(s=Ye,s!==null&&(r=X2(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,Da(t,r),hn(s,t,r),Gp;ef(o)||xc(),e=od(t,e,n)}else ef(o)?(e.flags|=192,e.child=t.child,e=null):(t=l.treeContext,Ze=jn(o.nextSibling),Ht=e,Ne=!0,Li=null,Yn=!1,t!==null&&A5(e,t),e=Fh(e,r.children),e.flags|=4096);return e}return i?(Ti(),o=r.fallback,i=e.mode,l=t.child,u=l.sibling,r=Kr(l,{mode:"hidden",children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u!==null?o=Kr(u,o):(o=xa(o,i,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,Eo(null,r),r=e.child,o=t.child.memoizedState,o===null?o=ad(n):(i=o.cachePool,i!==null?(l=_t._currentValue,i=i.parent!==l?{parent:l,pool:l}:i):i=k5(),o={baseLanes:o.baseLanes|n,cachePool:i}),r.memoizedState=o,r.childLanes=sd(t,s,n),e.memoizedState=id,Eo(t.child,r)):(_i(e),n=t.child,t=n.sibling,n=Kr(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function Fh(t,e){return e=yc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function yc(t,e){return t=Tn(22,t,null,e),t.lanes=0,t}function od(t,e,n){return Ca(e,t.child,null,n),t=Fh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function tg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Nh(t.return,e,n)}function ld(t,e,n,r,i,a){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i,s.treeForkCount=a)}function x3(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var s=gt.current,o=(s&2)!==0;if(o?(s=s&1|2,e.flags|=128):s&=1,Xe(gt,s),Pt(t,e,r,n),r=Ne?nl:0,!o&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tg(t,n,e);else if(t.tag===19)tg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&fc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ld(e,!1,i,n,a,r);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&fc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ld(e,!0,n,null,a,r);break;case"together":ld(e,!1,null,null,void 0,r);break;default:e.memoizedState=null}return e.child}function ti(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ji|=e.lanes,!(n&e.childLanes))if(t!==null){if(js(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error($(153));if(e.child!==null){for(t=e.child,n=Kr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Kr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Vp(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&cc(t)))}function R8(t,e,n){switch(e.tag){case 3:rc(e,e.stateNode.containerInfo),Si(e,_t,t.memoizedState.cache),Ea();break;case 27:case 5:gh(e);break;case 4:rc(e,e.stateNode.containerInfo);break;case 10:Si(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,Uh(e),null;break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(_i(e),e.flags|=128,null):n&e.child.childLanes?w3(t,e,n):(_i(e),t=ti(t,e,n),t!==null?t.sibling:null);_i(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(js(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return x3(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xe(gt,gt.current),r)break;return null;case 22:return e.lanes=0,b3(t,e,n,e.pendingProps);case 24:Si(e,_t,t.memoizedState.cache)}return ti(t,e,n)}function S3(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)Tt=!0;else{if(!Vp(t,n)&&!(e.flags&128))return Tt=!1,R8(t,e,n);Tt=!!(t.flags&131072)}else Tt=!1,Ne&&e.flags&1048576&&E5(e,nl,e.index);switch(e.lanes=0,e.tag){case 16:e:{var r=e.pendingProps;if(t=ha(e.elementType),e.type=t,typeof t=="function")Sp(t)?(r=Na(t,r),e.tag=1,e=Z1(null,e,t,r,n)):(e.tag=0,e=Hh(null,e,t,r,n));else{if(t!=null){var i=t.$$typeof;if(i===lp){e.tag=11,e=J1(null,e,t,r,n);break e}else if(i===up){e.tag=14,e=j1(null,e,t,r,n);break e}}throw e=ph(t)||t,Error($(306,e,""))}}return e;case 0:return Hh(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=Na(r,e.pendingProps),Z1(t,e,r,i,n);case 3:e:{if(rc(e,e.stateNode.containerInfo),t===null)throw Error($(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,Ih(t,e),Lo(e,r,null,n);var s=e.memoizedState;if(r=s.cache,Si(e,_t,r),r!==a.cache&&Rh(e,[_t],n,!0),Oo(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=eg(t,e,r,n);break e}else if(r!==i){i=$n(Error($(424)),e),rl(i),e=eg(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ze=jn(t.firstChild),Ht=e,Ne=!0,Li=null,Yn=!0,n=M5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ea(),r===i){e=ti(t,e,n);break e}Pt(t,e,r,n)}e=e.child}return e;case 26:return Fu(t,e),t===null?(n=xg(e.type,null,e.pendingProps,null))?e.memoizedState=n:Ne||(n=e.type,t=e.pendingProps,r=Ec(Oi.current).createElement(n),r[qt]=e,r[pn]=t,Gt(r,n,t),It(r),e.stateNode=r):e.memoizedState=xg(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return gh(e),t===null&&Ne&&(r=e.stateNode=h6(e.type,e.pendingProps,Oi.current),Ht=e,Yn=!0,i=Ze,Zi(e.type)?(nf=i,Ze=jn(r.firstChild)):Ze=i),Pt(t,e,e.pendingProps.children,n),Fu(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Ne&&((i=r=Ze)&&(r=sS(r,e.type,e.pendingProps,Yn),r!==null?(e.stateNode=r,Ht=e,Ze=jn(r.firstChild),Yn=!1,i=!0):i=!1),i||Yi(e)),gh(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,Qh(i,a)?r=null:s!==null&&Qh(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=Mp(t,e,x8,null,null,n),ul._currentValue=i),Fu(t,e),Pt(t,e,r,n),e.child;case 6:return t===null&&Ne&&((t=n=Ze)&&(n=oS(n,e.pendingProps,Yn),n!==null?(e.stateNode=n,Ht=e,Ze=null,t=!0):t=!1),t||Yi(e)),null;case 13:return w3(t,e,n);case 4:return rc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ca(e,null,r,n):Pt(t,e,r,n),e.child;case 11:return J1(t,e,e.type,e.pendingProps,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Si(e,e.type,r.value),Pt(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,Aa(e),i=Ft(i),r=r(i),e.flags|=1,Pt(t,e,r,n),e.child;case 14:return j1(t,e,e.type,e.pendingProps,n);case 15:return v3(t,e,e.type,e.pendingProps,n);case 19:return x3(t,e,n);case 31:return N8(t,e,n);case 22:return b3(t,e,n,e.pendingProps);case 24:return Aa(e),r=Ft(_t),t===null?(i=Ap(),i===null&&(i=Ye,a=Ep(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},kp(e),Si(e,_t,i)):(t.lanes&n&&(Ih(t,e),Lo(e,null,null,n),Oo()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Si(e,_t,r)):(r=a.cache,Si(e,_t,r),r!==i.cache&&Rh(e,[_t],n,!0))),Pt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error($(156,e.tag))}function Ur(t){t.flags|=4}function ud(t,e,n,r,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(Y3())t.flags|=8192;else throw _a=dc,Cp}else t.flags&=-16777217}function ng(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!m6(e))if(Y3())t.flags|=8192;else throw _a=dc,Cp}function Zl(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?K2():536870912,t.lanes|=e,qs|=e)}function po(t,e){if(!Ne)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function M8(t,e,n){var r=e.pendingProps;switch(Tp(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(e),null;case 1:return Qe(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Jr(_t),zs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(qa(e)?Ur(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ed())),Qe(e),null;case 26:var i=e.type,a=e.memoizedState;return t===null?(Ur(e),a!==null?(Qe(e),ng(e,a)):(Qe(e),ud(e,i,null,r,n))):a?a!==t.memoizedState?(Ur(e),Qe(e),ng(e,a)):(Qe(e),e.flags&=-16777217):(t=t.memoizedProps,t!==r&&Ur(e),Qe(e),ud(e,i,t,r,n)),null;case 27:if(ic(e),n=Oi.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ur(e);else{if(!r){if(e.stateNode===null)throw Error($(166));return Qe(e),null}t=Tr.current,qa(e)?M1(e):(t=h6(i,r,n),e.stateNode=t,Ur(e))}return Qe(e),null;case 5:if(ic(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&Ur(e);else{if(!r){if(e.stateNode===null)throw Error($(166));return Qe(e),null}if(a=Tr.current,qa(e))M1(e);else{var s=Ec(Oi.current);switch(a){case 1:a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":a=s.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":a=s.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":a=s.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof r.is=="string"?s.createElement("select",{is:r.is}):s.createElement("select"),r.multiple?a.multiple=!0:r.size&&(a.size=r.size);break;default:a=typeof r.is=="string"?s.createElement(i,{is:r.is}):s.createElement(i)}}a[qt]=e,a[pn]=r;e:for(s=e.child;s!==null;){if(s.tag===5||s.tag===6)a.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break e;for(;s.sibling===null;){if(s.return===null||s.return===e)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}e.stateNode=a;e:switch(Gt(a,i,r),i){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Ur(e)}}return Qe(e),ud(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&Ur(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error($(166));if(t=Oi.current,qa(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Ht,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[qt]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||l6(t.nodeValue,n)),t||Yi(e,!0)}else t=Ec(t).createTextNode(r),t[qt]=e,e.stateNode=t}return Qe(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(r=qa(e),n!==null){if(t===null){if(!r)throw Error($(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($(557));t[qt]=e}else Ea(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qe(e),t=!1}else n=ed(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(_n(e),e):(_n(e),null);if(e.flags&128)throw Error($(558))}return Qe(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=qa(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error($(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[qt]=e}else Ea(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qe(e),i=!1}else i=ed(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(_n(e),e):(_n(e),null)}return _n(e),e.flags&128?(e.lanes=n,e):(n=r!==null,t=t!==null&&t.memoizedState!==null,n&&(r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool),a=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Zl(e,e.updateQueue),Qe(e),null);case 4:return zs(),t===null&&Wp(e.stateNode.containerInfo),Qe(e),null;case 10:return Jr(e.type),Qe(e),null;case 19:if(Dt(gt),r=e.memoizedState,r===null)return Qe(e),null;if(i=(e.flags&128)!==0,a=r.rendering,a===null)if(i)po(r,!1);else{if(pt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=fc(t),a!==null){for(e.flags|=128,po(r,!1),t=a.updateQueue,e.updateQueue=t,Zl(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)_5(n,t),n=n.sibling;return Xe(gt,gt.current&1|2),Ne&&Hr(e,r.treeForkCount),e.child}t=t.sibling}r.tail!==null&&Rn()>bc&&(e.flags|=128,i=!0,po(r,!1),e.lanes=4194304)}else{if(!i)if(t=fc(a),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Zl(e,t),po(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Ne)return Qe(e),null}else 2*Rn()-r.renderingStartTime>bc&&n!==536870912&&(e.flags|=128,i=!0,po(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(t=r.last,t!==null?t.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Rn(),t.sibling=null,n=gt.current,Xe(gt,i?n&1|2:n&1),Ne&&Hr(e,r.treeForkCount),t):(Qe(e),null);case 22:case 23:return _n(e),Np(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Qe(e),e.subtreeFlags&6&&(e.flags|=8192)):Qe(e),n=e.updateQueue,n!==null&&Zl(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&Dt(Sa),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Jr(_t),Qe(e),null;case 25:return null;case 30:return null}throw Error($(156,e.tag))}function I8(t,e){switch(Tp(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jr(_t),zs(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return ic(e),null;case 31:if(e.memoizedState!==null){if(_n(e),e.alternate===null)throw Error($(340));Ea()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(_n(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($(340));Ea()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Dt(gt),null;case 4:return zs(),null;case 10:return Jr(e.type),null;case 22:case 23:return _n(e),Np(),t!==null&&Dt(Sa),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Jr(_t),null;case 25:return null;default:return null}}function _3(t,e){switch(Tp(e),e.tag){case 3:Jr(_t),zs();break;case 26:case 27:case 5:ic(e);break;case 4:zs();break;case 31:e.memoizedState!==null&&_n(e);break;case 13:_n(e);break;case 19:Dt(gt);break;case 10:Jr(e.type);break;case 22:case 23:_n(e),Np(),t!==null&&Dt(Sa);break;case 24:Jr(_t)}}function Dl(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(o){He(e,e.return,o)}}function Ki(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,o=s.destroy;if(o!==void 0){s.destroy=void 0,i=e;var l=n,u=o;try{u()}catch(c){He(i,l,c)}}}r=r.next}while(r!==a)}}catch(c){He(e,e.return,c)}}function T3(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{D5(e,n)}catch(r){He(t,t.return,r)}}}function E3(t,e,n){n.props=Na(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){He(t,e,r)}}function Bo(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){He(t,e,i)}}function xr(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){He(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){He(t,e,i)}else n.current=null}function A3(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){He(t,t.return,i)}}function cd(t,e,n){try{var r=t.stateNode;eS(r,t.type,n,e),r[pn]=e}catch(i){He(t,t.return,i)}}function C3(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Zi(t.type)||t.tag===4}function dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||C3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Zi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$r));else if(r!==4&&(r===27&&Zi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Gh(t,e,n),t=t.sibling;t!==null;)Gh(t,e,n),t=t.sibling}function vc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Zi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(vc(t,e,n),t=t.sibling;t!==null;)vc(t,e,n),t=t.sibling}function k3(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Gt(e,r,n),e[qt]=t,e[pn]=n}catch(a){He(t,t.return,a)}}var Gr=!1,St=!1,hd=!1,rg=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function D8(t,e){if(t=t.containerInfo,Xh=Nc,t=m5(t),bp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,l=-1,u=0,c=0,f=t,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++u===i&&(o=s),p===a&&++c===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Wh={focusedElem:t,selectionRange:n},Nc=!1,Rt=e;Rt!==null;)if(e=Rt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Rt=t;else for(;Rt!==null;){switch(e=Rt,a=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var y=Na(n.type,i);t=r.getSnapshotBeforeUpdate(y,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(w){He(n,n.return,w)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)Zh(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Zh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error($(163))}if(t=e.sibling,t!==null){t.return=e.return,Rt=t;break}Rt=e.return}}function N3(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Lr(t,n),r&4&&Dl(5,n);break;case 1:if(Lr(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){He(n,n.return,s)}else{var i=Na(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){He(n,n.return,s)}}r&64&&T3(n),r&512&&Bo(n,n.return);break;case 3:if(Lr(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{D5(t,e)}catch(s){He(n,n.return,s)}}break;case 27:e===null&&r&4&&k3(n);case 26:case 5:Lr(t,n),e===null&&r&4&&A3(n),r&512&&Bo(n,n.return);break;case 12:Lr(t,n);break;case 31:Lr(t,n),r&4&&I3(t,n);break;case 13:Lr(t,n),r&4&&D3(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=F8.bind(null,n),lS(t,n))));break;case 22:if(r=n.memoizedState!==null||Gr,!r){e=e!==null&&e.memoizedState!==null||St,i=Gr;var a=St;Gr=r,(St=e)&&!a?Br(t,n,(n.subtreeFlags&8772)!==0):Lr(t,n),Gr=i,St=a}break;case 30:break;default:Lr(t,n)}}function R3(t){var e=t.alternate;e!==null&&(t.alternate=null,R3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&fp(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var at=null,ln=!1;function Or(t,e,n){for(n=n.child;n!==null;)M3(t,e,n),n=n.sibling}function M3(t,e,n){if(Mn&&typeof Mn.onCommitFiberUnmount=="function")try{Mn.onCommitFiberUnmount(Al,n)}catch{}switch(n.tag){case 26:St||xr(n,e),Or(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:St||xr(n,e);var r=at,i=ln;Zi(n.type)&&(at=n.stateNode,ln=!1),Or(t,e,n),Go(n.stateNode),at=r,ln=i;break;case 5:St||xr(n,e);case 6:if(r=at,i=ln,at=null,Or(t,e,n),at=r,ln=i,at!==null)if(ln)try{(at.nodeType===9?at.body:at.nodeName==="HTML"?at.ownerDocument.body:at).removeChild(n.stateNode)}catch(a){He(n,e,a)}else try{at.removeChild(n.stateNode)}catch(a){He(n,e,a)}break;case 18:at!==null&&(ln?(t=at,gg(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Vs(t)):gg(at,n.stateNode));break;case 4:r=at,i=ln,at=n.stateNode.containerInfo,ln=!0,Or(t,e,n),at=r,ln=i;break;case 0:case 11:case 14:case 15:Ki(2,n,e),St||Ki(4,n,e),Or(t,e,n);break;case 1:St||(xr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&E3(n,e,r)),Or(t,e,n);break;case 21:Or(t,e,n);break;case 22:St=(r=St)||n.memoizedState!==null,Or(t,e,n),St=r;break;default:Or(t,e,n)}}function I3(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Vs(t)}catch(n){He(e,e.return,n)}}}function D3(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vs(t)}catch(n){He(e,e.return,n)}}function z8(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new rg),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new rg),e;default:throw Error($(435,t.tag))}}function eu(t,e){var n=z8(t);e.forEach(function(r){if(!n.has(r)){n.add(r);var i=G8.bind(null,t,r);r.then(i,i)}})}function an(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,o=s;e:for(;o!==null;){switch(o.tag){case 27:if(Zi(o.type)){at=o.stateNode,ln=!1;break e}break;case 5:at=o.stateNode,ln=!1;break e;case 3:case 4:at=o.stateNode.containerInfo,ln=!0;break e}o=o.return}if(at===null)throw Error($(160));M3(a,s,i),at=null,ln=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)z3(e,t),e=e.sibling}var or=null;function z3(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:an(e,t),sn(t),r&4&&(Ki(3,t,t.return),Dl(3,t),Ki(5,t,t.return));break;case 1:an(e,t),sn(t),r&512&&(St||n===null||xr(n,n.return)),r&64&&Gr&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=or;if(an(e,t),sn(t),r&512&&(St||n===null||xr(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Nl]||a[qt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Gt(a,r,n),a[qt]=t,It(a),r=a;break e;case"link":var s=_g("link","href",i).get(r+(n.href||""));if(s){for(var o=0;o<s.length;o++)if(a=s[o],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(o,1);break t}}a=i.createElement(r),Gt(a,r,n),i.head.appendChild(a);break;case"meta":if(s=_g("meta","content",i).get(r+(n.content||""))){for(o=0;o<s.length;o++)if(a=s[o],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(o,1);break t}}a=i.createElement(r),Gt(a,r,n),i.head.appendChild(a);break;default:throw Error($(468,r))}a[qt]=t,It(a),r=a}t.stateNode=r}else Tg(i,t.type,t.stateNode);else t.stateNode=Sg(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?Tg(i,t.type,t.stateNode):Sg(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&cd(t,t.memoizedProps,n.memoizedProps)}break;case 27:an(e,t),sn(t),r&512&&(St||n===null||xr(n,n.return)),n!==null&&r&4&&cd(t,t.memoizedProps,n.memoizedProps);break;case 5:if(an(e,t),sn(t),r&512&&(St||n===null||xr(n,n.return)),t.flags&32){i=t.stateNode;try{Os(i,"")}catch(y){He(t,t.return,y)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,cd(t,i,n!==null?n.memoizedProps:i)),r&1024&&(hd=!0);break;case 6:if(an(e,t),sn(t),r&4){if(t.stateNode===null)throw Error($(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(y){He(t,t.return,y)}}break;case 3:if($u=null,i=or,or=Ac(e.containerInfo),an(e,t),or=i,sn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Vs(e.containerInfo)}catch(y){He(t,t.return,y)}hd&&(hd=!1,U3(t));break;case 4:r=or,or=Ac(t.stateNode.containerInfo),an(e,t),sn(t),or=r;break;case 12:an(e,t),sn(t);break;case 31:an(e,t),sn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,eu(t,r)));break;case 13:an(e,t),sn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(f0=Rn()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,eu(t,r)));break;case 22:i=t.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=Gr,c=St;if(Gr=u||i,St=c||l,an(e,t),St=c,Gr=u,sn(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||l||Gr||St||fa(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){l=n=e;try{if(a=l.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{o=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(y){He(l,l.return,y)}}}else if(e.tag===6){if(n===null){l=e;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(y){He(l,l.return,y)}}}else if(e.tag===18){if(n===null){l=e;try{var m=l.stateNode;i?yg(m,!0):yg(l.stateNode,!1)}catch(y){He(l,l.return,y)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,eu(t,n))));break;case 19:an(e,t),sn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,eu(t,r)));break;case 30:break;case 21:break;default:an(e,t),sn(t)}}function sn(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(C3(r)){n=r;break}r=r.return}if(n==null)throw Error($(160));switch(n.tag){case 27:var i=n.stateNode,a=dd(t);vc(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(Os(s,""),n.flags&=-33);var o=dd(t);vc(t,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=dd(t);Gh(t,u,l);break;default:throw Error($(161))}}catch(c){He(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function U3(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;U3(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Lr(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)N3(t,e.alternate,e),e=e.sibling}function fa(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ki(4,e,e.return),fa(e);break;case 1:xr(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&E3(e,e.return,n),fa(e);break;case 27:Go(e.stateNode);case 26:case 5:xr(e,e.return),fa(e);break;case 22:e.memoizedState===null&&fa(e);break;case 30:fa(e);break;default:fa(e)}t=t.sibling}}function Br(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:Br(i,a,n),Dl(4,a);break;case 1:if(Br(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(u){He(r,r.return,u)}if(r=a,i=r.updateQueue,i!==null){var o=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(l!==null)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)I5(l[i],o)}catch(u){He(r,r.return,u)}}n&&s&64&&T3(a),Bo(a,a.return);break;case 27:k3(a);case 26:case 5:Br(i,a,n),n&&r===null&&s&4&&A3(a),Bo(a,a.return);break;case 12:Br(i,a,n);break;case 31:Br(i,a,n),n&&s&4&&I3(i,a);break;case 13:Br(i,a,n),n&&s&4&&D3(i,a);break;case 22:a.memoizedState===null&&Br(i,a,n),Bo(a,a.return);break;case 30:break;default:Br(i,a,n)}e=e.sibling}}function $p(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ml(n))}function Yp(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ml(t))}function rr(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)O3(t,e,n,r),e=e.sibling}function O3(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:rr(t,e,n,r),i&2048&&Dl(9,e);break;case 1:rr(t,e,n,r);break;case 3:rr(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ml(t)));break;case 12:if(i&2048){rr(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,o=a.onPostCommit;typeof o=="function"&&o(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(l){He(e,e.return,l)}}else rr(t,e,n,r);break;case 31:rr(t,e,n,r);break;case 13:rr(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?rr(t,e,n,r):qo(t,e):a._visibility&2?rr(t,e,n,r):(a._visibility|=2,Za(t,e,n,r,(e.subtreeFlags&10256)!==0||!1)),i&2048&&$p(s,e);break;case 24:rr(t,e,n,r),i&2048&&Yp(e.alternate,e);break;default:rr(t,e,n,r)}}function Za(t,e,n,r,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var a=t,s=e,o=n,l=r,u=s.flags;switch(s.tag){case 0:case 11:case 15:Za(a,s,o,l,i),Dl(8,s);break;case 23:break;case 22:var c=s.stateNode;s.memoizedState!==null?c._visibility&2?Za(a,s,o,l,i):qo(a,s):(c._visibility|=2,Za(a,s,o,l,i)),i&&u&2048&&$p(s.alternate,s);break;case 24:Za(a,s,o,l,i),i&&u&2048&&Yp(s.alternate,s);break;default:Za(a,s,o,l,i)}e=e.sibling}}function qo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:qo(n,r),i&2048&&$p(r.alternate,r);break;case 24:qo(n,r),i&2048&&Yp(r.alternate,r);break;default:qo(n,r)}e=e.sibling}}var Ao=8192;function Ha(t,e,n){if(t.subtreeFlags&Ao)for(t=t.child;t!==null;)L3(t,e,n),t=t.sibling}function L3(t,e,n){switch(t.tag){case 26:Ha(t,e,n),t.flags&Ao&&t.memoizedState!==null&&wS(n,or,t.memoizedState,t.memoizedProps);break;case 5:Ha(t,e,n);break;case 3:case 4:var r=or;or=Ac(t.stateNode.containerInfo),Ha(t,e,n),or=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Ao,Ao=16777216,Ha(t,e,n),Ao=r):Ha(t,e,n));break;default:Ha(t,e,n)}}function P3(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function mo(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Rt=r,q3(r,t)}P3(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)B3(t),t=t.sibling}function B3(t){switch(t.tag){case 0:case 11:case 15:mo(t),t.flags&2048&&Ki(9,t,t.return);break;case 3:mo(t);break;case 12:mo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Gu(t)):mo(t);break;default:mo(t)}}function Gu(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Rt=r,q3(r,t)}P3(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ki(8,e,e.return),Gu(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Gu(e));break;default:Gu(e)}t=t.sibling}}function q3(t,e){for(;Rt!==null;){var n=Rt;switch(n.tag){case 0:case 11:case 15:Ki(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ml(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Rt=r;else e:for(n=t;Rt!==null;){r=Rt;var i=r.sibling,a=r.return;if(R3(r),r===n){Rt=null;break e}if(i!==null){i.return=a,Rt=i;break e}Rt=a}}}var U8={getCacheForType:function(t){var e=Ft(_t),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Ft(_t).controller.signal}},O8=typeof WeakMap=="function"?WeakMap:Map,Oe=0,Ye=null,Ae=null,Ce=0,qe=0,Sn=null,Ni=!1,Ws=!1,Kp=!1,ni=0,pt=0,Ji=0,Ta=0,Jp=0,kn=0,qs=0,Ho=null,cn=null,Vh=!1,f0=0,H3=0,bc=1/0,wc=null,qi=null,Ct=0,Hi=null,Hs=null,jr=0,$h=0,Yh=null,F3=null,Fo=0,Kh=null;function Dn(){return Oe&2&&Ce!==0?Ce&-Ce:ge.T!==null?Xp():W2()}function G3(){if(kn===0)if(!(Ce&536870912)||Ne){var t=Yl;Yl<<=1,!(Yl&3932160)&&(Yl=262144),kn=t}else kn=536870912;return t=On.current,t!==null&&(t.flags|=32),kn}function hn(t,e,n){(t===Ye&&(qe===2||qe===9)||t.cancelPendingCommit!==null)&&(Fs(t,0),Ri(t,Ce,kn,!1)),kl(t,n),(!(Oe&2)||t!==Ye)&&(t===Ye&&(!(Oe&2)&&(Ta|=n),pt===4&&Ri(t,Ce,kn,!1)),Cr(t))}function V3(t,e,n){if(Oe&6)throw Error($(327));var r=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Cl(t,e),i=r?B8(t,e):fd(t,e,!0),a=r;do{if(i===0){Ws&&!r&&Ri(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!L8(n)){i=fd(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var o=t;i=Ho;var l=o.current.memoizedState.isDehydrated;if(l&&(Fs(o,s).flags|=256),s=fd(o,s,!1),s!==2){if(Kp&&!l){o.errorRecoveryDisabledLanes|=a,Ta|=a,i=4;break e}a=cn,cn=i,a!==null&&(cn===null?cn=a:cn.push.apply(cn,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){Fs(t,0),Ri(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error($(345));case 4:if((e&4194048)!==e)break;case 6:Ri(r,e,kn,!Ni);break e;case 2:cn=null;break;case 3:case 5:break;default:throw Error($(329))}if((e&62914560)===e&&(i=f0+300-Rn(),10<i)){if(Ri(r,e,kn,!Ni),n0(r,0,!0)!==0)break e;jr=e,r.timeoutHandle=c6(ig.bind(null,r,n,cn,wc,Vh,e,kn,Ta,qs,Ni,a,"Throttled",-0,0),i);break e}ig(r,n,cn,wc,Vh,e,kn,Ta,qs,Ni,a,null,-0,0)}}break}while(!0);Cr(t)}function ig(t,e,n,r,i,a,s,o,l,u,c,f,p,m){if(t.timeoutHandle=-1,f=e.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$r},L3(e,a,f);var y=(a&62914560)===a?f0-Rn():(a&4194048)===a?H3-Rn():0;if(y=xS(f,y),y!==null){jr=a,t.cancelPendingCommit=y(sg.bind(null,t,e,a,n,r,i,s,o,l,c,f,null,p,m)),Ri(t,a,s,!u);return}}sg(t,e,a,n,r,i,s,o,l)}function L8(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Un(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ri(t,e,n,r){e&=~Jp,e&=~Ta,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-In(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&J2(t,n,e)}function p0(){return Oe&6?!0:(zl(0),!1)}function jp(){if(Ae!==null){if(qe===0)var t=Ae.return;else t=Ae,Yr=za=null,zp(t),Ts=null,il=0,t=Ae;for(;t!==null;)_3(t.alternate,t),t=t.return;Ae=null}}function Fs(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,rS(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),jr=0,jp(),Ye=t,Ae=n=Kr(t.current,null),Ce=e,qe=0,Sn=null,Ni=!1,Ws=Cl(t,e),Kp=!1,qs=kn=Jp=Ta=Ji=pt=0,cn=Ho=null,Vh=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-In(r),a=1<<i;e|=t[i],r&=~a}return ni=e,s0(),n}function $3(t,e){Se=null,ge.H=sl,e===Xs||e===l0?(e=O1(),qe=3):e===Cp?(e=O1(),qe=4):qe=e===Gp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,Sn=e,Ae===null&&(pt=1,gc(t,$n(e,t.current)))}function Y3(){var t=On.current;return t===null?!0:(Ce&4194048)===Ce?Jn===null:(Ce&62914560)===Ce||Ce&536870912?t===Jn:!1}function K3(){var t=ge.H;return ge.H=sl,t===null?sl:t}function J3(){var t=ge.A;return ge.A=U8,t}function xc(){pt=4,Ni||(Ce&4194048)!==Ce&&On.current!==null||(Ws=!0),!(Ji&134217727)&&!(Ta&134217727)||Ye===null||Ri(Ye,Ce,kn,!1)}function fd(t,e,n){var r=Oe;Oe|=2;var i=K3(),a=J3();(Ye!==t||Ce!==e)&&(wc=null,Fs(t,e)),e=!1;var s=pt;e:do try{if(qe!==0&&Ae!==null){var o=Ae,l=Sn;switch(qe){case 8:jp(),s=6;break e;case 3:case 2:case 9:case 6:On.current===null&&(e=!0);var u=qe;if(qe=0,Sn=null,gs(t,o,l,u),n&&Ws){s=0;break e}break;default:u=qe,qe=0,Sn=null,gs(t,o,l,u)}}P8(),s=pt;break}catch(c){$3(t,c)}while(!0);return e&&t.shellSuspendCounter++,Yr=za=null,Oe=r,ge.H=i,ge.A=a,Ae===null&&(Ye=null,Ce=0,s0()),s}function P8(){for(;Ae!==null;)j3(Ae)}function B8(t,e){var n=Oe;Oe|=2;var r=K3(),i=J3();Ye!==t||Ce!==e?(wc=null,bc=Rn()+500,Fs(t,e)):Ws=Cl(t,e);e:do try{if(qe!==0&&Ae!==null){e=Ae;var a=Sn;t:switch(qe){case 1:qe=0,Sn=null,gs(t,e,a,1);break;case 2:case 9:if(U1(a)){qe=0,Sn=null,ag(e);break}e=function(){qe!==2&&qe!==9||Ye!==t||(qe=7),Cr(t)},a.then(e,e);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:U1(a)?(qe=0,Sn=null,ag(e)):(qe=0,Sn=null,gs(t,e,a,7));break;case 5:var s=null;switch(Ae.tag){case 26:s=Ae.memoizedState;case 5:case 27:var o=Ae;if(s?m6(s):o.stateNode.complete){qe=0,Sn=null;var l=o.sibling;if(l!==null)Ae=l;else{var u=o.return;u!==null?(Ae=u,m0(u)):Ae=null}break t}}qe=0,Sn=null,gs(t,e,a,5);break;case 6:qe=0,Sn=null,gs(t,e,a,6);break;case 8:jp(),pt=6;break e;default:throw Error($(462))}}q8();break}catch(c){$3(t,c)}while(!0);return Yr=za=null,ge.H=r,ge.A=i,Oe=n,Ae!==null?0:(Ye=null,Ce=0,s0(),pt)}function q8(){for(;Ae!==null&&!ux();)j3(Ae)}function j3(t){var e=S3(t.alternate,t,ni);t.memoizedProps=t.pendingProps,e===null?m0(t):Ae=e}function ag(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=Q1(n,e,e.pendingProps,e.type,void 0,Ce);break;case 11:e=Q1(n,e,e.pendingProps,e.type.render,e.ref,Ce);break;case 5:zp(e);default:_3(n,e),e=Ae=_5(e,ni),e=S3(n,e,ni)}t.memoizedProps=t.pendingProps,e===null?m0(t):Ae=e}function gs(t,e,n,r){Yr=za=null,zp(e),Ts=null,il=0;var i=e.return;try{if(k8(t,i,e,n,Ce)){pt=1,gc(t,$n(n,t.current)),Ae=null;return}}catch(a){if(i!==null)throw Ae=i,a;pt=1,gc(t,$n(n,t.current)),Ae=null;return}e.flags&32768?(Ne||r===1?t=!0:Ws||Ce&536870912?t=!1:(Ni=t=!0,(r===2||r===9||r===3||r===6)&&(r=On.current,r!==null&&r.tag===13&&(r.flags|=16384))),X3(e,t)):m0(e)}function m0(t){var e=t;do{if(e.flags&32768){X3(e,Ni);return}t=e.return;var n=M8(e.alternate,e,ni);if(n!==null){Ae=n;return}if(e=e.sibling,e!==null){Ae=e;return}Ae=e=t}while(e!==null);pt===0&&(pt=5)}function X3(t,e){do{var n=I8(t.alternate,t);if(n!==null){n.flags&=32767,Ae=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){Ae=t;return}Ae=t=n}while(t!==null);pt=6,Ae=null}function sg(t,e,n,r,i,a,s,o,l){t.cancelPendingCommit=null;do g0();while(Ct!==0);if(Oe&6)throw Error($(327));if(e!==null){if(e===t.current)throw Error($(177));if(a=e.lanes|e.childLanes,a|=wp,bx(t,n,a,s,o,l),t===Ye&&(Ae=Ye=null,Ce=0),Hs=e,Hi=t,jr=n,$h=a,Yh=i,F3=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,V8(ac,function(){return t6(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=ge.T,ge.T=null,i=Le.p,Le.p=2,s=Oe,Oe|=4;try{D8(t,e,n)}finally{Oe=s,Le.p=i,ge.T=r}}Ct=1,W3(),Q3(),Z3()}}function W3(){if(Ct===1){Ct=0;var t=Hi,e=Hs,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=ge.T,ge.T=null;var r=Le.p;Le.p=2;var i=Oe;Oe|=4;try{z3(e,t);var a=Wh,s=m5(t.containerInfo),o=a.focusedElem,l=a.selectionRange;if(s!==o&&o&&o.ownerDocument&&p5(o.ownerDocument.documentElement,o)){if(l!==null&&bp(o)){var u=l.start,c=l.end;if(c===void 0&&(c=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(c,o.value.length);else{var f=o.ownerDocument||document,p=f&&f.defaultView||window;if(p.getSelection){var m=p.getSelection(),y=o.textContent.length,w=Math.min(l.start,y),E=l.end===void 0?w:Math.min(l.end,y);!m.extend&&w>E&&(s=E,E=w,w=s);var b=k1(o,w),S=k1(o,E);if(b&&S&&(m.rangeCount!==1||m.anchorNode!==b.node||m.anchorOffset!==b.offset||m.focusNode!==S.node||m.focusOffset!==S.offset)){var _=f.createRange();_.setStart(b.node,b.offset),m.removeAllRanges(),w>E?(m.addRange(_),m.extend(S.node,S.offset)):(_.setEnd(S.node,S.offset),m.addRange(_))}}}}for(f=[],m=o;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var C=f[o];C.element.scrollLeft=C.left,C.element.scrollTop=C.top}}Nc=!!Xh,Wh=Xh=null}finally{Oe=i,Le.p=r,ge.T=n}}t.current=e,Ct=2}}function Q3(){if(Ct===2){Ct=0;var t=Hi,e=Hs,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=ge.T,ge.T=null;var r=Le.p;Le.p=2;var i=Oe;Oe|=4;try{N3(t,e.alternate,e)}finally{Oe=i,Le.p=r,ge.T=n}}Ct=3}}function Z3(){if(Ct===4||Ct===3){Ct=0,cx();var t=Hi,e=Hs,n=jr,r=F3;e.subtreeFlags&10256||e.flags&10256?Ct=5:(Ct=0,Hs=Hi=null,e6(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(qi=null),hp(n),e=e.stateNode,Mn&&typeof Mn.onCommitFiberRoot=="function")try{Mn.onCommitFiberRoot(Al,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=ge.T,i=Le.p,Le.p=2,ge.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var o=r[s];a(o.value,{componentStack:o.stack})}}finally{ge.T=e,Le.p=i}}jr&3&&g0(),Cr(t),i=t.pendingLanes,n&261930&&i&42?t===Kh?Fo++:(Fo=0,Kh=t):Fo=0,zl(0)}}function e6(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ml(e)))}function g0(){return W3(),Q3(),Z3(),t6()}function t6(){if(Ct!==5)return!1;var t=Hi,e=$h;$h=0;var n=hp(jr),r=ge.T,i=Le.p;try{Le.p=32>n?32:n,ge.T=null,n=Yh,Yh=null;var a=Hi,s=jr;if(Ct=0,Hs=Hi=null,jr=0,Oe&6)throw Error($(331));var o=Oe;if(Oe|=4,B3(a.current),O3(a,a.current,s,n),Oe=o,zl(0,!1),Mn&&typeof Mn.onPostCommitFiberRoot=="function")try{Mn.onPostCommitFiberRoot(Al,a)}catch{}return!0}finally{Le.p=i,ge.T=r,e6(t,e)}}function og(t,e,n){e=$n(n,e),e=qh(t.stateNode,e,2),t=Bi(t,e,2),t!==null&&(kl(t,2),Cr(t))}function He(t,e,n){if(t.tag===3)og(t,t,n);else for(;e!==null;){if(e.tag===3){og(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qi===null||!qi.has(r))){t=$n(n,t),n=g3(2),r=Bi(e,n,2),r!==null&&(y3(n,r,e,t),kl(r,2),Cr(r));break}}e=e.return}}function pd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new O8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(Kp=!0,i.add(n),t=H8.bind(null,t,e,n),e.then(t,t))}function H8(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ye===t&&(Ce&n)===n&&(pt===4||pt===3&&(Ce&62914560)===Ce&&300>Rn()-f0?!(Oe&2)&&Fs(t,0):Jp|=n,qs===Ce&&(qs=0)),Cr(t)}function n6(t,e){e===0&&(e=K2()),t=Da(t,e),t!==null&&(kl(t,e),Cr(t))}function F8(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),n6(t,n)}function G8(t,e){var n=0;switch(t.tag){case 31:case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error($(314))}r!==null&&r.delete(e),n6(t,n)}function V8(t,e){return cp(t,e)}var Sc=null,es=null,Jh=!1,_c=!1,md=!1,Mi=0;function Cr(t){t!==es&&t.next===null&&(es===null?Sc=es=t:es=es.next=t),_c=!0,Jh||(Jh=!0,Y8())}function zl(t,e){if(!md&&_c){md=!0;do for(var n=!1,r=Sc;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,o=r.pingedLanes;a=(1<<31-In(42|t)+1)-1,a&=i&~(s&~o),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,lg(r,a))}else a=Ce,a=n0(r,r===Ye?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Cl(r,a)||(n=!0,lg(r,a));r=r.next}while(n);md=!1}}function $8(){r6()}function r6(){_c=Jh=!1;var t=0;Mi!==0&&nS()&&(t=Mi);for(var e=Rn(),n=null,r=Sc;r!==null;){var i=r.next,a=i6(r,e);a===0?(r.next=null,n===null?Sc=i:n.next=i,i===null&&(es=n)):(n=r,(t!==0||a&3)&&(_c=!0)),r=i}Ct!==0&&Ct!==5||zl(t),Mi!==0&&(Mi=0)}function i6(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-In(a),o=1<<s,l=i[s];l===-1?(!(o&n)||o&r)&&(i[s]=vx(o,e)):l<=e&&(t.expiredLanes|=o),a&=~o}if(e=Ye,n=Ce,n=n0(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(qe===2||qe===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&G0(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Cl(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&G0(r),hp(n)){case 2:case 8:n=$2;break;case 32:n=ac;break;case 268435456:n=Y2;break;default:n=ac}return r=a6.bind(null,t),n=cp(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&G0(r),t.callbackPriority=2,t.callbackNode=null,2}function a6(t,e){if(Ct!==0&&Ct!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(g0()&&t.callbackNode!==n)return null;var r=Ce;return r=n0(t,t===Ye?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(V3(t,r,e),i6(t,Rn()),t.callbackNode!=null&&t.callbackNode===n?a6.bind(null,t):null)}function lg(t,e){if(g0())return null;V3(t,e,!0)}function Y8(){iS(function(){Oe&6?cp(V2,$8):r6()})}function Xp(){if(Mi===0){var t=Ls;t===0&&(t=$l,$l<<=1,!($l&261888)&&($l=256)),Mi=t}return Mi}function ug(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:zu(""+t)}function cg(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function K8(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=ug((i[pn]||null).action),s=r.submitter;s&&(e=(e=s[pn]||null)?ug(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var o=new r0("action","action",null,r,i);t.push({event:o,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Mi!==0){var l=s?cg(i,s):new FormData(i);Ph(n,{pending:!0,data:l,method:i.method,action:a},null,l)}}else typeof a=="function"&&(o.preventDefault(),l=s?cg(i,s):new FormData(i),Ph(n,{pending:!0,data:l,method:i.method,action:a},a,l))},currentTarget:i}]})}}for(var gd=0;gd<Ah.length;gd++){var yd=Ah[gd],J8=yd.toLowerCase(),j8=yd[0].toUpperCase()+yd.slice(1);hr(J8,"on"+j8)}hr(y5,"onAnimationEnd");hr(v5,"onAnimationIteration");hr(b5,"onAnimationStart");hr("dblclick","onDoubleClick");hr("focusin","onFocus");hr("focusout","onBlur");hr(d8,"onTransitionRun");hr(h8,"onTransitionStart");hr(f8,"onTransitionCancel");hr(w5,"onTransitionEnd");Us("onMouseEnter",["mouseout","mouseover"]);Us("onMouseLeave",["mouseout","mouseover"]);Us("onPointerEnter",["pointerout","pointerover"]);Us("onPointerLeave",["pointerout","pointerover"]);Ra("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ra("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ra("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ra("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ra("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X8=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ol));function s6(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var o=r[s],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){oc(c)}i.currentTarget=null,a=l}else for(s=0;s<r.length;s++){if(o=r[s],l=o.instance,u=o.currentTarget,o=o.listener,l!==a&&i.isPropagationStopped())break e;a=o,i.currentTarget=u;try{a(i)}catch(c){oc(c)}i.currentTarget=null,a=l}}}}function Ee(t,e){var n=e[vh];n===void 0&&(n=e[vh]=new Set);var r=t+"__bubble";n.has(r)||(o6(e,t,2,!1),n.add(r))}function vd(t,e,n){var r=0;e&&(r|=4),o6(n,t,r,e)}var tu="_reactListening"+Math.random().toString(36).slice(2);function Wp(t){if(!t[tu]){t[tu]=!0,Q2.forEach(function(n){n!=="selectionchange"&&(X8.has(n)||vd(n,!1,t),vd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[tu]||(e[tu]=!0,vd("selectionchange",!1,e))}}function o6(t,e,n,r){switch(w6(e)){case 2:var i=TS;break;case 8:i=ES;break;default:i=tm}n=i.bind(null,e,n,t),i=void 0,!_h||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function bd(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;o!==null;){if(s=os(o),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue e}o=o.parentNode}}r=r.return}s5(function(){var u=a,c=mp(n),f=[];e:{var p=x5.get(t);if(p!==void 0){var m=r0,y=t;switch(t){case"keypress":if(Ou(n)===0)break e;case"keydown":case"keyup":m=Gx;break;case"focusin":y="focus",m=J0;break;case"focusout":y="blur",m=J0;break;case"beforeblur":case"afterblur":m=J0;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=v1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Mx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Yx;break;case y5:case v5:case b5:m=zx;break;case w5:m=Jx;break;case"scroll":case"scrollend":m=Nx;break;case"wheel":m=Xx;break;case"copy":case"cut":case"paste":m=Ox;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=w1;break;case"toggle":case"beforetoggle":m=Qx}var w=(e&4)!==0,E=!w&&(t==="scroll"||t==="scrollend"),b=w?p!==null?p+"Capture":null:p;w=[];for(var S=u,_;S!==null;){var C=S;if(_=C.stateNode,C=C.tag,C!==5&&C!==26&&C!==27||_===null||b===null||(C=Zo(S,b),C!=null&&w.push(ll(S,C,_))),E)break;S=S.return}0<w.length&&(p=new m(p,y,null,n,c),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Sh&&(y=n.relatedTarget||n.fromElement)&&(os(y)||y[Ks]))break e;if((m||p)&&(p=c.window===c?c:(p=c.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=u,y=y?os(y):null,y!==null&&(E=El(y),w=y.tag,y!==E||w!==5&&w!==27&&w!==6)&&(y=null)):(m=null,y=u),m!==y)){if(w=v1,C="onMouseLeave",b="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(w=w1,C="onPointerLeave",b="onPointerEnter",S="pointer"),E=m==null?p:To(m),_=y==null?p:To(y),p=new w(C,S+"leave",m,n,c),p.target=E,p.relatedTarget=_,C=null,os(c)===u&&(w=new w(b,S+"enter",y,n,c),w.target=_,w.relatedTarget=E,C=w),E=C,m&&y)t:{for(w=W8,b=m,S=y,_=0,C=b;C;C=w(C))_++;C=0;for(var I=S;I;I=w(I))C++;for(;0<_-C;)b=w(b),_--;for(;0<C-_;)S=w(S),C--;for(;_--;){if(b===S||S!==null&&b===S.alternate){w=b;break t}b=w(b),S=w(S)}w=null}else w=null;m!==null&&dg(f,p,m,w,!1),y!==null&&E!==null&&dg(f,E,y,w,!0)}}e:{if(p=u?To(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var k=T1;else if(_1(p))if(h5)k=l8;else{k=s8;var D=a8}else m=p.nodeName,!m||m.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?u&&pp(u.elementType)&&(k=T1):k=o8;if(k&&(k=k(t,u))){d5(f,k,n,c);break e}D&&D(t,p,u),t==="focusout"&&u&&p.type==="number"&&u.memoizedProps.value!=null&&xh(p,"number",p.value)}switch(D=u?To(u):window,t){case"focusin":(_1(D)||D.contentEditable==="true")&&(cs=D,Th=u,Do=null);break;case"focusout":Do=Th=cs=null;break;case"mousedown":Eh=!0;break;case"contextmenu":case"mouseup":case"dragend":Eh=!1,N1(f,n,c);break;case"selectionchange":if(c8)break;case"keydown":case"keyup":N1(f,n,c)}var B;if(vp)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else us?u5(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(l5&&n.locale!=="ko"&&(us||O!=="onCompositionStart"?O==="onCompositionEnd"&&us&&(B=o5()):(ki=c,gp="value"in ki?ki.value:ki.textContent,us=!0)),D=Tc(u,O),0<D.length&&(O=new b1(O,t,null,n,c),f.push({event:O,listeners:D}),B?O.data=B:(B=c5(n),B!==null&&(O.data=B)))),(B=e8?t8(t,n):n8(t,n))&&(O=Tc(u,"onBeforeInput"),0<O.length&&(D=new b1("onBeforeInput","beforeinput",null,n,c),f.push({event:D,listeners:O}),D.data=B)),K8(f,t,u,n,c)}s6(f,e)})}function ll(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=Zo(t,n),i!=null&&r.unshift(ll(t,i,a)),i=Zo(t,e),i!=null&&r.push(ll(t,i,a))),t.tag===3)return r;t=t.return}return[]}function W8(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function dg(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(o=o.tag,l!==null&&l===r)break;o!==5&&o!==26&&o!==27||u===null||(l=u,i?(u=Zo(n,a),u!=null&&s.unshift(ll(n,u,l))):i||(u=Zo(n,a),u!=null&&s.push(ll(n,u,l)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Q8=/\r\n?/g,Z8=/\u0000|\uFFFD/g;function hg(t){return(typeof t=="string"?t:""+t).replace(Q8,`
`).replace(Z8,"")}function l6(t,e){return e=hg(e),hg(t)===e}function Ge(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Os(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Os(t,""+r);break;case"className":Jl(t,"class",r);break;case"tabIndex":Jl(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Jl(t,n,r);break;case"style":a5(t,r,a);break;case"data":if(e!=="object"){Jl(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=zu(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Ge(t,e,"name",i.name,i,null),Ge(t,e,"formEncType",i.formEncType,i,null),Ge(t,e,"formMethod",i.formMethod,i,null),Ge(t,e,"formTarget",i.formTarget,i,null)):(Ge(t,e,"encType",i.encType,i,null),Ge(t,e,"method",i.method,i,null),Ge(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=zu(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=$r);break;case"onScroll":r!=null&&Ee("scroll",t);break;case"onScrollEnd":r!=null&&Ee("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error($(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error($(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=zu(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":Ee("beforetoggle",t),Ee("toggle",t),Du(t,"popover",r);break;case"xlinkActuate":zr(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":zr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":zr(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":zr(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":zr(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":zr(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":zr(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":zr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":zr(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Du(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Cx.get(n)||n,Du(t,n,r))}}function jh(t,e,n,r,i,a){switch(n){case"style":a5(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error($(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error($(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Os(t,r):(typeof r=="number"||typeof r=="bigint")&&Os(t,""+r);break;case"onScroll":r!=null&&Ee("scroll",t);break;case"onScrollEnd":r!=null&&Ee("scrollend",t);break;case"onClick":r!=null&&(t.onclick=$r);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Z2.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[pn]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Du(t,n,r)}}}function Gt(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",t),Ee("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error($(137,e));default:Ge(t,e,a,s,n,null)}}i&&Ge(t,e,"srcSet",n.srcSet,n,null),r&&Ge(t,e,"src",n.src,n,null);return;case"input":Ee("invalid",t);var o=a=s=i=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var c=n[r];if(c!=null)switch(r){case"name":i=c;break;case"type":s=c;break;case"checked":l=c;break;case"defaultChecked":u=c;break;case"value":a=c;break;case"defaultValue":o=c;break;case"children":case"dangerouslySetInnerHTML":if(c!=null)throw Error($(137,e));break;default:Ge(t,e,r,c,n,null)}}n5(t,a,o,l,u,s,i,!1);return;case"select":Ee("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":a=o;break;case"defaultValue":s=o;break;case"multiple":r=o;default:Ge(t,e,i,o,n,null)}e=a,n=s,t.multiple=!!r,e!=null?xs(t,!!r,e,!1):n!=null&&xs(t,!!r,n,!0);return;case"textarea":Ee("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(o=n[s],o!=null))switch(s){case"value":r=o;break;case"defaultValue":i=o;break;case"children":a=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error($(91));break;default:Ge(t,e,s,o,n,null)}i5(t,r,i,a);return;case"option":for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Ge(t,e,l,r,n,null)}return;case"dialog":Ee("beforetoggle",t),Ee("toggle",t),Ee("cancel",t),Ee("close",t);break;case"iframe":case"object":Ee("load",t);break;case"video":case"audio":for(r=0;r<ol.length;r++)Ee(ol[r],t);break;case"image":Ee("error",t),Ee("load",t);break;case"details":Ee("toggle",t);break;case"embed":case"source":case"link":Ee("error",t),Ee("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error($(137,e));default:Ge(t,e,u,r,n,null)}return;default:if(pp(e)){for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!==void 0&&jh(t,e,c,r,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(r=n[o],r!=null&&Ge(t,e,o,r,n,null))}function eS(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,o=null,l=null,u=null,c=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":l=f;default:r.hasOwnProperty(m)||Ge(t,e,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case"type":a=m;break;case"name":i=m;break;case"checked":u=m;break;case"defaultChecked":c=m;break;case"value":s=m;break;case"defaultValue":o=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error($(137,e));break;default:m!==f&&Ge(t,e,p,m,r,f)}}wh(t,s,o,l,u,c,a,i);return;case"select":m=s=o=p=null;for(a in n)if(l=n[a],n.hasOwnProperty(a)&&l!=null)switch(a){case"value":break;case"multiple":m=l;default:r.hasOwnProperty(a)||Ge(t,e,a,null,r,l)}for(i in r)if(a=r[i],l=n[i],r.hasOwnProperty(i)&&(a!=null||l!=null))switch(i){case"value":p=a;break;case"defaultValue":o=a;break;case"multiple":s=a;default:a!==l&&Ge(t,e,i,a,r,l)}e=o,n=s,r=m,p!=null?xs(t,!!n,p,!1):!!r!=!!n&&(e!=null?xs(t,!!n,e,!0):xs(t,!!n,n?[]:"",!1));return;case"textarea":m=p=null;for(o in n)if(i=n[o],n.hasOwnProperty(o)&&i!=null&&!r.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:Ge(t,e,o,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":p=i;break;case"defaultValue":m=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error($(91));break;default:i!==a&&Ge(t,e,s,i,r,a)}r5(t,p,m);return;case"option":for(var y in n)if(p=n[y],n.hasOwnProperty(y)&&p!=null&&!r.hasOwnProperty(y))switch(y){case"selected":t.selected=!1;break;default:Ge(t,e,y,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ge(t,e,l,p,r,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var w in n)p=n[w],n.hasOwnProperty(w)&&p!=null&&!r.hasOwnProperty(w)&&Ge(t,e,w,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error($(137,e));break;default:Ge(t,e,u,p,r,m)}return;default:if(pp(e)){for(var E in n)p=n[E],n.hasOwnProperty(E)&&p!==void 0&&!r.hasOwnProperty(E)&&jh(t,e,E,void 0,r,p);for(c in r)p=r[c],m=n[c],!r.hasOwnProperty(c)||p===m||p===void 0&&m===void 0||jh(t,e,c,p,r,m);return}}for(var b in n)p=n[b],n.hasOwnProperty(b)&&p!=null&&!r.hasOwnProperty(b)&&Ge(t,e,b,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Ge(t,e,f,p,r,m)}function fg(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tS(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,s=i.initiatorType,o=i.duration;if(a&&o&&fg(s)){for(s=0,o=i.responseEnd,r+=1;r<n.length;r++){var l=n[r],u=l.startTime;if(u>o)break;var c=l.transferSize,f=l.initiatorType;c&&fg(f)&&(l=l.responseEnd,s+=c*(l<o?1:(o-u)/(l-u)))}if(--r,e+=8*(a+s)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xh=null,Wh=null;function Ec(t){return t.nodeType===9?t:t.ownerDocument}function pg(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u6(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function Qh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wd=null;function nS(){var t=window.event;return t&&t.type==="popstate"?t===wd?!1:(wd=t,!0):(wd=null,!1)}var c6=typeof setTimeout=="function"?setTimeout:void 0,rS=typeof clearTimeout=="function"?clearTimeout:void 0,mg=typeof Promise=="function"?Promise:void 0,iS=typeof queueMicrotask=="function"?queueMicrotask:typeof mg<"u"?function(t){return mg.resolve(null).then(t).catch(aS)}:c6;function aS(t){setTimeout(function(){throw t})}function Zi(t){return t==="head"}function gg(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(r===0){t.removeChild(i),Vs(e);return}r--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")r++;else if(n==="html")Go(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,Go(n);for(var a=n.firstChild;a;){var s=a.nextSibling,o=a.nodeName;a[Nl]||o==="SCRIPT"||o==="STYLE"||o==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=s}}else n==="body"&&Go(t.ownerDocument.body);n=i}while(n);Vs(e)}function yg(t,e){var n=t;t=0;do{var r=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=r}while(n)}function Zh(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Zh(n),fp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function sS(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Nl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=jn(t.nextSibling),t===null)break}return null}function oS(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=jn(t.nextSibling),t===null))return null;return t}function d6(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=jn(t.nextSibling),t===null))return null;return t}function ef(t){return t.data==="$?"||t.data==="$~"}function tf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function lS(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var nf=null;function vg(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return jn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function bg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function h6(t,e,n){switch(e=Ec(n),t){case"html":if(t=e.documentElement,!t)throw Error($(452));return t;case"head":if(t=e.head,!t)throw Error($(453));return t;case"body":if(t=e.body,!t)throw Error($(454));return t;default:throw Error($(451))}}function Go(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);fp(t)}var Wn=new Map,wg=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var oi=Le.d;Le.d={f:uS,r:cS,D:dS,C:hS,L:fS,m:pS,X:gS,S:mS,M:yS};function uS(){var t=oi.f(),e=p0();return t||e}function cS(t){var e=Js(t);e!==null&&e.tag===5&&e.type==="form"?a3(e):oi.r(t)}var Qs=typeof document>"u"?null:document;function f6(t,e,n){var r=Qs;if(r&&typeof e=="string"&&e){var i=Vn(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),wg.has(i)||(wg.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Gt(e,"link",t),It(e),r.head.appendChild(e)))}}function dS(t){oi.D(t),f6("dns-prefetch",t,null)}function hS(t,e){oi.C(t,e),f6("preconnect",t,e)}function fS(t,e,n){oi.L(t,e,n);var r=Qs;if(r&&t&&e){var i='link[rel="preload"][as="'+Vn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+Vn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+Vn(n.imageSizes)+'"]')):i+='[href="'+Vn(t)+'"]';var a=i;switch(e){case"style":a=Gs(t);break;case"script":a=Zs(t)}Wn.has(a)||(t=tt({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Wn.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Ul(a))||e==="script"&&r.querySelector(Ol(a))||(e=r.createElement("link"),Gt(e,"link",t),It(e),r.head.appendChild(e)))}}function pS(t,e){oi.m(t,e);var n=Qs;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+Vn(r)+'"][href="'+Vn(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Zs(t)}if(!Wn.has(a)&&(t=tt({rel:"modulepreload",href:t},e),Wn.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ol(a)))return}r=n.createElement("link"),Gt(r,"link",t),It(r),n.head.appendChild(r)}}}function mS(t,e,n){oi.S(t,e,n);var r=Qs;if(r&&t){var i=ws(r).hoistableStyles,a=Gs(t);e=e||"default";var s=i.get(a);if(!s){var o={loading:0,preload:null};if(s=r.querySelector(Ul(a)))o.loading=5;else{t=tt({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Wn.get(a))&&Qp(t,n);var l=s=r.createElement("link");It(l),Gt(l,"link",t),l._p=new Promise(function(u,c){l.onload=u,l.onerror=c}),l.addEventListener("load",function(){o.loading|=1}),l.addEventListener("error",function(){o.loading|=2}),o.loading|=4,Vu(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:o},i.set(a,s)}}}function gS(t,e){oi.X(t,e);var n=Qs;if(n&&t){var r=ws(n).hoistableScripts,i=Zs(t),a=r.get(i);a||(a=n.querySelector(Ol(i)),a||(t=tt({src:t,async:!0},e),(e=Wn.get(i))&&Zp(t,e),a=n.createElement("script"),It(a),Gt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function yS(t,e){oi.M(t,e);var n=Qs;if(n&&t){var r=ws(n).hoistableScripts,i=Zs(t),a=r.get(i);a||(a=n.querySelector(Ol(i)),a||(t=tt({src:t,async:!0,type:"module"},e),(e=Wn.get(i))&&Zp(t,e),a=n.createElement("script"),It(a),Gt(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function xg(t,e,n,r){var i=(i=Oi.current)?Ac(i):null;if(!i)throw Error($(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Gs(n.href),n=ws(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Gs(n.href);var a=ws(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(Ul(t)))&&!a._p&&(s.instance=a,s.state.loading=5),Wn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Wn.set(t,n),a||vS(i,t,n,s.state))),e&&r===null)throw Error($(528,""));return s}if(e&&r!==null)throw Error($(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Zs(n),n=ws(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error($(444,t))}}function Gs(t){return'href="'+Vn(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function p6(t){return tt({},t,{"data-precedence":t.precedence,precedence:null})}function vS(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Gt(e,"link",n),It(e),t.head.appendChild(e))}function Zs(t){return'[src="'+Vn(t)+'"]'}function Ol(t){return"script[async]"+t}function Sg(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+Vn(n.href)+'"]');if(r)return e.instance=r,It(r),r;var i=tt({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),It(r),Gt(r,"style",i),Vu(r,n.precedence,t),e.instance=r;case"stylesheet":i=Gs(n.href);var a=t.querySelector(Ul(i));if(a)return e.state.loading|=4,e.instance=a,It(a),a;r=p6(n),(i=Wn.get(i))&&Qp(r,i),a=(t.ownerDocument||t).createElement("link"),It(a);var s=a;return s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Gt(a,"link",r),e.state.loading|=4,Vu(a,n.precedence,t),e.instance=a;case"script":return a=Zs(n.src),(i=t.querySelector(Ol(a)))?(e.instance=i,It(i),i):(r=n,(i=Wn.get(a))&&(r=tt({},n),Zp(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),It(i),Gt(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error($(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,Vu(r,n.precedence,t));return e.instance}function Vu(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var o=r[s];if(o.dataset.precedence===e)a=o;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Qp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function Zp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var $u=null;function _g(t,e,n){if($u===null){var r=new Map,i=$u=new Map;i.set(n,r)}else i=$u,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[Nl]||a[qt]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var o=r.get(s);o?o.push(a):r.set(s,[a])}}return r}function Tg(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function bS(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function m6(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function wS(t,e,n,r){if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Gs(r.href),a=e.querySelector(Ul(i));if(a){e=a._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Cc.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=a,It(a);return}a=e.ownerDocument||e,r=p6(r),(i=Wn.get(i))&&Qp(r,i),a=a.createElement("link"),It(a);var s=a;s._p=new Promise(function(o,l){s.onload=o,s.onerror=l}),Gt(a,"link",r),n.instance=a}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Cc.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var xd=0;function xS(t,e){return t.stylesheets&&t.count===0&&Yu(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var r=setTimeout(function(){if(t.stylesheets&&Yu(t,t.stylesheets),t.unsuspend){var a=t.unsuspend;t.unsuspend=null,a()}},6e4+e);0<t.imgBytes&&xd===0&&(xd=62500*tS());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Yu(t,t.stylesheets),t.unsuspend)){var a=t.unsuspend;t.unsuspend=null,a()}},(t.imgBytes>xd?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function Yu(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,e.forEach(SS,t),kc=null,Cc.call(t))}function SS(t,e){if(!(e.state.loading&4)){var n=kc.get(t);if(n)var r=n.get(null);else{n=new Map,kc.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=Cc.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var ul={$$typeof:Vr,Provider:null,Consumer:null,_currentValue:wa,_currentValue2:wa,_threadCount:0};function _S(t,e,n,r,i,a,s,o,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=V0(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=V0(0),this.hiddenUpdates=V0(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function g6(t,e,n,r,i,a,s,o,l,u,c,f){return t=new _S(t,e,n,s,l,u,c,f,o),e=1,a===!0&&(e|=24),a=Tn(3,null,null,e),t.current=a,a.stateNode=t,e=Ep(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},kp(a),t}function y6(t){return t?(t=fs,t):fs}function v6(t,e,n,r,i,a){i=y6(i),r.context===null?r.context=i:r.pendingContext=i,r=Pi(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Bi(t,r,e),n!==null&&(hn(n,t,e),Uo(n,t,e))}function Eg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function em(t,e){Eg(t,e),(t=t.alternate)&&Eg(t,e)}function b6(t){if(t.tag===13||t.tag===31){var e=Da(t,67108864);e!==null&&hn(e,t,67108864),em(t,67108864)}}function Ag(t){if(t.tag===13||t.tag===31){var e=Dn();e=dp(e);var n=Da(t,e);n!==null&&hn(n,t,e),em(t,e)}}var Nc=!0;function TS(t,e,n,r){var i=ge.T;ge.T=null;var a=Le.p;try{Le.p=2,tm(t,e,n,r)}finally{Le.p=a,ge.T=i}}function ES(t,e,n,r){var i=ge.T;ge.T=null;var a=Le.p;try{Le.p=8,tm(t,e,n,r)}finally{Le.p=a,ge.T=i}}function tm(t,e,n,r){if(Nc){var i=rf(r);if(i===null)bd(t,e,r,Rc,n),Cg(t,r);else if(CS(i,t,e,n,r))r.stopPropagation();else if(Cg(t,r),e&4&&-1<AS.indexOf(t)){for(;i!==null;){var a=Js(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=da(a.pendingLanes);if(s!==0){var o=a;for(o.pendingLanes|=2,o.entangledLanes|=2;s;){var l=1<<31-In(s);o.entanglements[1]|=l,s&=~l}Cr(a),!(Oe&6)&&(bc=Rn()+500,zl(0))}}break;case 31:case 13:o=Da(a,2),o!==null&&hn(o,a,2),p0(),em(a,2)}if(a=rf(r),a===null&&bd(t,e,r,Rc,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else bd(t,e,r,null,n)}}function rf(t){return t=mp(t),nm(t)}var Rc=null;function nm(t){if(Rc=null,t=os(t),t!==null){var e=El(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=B2(e),t!==null)return t;t=null}else if(n===31){if(t=q2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return Rc=t,null}function w6(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dx()){case V2:return 2;case $2:return 8;case ac:case hx:return 32;case Y2:return 268435456;default:return 32}default:return 32}}var af=!1,Fi=null,Gi=null,Vi=null,cl=new Map,dl=new Map,Ei=[],AS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Cg(t,e){switch(t){case"focusin":case"focusout":Fi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":cl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":dl.delete(e.pointerId)}}function go(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Js(e),e!==null&&b6(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function CS(t,e,n,r,i){switch(e){case"focusin":return Fi=go(Fi,t,e,n,r,i),!0;case"dragenter":return Gi=go(Gi,t,e,n,r,i),!0;case"mouseover":return Vi=go(Vi,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return cl.set(a,go(cl.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,dl.set(a,go(dl.get(a)||null,t,e,n,r,i)),!0}return!1}function x6(t){var e=os(t.target);if(e!==null){var n=El(e);if(n!==null){if(e=n.tag,e===13){if(e=B2(n),e!==null){t.blockedOn=e,d1(t.priority,function(){Ag(n)});return}}else if(e===31){if(e=q2(n),e!==null){t.blockedOn=e,d1(t.priority,function(){Ag(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ku(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=rf(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sh=r,n.target.dispatchEvent(r),Sh=null}else return e=Js(n),e!==null&&b6(e),t.blockedOn=n,!1;e.shift()}return!0}function kg(t,e,n){Ku(t)&&n.delete(e)}function kS(){af=!1,Fi!==null&&Ku(Fi)&&(Fi=null),Gi!==null&&Ku(Gi)&&(Gi=null),Vi!==null&&Ku(Vi)&&(Vi=null),cl.forEach(kg),dl.forEach(kg)}function nu(t,e){t.blockedOn===e&&(t.blockedOn=null,af||(af=!0,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,kS)))}var ru=null;function Ng(t){ru!==t&&(ru=t,kt.unstable_scheduleCallback(kt.unstable_NormalPriority,function(){ru===t&&(ru=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(nm(r||n)===null)continue;break}var a=Js(n);a!==null&&(t.splice(e,3),e-=3,Ph(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Vs(t){function e(l){return nu(l,t)}Fi!==null&&nu(Fi,t),Gi!==null&&nu(Gi,t),Vi!==null&&nu(Vi,t),cl.forEach(e),dl.forEach(e);for(var n=0;n<Ei.length;n++){var r=Ei[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<Ei.length&&(n=Ei[0],n.blockedOn===null);)x6(n),n.blockedOn===null&&Ei.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[pn]||null;if(typeof a=="function")s||Ng(n);else if(s){var o=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[pn]||null)o=s.formAction;else if(nm(i)!==null)continue}else o=s.action;typeof o=="function"?n[r+1]=o:(n.splice(r,3),r-=3),Ng(n)}}}function S6(){function t(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(s){return i=s})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){r=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function rm(t){this._internalRoot=t}y0.prototype.render=rm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($(409));var n=e.current,r=Dn();v6(n,r,t,e,null,null)};y0.prototype.unmount=rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;v6(t.current,2,null,t,null,null),p0(),e[Ks]=null}};function y0(t){this._internalRoot=t}y0.prototype.unstable_scheduleHydration=function(t){if(t){var e=W2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ei.length&&e!==0&&e<Ei[n].priority;n++);Ei.splice(n,0,t),n===0&&x6(t)}};var Rg=L2.version;if(Rg!=="19.2.3")throw Error($(527,Rg,"19.2.3"));Le.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($(188)):(t=Object.keys(t).join(","),Error($(268,t)));return t=ix(e),t=t!==null?H2(t):null,t=t===null?null:t.stateNode,t};var NS={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ge,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{Al=iu.inject(NS),Mn=iu}catch{}}e0.createRoot=function(t,e){if(!P2(t))throw Error($(299));var n=!1,r="",i=f3,a=p3,s=m3;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=g6(t,1,!1,null,null,n,r,null,i,a,s,S6),t[Ks]=e.current,Wp(t),new rm(e)};e0.hydrateRoot=function(t,e,n){if(!P2(t))throw Error($(299));var r=!1,i="",a=f3,s=p3,o=m3,l=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.formState!==void 0&&(l=n.formState)),e=g6(t,1,!0,e,n??null,r,i,l,a,s,o,S6),e.context=y6(null),n=e.current,r=Dn(),r=dp(r),i=Pi(r),i.callback=null,Bi(n,i,r),n=r,e.current.lanes=n,kl(e,n),Cr(e),t[Ks]=e.current,Wp(t),new y0(e)};e0.version="19.2.3";function _6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_6)}catch(t){console.error(t)}}_6(),M2.exports=e0;var RS=M2.exports;const MS=Qc(RS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),DS=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),Mg=t=>{const e=DS(t);return e.charAt(0).toUpperCase()+e.slice(1)},T6=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),zS=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var US={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=ee.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},l)=>ee.createElement("svg",{ref:l,...US,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:T6("lucide",i),...!a&&!zS(o)&&{"aria-hidden":"true"},...o},[...s.map(([u,c])=>ee.createElement(u,c)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(t,e)=>{const n=ee.forwardRef(({className:r,...i},a)=>ee.createElement(OS,{ref:a,iconNode:e,className:T6(`lucide-${IS(Mg(t))}`,`lucide-${t}`,r),...i}));return n.displayName=Mg(t),n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],PS=be("activity",LS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],qS=be("arrow-left",BS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],E6=be("arrow-right",HS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Vo=be("book-open",FS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]],VS=be("book",GS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $S=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],YS=be("camera",$S);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],JS=be("check",KS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],XS=be("chevron-down",jS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],QS=be("chevron-right",WS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],e9=be("circle-alert",ZS);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],n9=be("circle-check-big",t9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r9=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],i9=be("clock",r9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a9=[["path",{d:"M6 16.326A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 .5 8.973",key:"1cez44"}],["path",{d:"m13 12-3 5h4l-3 5",key:"1t22er"}]],s9=be("cloud-lightning",a9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o9=[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]],l9=be("cloud-off",o9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u9=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],Ig=be("crop",u9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c9=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],sf=be("database",c9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d9=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],h9=be("eye-off",d9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f9=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],p9=be("eye",f9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m9=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],of=be("folder",m9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g9=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],y9=be("funnel",g9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],lf=be("grid-3x3",v9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]],w9=be("hard-drive",b9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],S9=be("image",x9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],uf=be("key",_9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T9=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],E9=be("link",T9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A9=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Mc=be("loader-circle",A9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],k9=be("lock",C9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],R9=be("log-out",N9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M9=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],A6=be("mail",M9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I9=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],D9=be("maximize-2",I9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z9=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],U9=be("pen-line",z9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ic=be("plus",O9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L9=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Dc=be("refresh-cw",L9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],C6=be("save",P9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B9=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],q9=be("search",B9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H9=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],F9=be("server",H9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G9=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Dg=be("settings",G9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V9=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],im=be("shield-check",V9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $9=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Sd=be("sparkles",$9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y9=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hl=be("trash-2",Y9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K9=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],k6=be("triangle-alert",K9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J9=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],zc=be("user",J9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j9=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Cs=be("x",j9);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X9=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],W9=be("zap",X9),fl={zh:{nav_collection:"",nav_add_new:"",nav_settings:"",app_title:"",subtitle_suffix:"",welcome_title:"",welcome_subtitle:"",label_name:"",label_api_key:"Gemini API Key",label_api_desc:" AI ",btn_start:"",dash_no_mistakes:"",dash_add_first:"",dash_semesters:"",dash_select_sem:"",dash_subjects:"",dash_items:"",btn_analyze:"AI ",btn_analyzing:"...",btn_hide_solution:"",btn_delete:"",btn_edit:"",btn_regenerate:"",ai_correct_solution:"AI  ()",add_title:"",label_subject:"",label_semester:"",label_tags:"",upload_text:"",btn_save:"",btn_cancel:"",btn_crop:"",btn_clean_ai:"",settings_title:"",sec_profile:"",sec_profile_desc:"",sec_storage:"",sec_storage_desc:"R2 ",sec_ai:"AI ",sec_ai_desc:"Gemini API ",btn_save_settings:"",btn_saved:"",btn_reset_app:"",btn_export:"",btn_import:"",manual_backup:"",label_account_id:" ID",label_bucket:"",label_access_key:"Access Key ID",label_secret_key:"Secret Access Key",subj_Mathematics:"",subj_English:"",subj_Chinese:"",subj_Science:"",subj_Physics:"",subj_Chemistry:"",subj_Other:""}},Q9=({children:t,currentView:e,onChangeView:n,username:r,language:i})=>{const a=fl[i];return x.jsxs("div",{className:"min-h-screen flex flex-col md:flex-row bg-[#F8FAFC]",children:[x.jsx("nav",{className:"hidden md:flex md:w-60 md:h-screen md:sticky md:top-0 p-6 flex-col z-30 flex-shrink-0 border-r border-slate-100 bg-white",children:x.jsxs("div",{className:"flex flex-col h-full",children:[x.jsxs("div",{className:"mb-12 px-2",children:[x.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[x.jsx("div",{className:"bg-blue-600 p-1.5 rounded-lg text-white",children:x.jsx(VS,{size:18,strokeWidth:2.5})}),x.jsx("span",{className:"font-bold text-lg text-slate-800 tracking-tight",children:""})]}),x.jsx("p",{className:"text-[9px] text-slate-400 font-bold tracking-[0.2em] uppercase",children:"Archive System"})]}),x.jsxs("div",{className:"flex-1 space-y-1.5",children:[x.jsx(au,{active:e==="dashboard"||e==="archive",onClick:()=>n("dashboard"),icon:x.jsx(lf,{size:18}),label:a.nav_collection}),x.jsx(au,{active:e==="add",onClick:()=>n("add"),icon:x.jsx(Ic,{size:18}),label:a.nav_add_new}),x.jsx(au,{active:e==="trash",onClick:()=>n("trash"),icon:x.jsx(hl,{size:18}),label:""})]}),x.jsxs("div",{className:"pt-6 border-t border-slate-50 mt-auto space-y-4",children:[r&&x.jsxs("div",{className:"px-3 py-2",children:[x.jsx("p",{className:"text-[9px] font-bold text-slate-300 uppercase tracking-widest mb-1.5",children:"Learner"}),x.jsx("p",{className:"text-sm font-bold text-slate-700 truncate",children:r})]}),x.jsx(au,{active:e==="settings",onClick:()=>n("settings"),icon:x.jsx(Dg,{size:18}),label:a.nav_settings})]})]})}),x.jsx("main",{className:`flex-1 overflow-y-auto w-full ${e==="add"?"p-0":"p-4 md:p-12 pb-32 md:pb-12"}`,children:x.jsx("div",{className:`${e==="add"?"w-full h-full":"max-w-6xl mx-auto min-h-full flex flex-col"}`,children:t})}),x.jsxs("div",{className:"md:hidden fixed bottom-0 left-0 right-0 z-[100] px-2 pb-[env(safe-area-inset-bottom,16px)] pt-2 bg-white/90 backdrop-blur-xl border-t border-slate-100 grid grid-cols-5 items-center",children:[x.jsx(su,{active:e==="dashboard",onClick:()=>n("dashboard"),icon:x.jsx(lf,{size:22}),label:""}),x.jsx(su,{active:e==="archive",onClick:()=>n("archive"),icon:x.jsx(of,{size:22}),label:""}),x.jsx("div",{className:"flex justify-center -mt-2",children:x.jsx("button",{onClick:()=>n("add"),className:`flex items-center justify-center w-12 h-12 rounded-2xl shadow-lg transition-all active:scale-95 ${e==="add"?"bg-blue-600 text-white":"bg-slate-800 text-white"}`,children:x.jsx(Ic,{size:26,strokeWidth:2.5})})}),x.jsx(su,{active:e==="trash",onClick:()=>n("trash"),icon:x.jsx(hl,{size:22}),label:""}),x.jsx(su,{active:e==="settings",onClick:()=>n("settings"),icon:x.jsx(Dg,{size:22}),label:""})]})]})},au=({active:t,onClick:e,icon:n,label:r})=>x.jsxs("button",{onClick:e,className:`flex items-center gap-3.5 px-3 py-2.5 rounded-lg w-full transition-all duration-200 text-sm font-semibold
      ${t?"bg-blue-50 text-blue-700":"text-slate-400 hover:text-slate-600 hover:bg-slate-50"}`,children:[x.jsx("span",{className:t?"text-blue-600":"text-slate-300",children:n}),x.jsx("span",{children:r})]}),su=({active:t,onClick:e,icon:n,label:r})=>x.jsxs("button",{onClick:e,className:`flex flex-col items-center justify-center gap-0.5 h-14 transition-all ${t?"text-blue-600":"text-slate-300"}`,children:[n,x.jsx("span",{className:"text-[10px] font-bold tracking-tight",children:r})]}),Ii=({children:t,className:e="",onClick:n,noPadding:r=!1})=>x.jsx("div",{onClick:n,className:`
        bg-white rounded-xl border border-gray-100 shadow-[0_2px_4px_rgba(0,0,0,0.02)] transition-all duration-300
        ${n?"cursor-pointer hover:border-gray-300 hover:shadow-[0_8px_16px_rgba(0,0,0,0.04)] active:scale-[0.99]":""} 
        ${r?"":"p-6"}
        ${e}
      `,children:t});function zg(t){const e=[],n=String(t||"");let r=n.indexOf(","),i=0,a=!1;for(;!a;){r===-1&&(r=n.length,a=!0);const s=n.slice(i,r).trim();(s||!a)&&e.push(s),i=r+1,r=n.indexOf(",",i)}return e}function Z9(t,e){const n={};return(t[t.length-1]===""?[...t,""]:t).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const e_=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,t_=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,n_={};function Ug(t,e){return(n_.jsx?t_:e_).test(t)}const r_=/[ \t\n\f\r]/g;function i_(t){return typeof t=="object"?t.type==="text"?Og(t.value):!1:Og(t)}function Og(t){return t.replace(r_,"")===""}class Ll{constructor(e,n,r){this.normal=n,this.property=e,r&&(this.space=r)}}Ll.prototype.normal={};Ll.prototype.property={};Ll.prototype.space=void 0;function N6(t,e){const n={},r={};for(const i of t)Object.assign(n,i.property),Object.assign(r,i.normal);return new Ll(n,r,e)}function pl(t){return t.toLowerCase()}class gn{constructor(e,n){this.attribute=n,this.property=e}}gn.prototype.attribute="";gn.prototype.booleanish=!1;gn.prototype.boolean=!1;gn.prototype.commaOrSpaceSeparated=!1;gn.prototype.commaSeparated=!1;gn.prototype.defined=!1;gn.prototype.mustUseProperty=!1;gn.prototype.number=!1;gn.prototype.overloadedBoolean=!1;gn.prototype.property="";gn.prototype.spaceSeparated=!1;gn.prototype.space=void 0;let a_=0;const _e=Ua(),bt=Ua(),cf=Ua(),W=Ua(),je=Ua(),ks=Ua(),bn=Ua();function Ua(){return 2**++a_}const df=Object.freeze(Object.defineProperty({__proto__:null,boolean:_e,booleanish:bt,commaOrSpaceSeparated:bn,commaSeparated:ks,number:W,overloadedBoolean:cf,spaceSeparated:je},Symbol.toStringTag,{value:"Module"})),_d=Object.keys(df);class am extends gn{constructor(e,n,r,i){let a=-1;if(super(e,n),Lg(this,"space",i),typeof r=="number")for(;++a<_d.length;){const s=_d[a];Lg(this,_d[a],(r&df[s])===df[s])}}}am.prototype.defined=!0;function Lg(t,e,n){n&&(t[e]=n)}function eo(t){const e={},n={};for(const[r,i]of Object.entries(t.properties)){const a=new am(r,t.transform(t.attributes||{},r),i,t.space);t.mustUseProperty&&t.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),e[r]=a,n[pl(r)]=r,n[pl(a.attribute)]=r}return new Ll(e,n,t.space)}const R6=eo({properties:{ariaActiveDescendant:null,ariaAtomic:bt,ariaAutoComplete:null,ariaBusy:bt,ariaChecked:bt,ariaColCount:W,ariaColIndex:W,ariaColSpan:W,ariaControls:je,ariaCurrent:null,ariaDescribedBy:je,ariaDetails:null,ariaDisabled:bt,ariaDropEffect:je,ariaErrorMessage:null,ariaExpanded:bt,ariaFlowTo:je,ariaGrabbed:bt,ariaHasPopup:null,ariaHidden:bt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:je,ariaLevel:W,ariaLive:null,ariaModal:bt,ariaMultiLine:bt,ariaMultiSelectable:bt,ariaOrientation:null,ariaOwns:je,ariaPlaceholder:null,ariaPosInSet:W,ariaPressed:bt,ariaReadOnly:bt,ariaRelevant:null,ariaRequired:bt,ariaRoleDescription:je,ariaRowCount:W,ariaRowIndex:W,ariaRowSpan:W,ariaSelected:bt,ariaSetSize:W,ariaSort:null,ariaValueMax:W,ariaValueMin:W,ariaValueNow:W,ariaValueText:null,role:null},transform(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function M6(t,e){return e in t?t[e]:e}function I6(t,e){return M6(t,e.toLowerCase())}const s_=eo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ks,acceptCharset:je,accessKey:je,action:null,allow:null,allowFullScreen:_e,allowPaymentRequest:_e,allowUserMedia:_e,alt:null,as:null,async:_e,autoCapitalize:null,autoComplete:je,autoFocus:_e,autoPlay:_e,blocking:je,capture:null,charSet:null,checked:_e,cite:null,className:je,cols:W,colSpan:null,content:null,contentEditable:bt,controls:_e,controlsList:je,coords:W|ks,crossOrigin:null,data:null,dateTime:null,decoding:null,default:_e,defer:_e,dir:null,dirName:null,disabled:_e,download:cf,draggable:bt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:_e,formTarget:null,headers:je,height:W,hidden:cf,high:W,href:null,hrefLang:null,htmlFor:je,httpEquiv:je,id:null,imageSizes:null,imageSrcSet:null,inert:_e,inputMode:null,integrity:null,is:null,isMap:_e,itemId:null,itemProp:je,itemRef:je,itemScope:_e,itemType:je,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:_e,low:W,manifest:null,max:null,maxLength:W,media:null,method:null,min:null,minLength:W,multiple:_e,muted:_e,name:null,nonce:null,noModule:_e,noValidate:_e,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:_e,optimum:W,pattern:null,ping:je,placeholder:null,playsInline:_e,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:_e,referrerPolicy:null,rel:je,required:_e,reversed:_e,rows:W,rowSpan:W,sandbox:je,scope:null,scoped:_e,seamless:_e,selected:_e,shadowRootClonable:_e,shadowRootDelegatesFocus:_e,shadowRootMode:null,shape:null,size:W,sizes:null,slot:null,span:W,spellCheck:bt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:W,step:null,style:null,tabIndex:W,target:null,title:null,translate:null,type:null,typeMustMatch:_e,useMap:null,value:bt,width:W,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:je,axis:null,background:null,bgColor:null,border:W,borderColor:null,bottomMargin:W,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:_e,declare:_e,event:null,face:null,frame:null,frameBorder:null,hSpace:W,leftMargin:W,link:null,longDesc:null,lowSrc:null,marginHeight:W,marginWidth:W,noResize:_e,noHref:_e,noShade:_e,noWrap:_e,object:null,profile:null,prompt:null,rev:null,rightMargin:W,rules:null,scheme:null,scrolling:bt,standby:null,summary:null,text:null,topMargin:W,valueType:null,version:null,vAlign:null,vLink:null,vSpace:W,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:_e,disableRemotePlayback:_e,prefix:null,property:null,results:W,security:null,unselectable:null},space:"html",transform:I6}),o_=eo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:bn,accentHeight:W,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:W,amplitude:W,arabicForm:null,ascent:W,attributeName:null,attributeType:null,azimuth:W,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:W,by:null,calcMode:null,capHeight:W,className:je,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:W,diffuseConstant:W,direction:null,display:null,dur:null,divisor:W,dominantBaseline:null,download:_e,dx:null,dy:null,edgeMode:null,editable:null,elevation:W,enableBackground:null,end:null,event:null,exponent:W,externalResourcesRequired:null,fill:null,fillOpacity:W,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ks,g2:ks,glyphName:ks,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:W,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:W,horizOriginX:W,horizOriginY:W,id:null,ideographic:W,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:W,k:W,k1:W,k2:W,k3:W,k4:W,kernelMatrix:bn,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:W,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:W,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:W,overlineThickness:W,paintOrder:null,panose1:null,path:null,pathLength:W,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:je,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:W,pointsAtY:W,pointsAtZ:W,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:bn,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:bn,rev:bn,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:bn,requiredFeatures:bn,requiredFonts:bn,requiredFormats:bn,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:W,specularExponent:W,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:W,strikethroughThickness:W,string:null,stroke:null,strokeDashArray:bn,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:W,strokeOpacity:W,strokeWidth:null,style:null,surfaceScale:W,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:bn,tabIndex:W,tableValues:null,target:null,targetX:W,targetY:W,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:bn,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:W,underlineThickness:W,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:W,values:null,vAlphabetic:W,vMathematical:W,vectorEffect:null,vHanging:W,vIdeographic:W,version:null,vertAdvY:W,vertOriginX:W,vertOriginY:W,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:W,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:M6}),D6=eo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(t,e){return"xlink:"+e.slice(5).toLowerCase()}}),z6=eo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:I6}),U6=eo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(t,e){return"xml:"+e.slice(3).toLowerCase()}}),l_={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},u_=/[A-Z]/g,Pg=/-[a-z]/g,c_=/^data[-\w.:]+$/i;function O6(t,e){const n=pl(e);let r=e,i=gn;if(n in t.normal)return t.property[t.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&c_.test(e)){if(e.charAt(4)==="-"){const a=e.slice(5).replace(Pg,h_);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=e.slice(4);if(!Pg.test(a)){let s=a.replace(u_,d_);s.charAt(0)!=="-"&&(s="-"+s),e="data"+s}}i=am}return new i(r,e)}function d_(t){return"-"+t.toLowerCase()}function h_(t){return t.charAt(1).toUpperCase()}const L6=N6([R6,s_,D6,z6,U6],"html"),v0=N6([R6,o_,D6,z6,U6],"svg");function Bg(t){const e=String(t||"").trim();return e?e.split(/[ \t\n\r\f]+/g):[]}function f_(t){return t.join(" ").trim()}var sm={},qg=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,p_=/\n/g,m_=/^\s*/,g_=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,y_=/^:\s*/,v_=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,b_=/^[;\s]*/,w_=/^\s+|\s+$/g,x_=`
`,Hg="/",Fg="*",ga="",S_="comment",__="declaration";function T_(t,e){if(typeof t!="string")throw new TypeError("First argument must be a string");if(!t)return[];e=e||{};var n=1,r=1;function i(y){var w=y.match(p_);w&&(n+=w.length);var E=y.lastIndexOf(x_);r=~E?y.length-E:r+y.length}function a(){var y={line:n,column:r};return function(w){return w.position=new s(y),u(),w}}function s(y){this.start=y,this.end={line:n,column:r},this.source=e.source}s.prototype.content=t;function o(y){var w=new Error(e.source+":"+n+":"+r+": "+y);if(w.reason=y,w.filename=e.source,w.line=n,w.column=r,w.source=t,!e.silent)throw w}function l(y){var w=y.exec(t);if(w){var E=w[0];return i(E),t=t.slice(E.length),w}}function u(){l(m_)}function c(y){var w;for(y=y||[];w=f();)w!==!1&&y.push(w);return y}function f(){var y=a();if(!(Hg!=t.charAt(0)||Fg!=t.charAt(1))){for(var w=2;ga!=t.charAt(w)&&(Fg!=t.charAt(w)||Hg!=t.charAt(w+1));)++w;if(w+=2,ga===t.charAt(w-1))return o("End of comment missing");var E=t.slice(2,w-2);return r+=2,i(E),t=t.slice(w),r+=2,y({type:S_,comment:E})}}function p(){var y=a(),w=l(g_);if(w){if(f(),!l(y_))return o("property missing ':'");var E=l(v_),b=y({type:__,property:Gg(w[0].replace(qg,ga)),value:E?Gg(E[0].replace(qg,ga)):ga});return l(b_),b}}function m(){var y=[];c(y);for(var w;w=p();)w!==!1&&(y.push(w),c(y));return y}return u(),m()}function Gg(t){return t?t.replace(w_,ga):ga}var E_=T_,A_=tc&&tc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sm,"__esModule",{value:!0});sm.default=k_;const C_=A_(E_);function k_(t,e){let n=null;if(!t||typeof t!="string")return n;const r=(0,C_.default)(t),i=typeof e=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?e(s,o,a):o&&(n=n||{},n[s]=o)}),n}var b0={};Object.defineProperty(b0,"__esModule",{value:!0});b0.camelCase=void 0;var N_=/^--[a-zA-Z0-9_-]+$/,R_=/-([a-z])/g,M_=/^[^-]+$/,I_=/^-(webkit|moz|ms|o|khtml)-/,D_=/^-(ms)-/,z_=function(t){return!t||M_.test(t)||N_.test(t)},U_=function(t,e){return e.toUpperCase()},Vg=function(t,e){return"".concat(e,"-")},O_=function(t,e){return e===void 0&&(e={}),z_(t)?t:(t=t.toLowerCase(),e.reactCompat?t=t.replace(D_,Vg):t=t.replace(I_,Vg),t.replace(R_,U_))};b0.camelCase=O_;var L_=tc&&tc.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},P_=L_(sm),B_=b0;function hf(t,e){var n={};return!t||typeof t!="string"||(0,P_.default)(t,function(r,i){r&&i&&(n[(0,B_.camelCase)(r,e)]=i)}),n}hf.default=hf;var q_=hf;const H_=Qc(q_),P6=B6("end"),om=B6("start");function B6(t){return e;function e(n){const r=n&&n.position&&n.position[t]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function F_(t){const e=om(t),n=P6(t);if(e&&n)return{start:e,end:n}}function $o(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?$g(t.position):"start"in t||"end"in t?$g(t):"line"in t||"column"in t?ff(t):""}function ff(t){return Yg(t&&t.line)+":"+Yg(t&&t.column)}function $g(t){return ff(t&&t.start)+"-"+ff(t&&t.end)}function Yg(t){return t&&typeof t=="number"?t:1}class Yt extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?i=e:!a.cause&&e&&(s=!0,i=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?a.ruleId=r:(a.source=r.slice(0,l),a.ruleId=r.slice(l+1))}if(!a.place&&a.ancestors&&a.ancestors){const l=a.ancestors[a.ancestors.length-1];l&&(a.place=l.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=$o(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}Yt.prototype.file="";Yt.prototype.name="";Yt.prototype.reason="";Yt.prototype.message="";Yt.prototype.stack="";Yt.prototype.column=void 0;Yt.prototype.line=void 0;Yt.prototype.ancestors=void 0;Yt.prototype.cause=void 0;Yt.prototype.fatal=void 0;Yt.prototype.place=void 0;Yt.prototype.ruleId=void 0;Yt.prototype.source=void 0;const lm={}.hasOwnProperty,G_=new Map,V_=/[A-Z]/g,$_=new Set(["table","tbody","thead","tfoot","tr"]),Y_=new Set(["td","th"]),q6="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function K_(t,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=e.filePath||void 0;let r;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=tT(n,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=eT(n,e.jsx,e.jsxs)}const i={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:r,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?v0:L6,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},a=H6(i,t,void 0);return a&&typeof a!="string"?a:i.create(t,i.Fragment,{children:a||void 0},void 0)}function H6(t,e,n){if(e.type==="element")return J_(t,e,n);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return j_(t,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return W_(t,e,n);if(e.type==="mdxjsEsm")return X_(t,e);if(e.type==="root")return Q_(t,e,n);if(e.type==="text")return Z_(t,e)}function J_(t,e,n){const r=t.schema;let i=r;e.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=v0,t.schema=i),t.ancestors.push(e);const a=G6(t,e.tagName,!1),s=nT(t,e);let o=cm(t,e);return $_.has(e.tagName)&&(o=o.filter(function(l){return typeof l=="string"?!i_(l):!0})),F6(t,s,a,e),um(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function j_(t,e){if(e.data&&e.data.estree&&t.evaluater){const r=e.data.estree.body[0];return r.type,t.evaluater.evaluateExpression(r.expression)}ml(t,e.position)}function X_(t,e){if(e.data&&e.data.estree&&t.evaluater)return t.evaluater.evaluateProgram(e.data.estree);ml(t,e.position)}function W_(t,e,n){const r=t.schema;let i=r;e.name==="svg"&&r.space==="html"&&(i=v0,t.schema=i),t.ancestors.push(e);const a=e.name===null?t.Fragment:G6(t,e.name,!0),s=rT(t,e),o=cm(t,e);return F6(t,s,a,e),um(s,o),t.ancestors.pop(),t.schema=r,t.create(e,a,s,n)}function Q_(t,e,n){const r={};return um(r,cm(t,e)),t.create(e,t.Fragment,r,n)}function Z_(t,e){return e.value}function F6(t,e,n,r){typeof n!="string"&&n!==t.Fragment&&t.passNode&&(e.node=r)}function um(t,e){if(e.length>0){const n=e.length>1?e:e[0];n&&(t.children=n)}}function eT(t,e,n){return r;function r(i,a,s,o){const u=Array.isArray(s.children)?n:e;return o?u(a,s,o):u(a,s)}}function tT(t,e){return n;function n(r,i,a,s){const o=Array.isArray(a.children),l=om(r);return e(i,a,s,o,{columnNumber:l?l.column-1:void 0,fileName:t,lineNumber:l?l.line:void 0},void 0)}}function nT(t,e){const n={};let r,i;for(i in e.properties)if(i!=="children"&&lm.call(e.properties,i)){const a=iT(t,i,e.properties[i]);if(a){const[s,o]=a;t.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&Y_.has(e.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[t.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function rT(t,e){const n={};for(const r of e.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&t.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,t.evaluater.evaluateExpression(o.argument))}else ml(t,e.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&t.evaluater){const o=r.value.data.estree.body[0];o.type,a=t.evaluater.evaluateExpression(o.expression)}else ml(t,e.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function cm(t,e){const n=[];let r=-1;const i=t.passKeys?new Map:G_;for(;++r<e.children.length;){const a=e.children[r];let s;if(t.passKeys){const l=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(l){const u=i.get(l)||0;s=l+"-"+u,i.set(l,u+1)}}const o=H6(t,a,s);o!==void 0&&n.push(o)}return n}function iT(t,e,n){const r=O6(t.schema,e);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Z9(n):f_(n)),r.property==="style"){let i=typeof n=="object"?n:aT(t,String(n));return t.stylePropertyNameCase==="css"&&(i=sT(i)),["style",i]}return[t.elementAttributeNameCase==="react"&&r.space?l_[r.property]||r.property:r.attribute,n]}}function aT(t,e){try{return H_(e,{reactCompat:!0})}catch(n){if(t.ignoreInvalidStyle)return{};const r=n,i=new Yt("Cannot parse `style` attribute",{ancestors:t.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=t.filePath||void 0,i.url=q6+"#cannot-parse-style-attribute",i}}function G6(t,e,n){let r;if(!n)r={type:"Literal",value:e};else if(e.includes(".")){const i=e.split(".");let a=-1,s;for(;++a<i.length;){const o=Ug(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=Ug(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(r.type==="Literal"){const i=r.value;return lm.call(t.components,i)?t.components[i]:i}if(t.evaluater)return t.evaluater.evaluateExpression(r);ml(t)}function ml(t,e){const n=new Yt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:t.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=t.filePath||void 0,n.url=q6+"#cannot-handle-mdx-estrees-without-createevaluater",n}function sT(t){const e={};let n;for(n in t)lm.call(t,n)&&(e[oT(n)]=t[n]);return e}function oT(t){let e=t.replace(V_,lT);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function lT(t){return"-"+t.toLowerCase()}const Td={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},uT={};function cT(t,e){const n=uT,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return V6(t,r,i)}function V6(t,e,n){if(dT(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Kg(t.children,e,n)}return Array.isArray(t)?Kg(t,e,n):""}function Kg(t,e,n){const r=[];let i=-1;for(;++i<t.length;)r[i]=V6(t[i],e,n);return r.join("")}function dT(t){return!!(t&&typeof t=="object")}const Jg=document.createElement("i");function dm(t){const e="&"+t+";";Jg.innerHTML=e;const n=Jg.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Er(t,e,n,r){const i=t.length;let a=0,s;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(e,n),t.splice(...s);else for(n&&t.splice(e,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(e,0),t.splice(...s),a+=1e4,e+=1e4}function Gn(t,e){return t.length>0?(Er(t,t.length,0,e),t):e}const jg={}.hasOwnProperty;function hT(t){const e={};let n=-1;for(;++n<t.length;)fT(e,t[n]);return e}function fT(t,e){let n;for(n in e){const i=(jg.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n];let s;if(a)for(s in a){jg.call(i,s)||(i[s]=[]);const o=a[s];pT(i[s],Array.isArray(o)?o:o?[o]:[])}}}function pT(t,e){let n=-1;const r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Er(t,0,0,r)}function $6(t,e){const n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function Ns(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const vr=ea(/[A-Za-z]/),Nn=ea(/[\dA-Za-z]/),mT=ea(/[#-'*+\--9=?A-Z^-~]/);function pf(t){return t!==null&&(t<32||t===127)}const mf=ea(/\d/),gT=ea(/[\dA-Fa-f]/),yT=ea(/[!-/:-@[-`{-~]/);function ue(t){return t!==null&&t<-2}function fn(t){return t!==null&&(t<0||t===32)}function Ue(t){return t===-2||t===-1||t===32}const vT=ea(new RegExp("\\p{P}|\\p{S}","u")),bT=ea(/\s/);function ea(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function to(t){const e=[];let n=-1,r=0,i=0;for(;++n<t.length;){const a=t.charCodeAt(n);let s="";if(a===37&&Nn(t.charCodeAt(n+1))&&Nn(t.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=t.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(e.push(t.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return e.join("")+t.slice(r)}function Pe(t,e,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(l){return Ue(l)?(t.enter(n),o(l)):e(l)}function o(l){return Ue(l)&&a++<i?(t.consume(l),o):(t.exit(n),e(l))}}const wT={tokenize:xT};function xT(t){const e=t.attempt(this.parser.constructs.contentInitial,r,i);let n;return e;function r(o){if(o===null){t.consume(o);return}return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),Pe(t,e,"linePrefix")}function i(o){return t.enter("paragraph"),a(o)}function a(o){const l=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,s(o)}function s(o){if(o===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(o);return}return ue(o)?(t.consume(o),t.exit("chunkText"),a):(t.consume(o),s)}}const ST={tokenize:_T},Xg={tokenize:TT};function _T(t){const e=this,n=[];let r=0,i,a,s;return o;function o(_){if(r<n.length){const C=n[r];return e.containerState=C[1],t.attempt(C[0].continuation,l,u)(_)}return u(_)}function l(_){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&S();const C=e.events.length;let I=C,k;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){k=e.events[I][1].end;break}b(r);let D=C;for(;D<e.events.length;)e.events[D][1].end={...k},D++;return Er(e.events,I+1,0,e.events.slice(C)),e.events.length=D,u(_)}return o(_)}function u(_){if(r===n.length){if(!i)return p(_);if(i.currentConstruct&&i.currentConstruct.concrete)return y(_);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Xg,c,f)(_)}function c(_){return i&&S(),b(r),p(_)}function f(_){return e.parser.lazy[e.now().line]=r!==n.length,s=e.now().offset,y(_)}function p(_){return e.containerState={},t.attempt(Xg,m,y)(_)}function m(_){return r++,n.push([e.currentConstruct,e.containerState]),p(_)}function y(_){if(_===null){i&&S(),b(0),t.consume(_);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),w(_)}function w(_){if(_===null){E(t.exit("chunkFlow"),!0),b(0),t.consume(_);return}return ue(_)?(t.consume(_),E(t.exit("chunkFlow")),r=0,e.interrupt=void 0,o):(t.consume(_),w)}function E(_,C){const I=e.sliceStream(_);if(C&&I.push(null),_.previous=a,a&&(a.next=_),a=_,i.defineSkip(_.start),i.write(I),e.parser.lazy[_.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<s&&(!i.events[k][1].end||i.events[k][1].end.offset>s))return;const D=e.events.length;let B=D,O,F;for(;B--;)if(e.events[B][0]==="exit"&&e.events[B][1].type==="chunkFlow"){if(O){F=e.events[B][1].end;break}O=!0}for(b(r),k=D;k<e.events.length;)e.events[k][1].end={...F},k++;Er(e.events,B+1,0,e.events.slice(D)),e.events.length=k}}function b(_){let C=n.length;for(;C-- >_;){const I=n[C];e.containerState=I[1],I[0].exit.call(e,t)}n.length=_}function S(){i.write([null]),a=void 0,i=void 0,e.containerState._closeFlow=void 0}}function TT(t,e,n){return Pe(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Wg(t){if(t===null||fn(t)||bT(t))return 1;if(vT(t))return 2}function hm(t,e,n){const r=[];let i=-1;for(;++i<t.length;){const a=t[i].resolveAll;a&&!r.includes(a)&&(e=a(e,n),r.push(a))}return e}const gf={name:"attention",resolveAll:ET,tokenize:AT};function ET(t,e){let n=-1,r,i,a,s,o,l,u,c;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;l=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;const f={...t[r][1].end},p={...t[n][1].start};Qg(f,-l),Qg(p,l),s={type:l>1?"strongSequence":"emphasisSequence",start:f,end:{...t[r][1].end}},o={type:l>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:p},a={type:l>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:l>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},t[r][1].end={...s.start},t[n][1].start={...o.end},u=[],t[r][1].end.offset-t[r][1].start.offset&&(u=Gn(u,[["enter",t[r][1],e],["exit",t[r][1],e]])),u=Gn(u,[["enter",i,e],["enter",s,e],["exit",s,e],["enter",a,e]]),u=Gn(u,hm(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),u=Gn(u,[["exit",a,e],["enter",o,e],["exit",o,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(c=2,u=Gn(u,[["enter",t[n][1],e],["exit",t[n][1],e]])):c=0,Er(t,r-1,n-r+3,u),n=r+u.length-c-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function AT(t,e){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Wg(r);let a;return s;function s(l){return a=l,t.enter("attentionSequence"),o(l)}function o(l){if(l===a)return t.consume(l),o;const u=t.exit("attentionSequence"),c=Wg(l),f=!c||c===2&&i||n.includes(l),p=!i||i===2&&c||n.includes(r);return u._open=!!(a===42?f:f&&(i||!p)),u._close=!!(a===42?p:p&&(c||!f)),e(l)}}function Qg(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}const CT={name:"autolink",tokenize:kT};function kT(t,e,n){let r=0;return i;function i(m){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(m){return vr(m)?(t.consume(m),s):m===64?n(m):u(m)}function s(m){return m===43||m===45||m===46||Nn(m)?(r=1,o(m)):u(m)}function o(m){return m===58?(t.consume(m),r=0,l):(m===43||m===45||m===46||Nn(m))&&r++<32?(t.consume(m),o):(r=0,u(m))}function l(m){return m===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):m===null||m===32||m===60||pf(m)?n(m):(t.consume(m),l)}function u(m){return m===64?(t.consume(m),c):mT(m)?(t.consume(m),u):n(m)}function c(m){return Nn(m)?f(m):n(m)}function f(m){return m===46?(t.consume(m),r=0,c):m===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(m),t.exit("autolinkMarker"),t.exit("autolink"),e):p(m)}function p(m){if((m===45||Nn(m))&&r++<63){const y=m===45?p:f;return t.consume(m),y}return n(m)}}const w0={partial:!0,tokenize:NT};function NT(t,e,n){return r;function r(a){return Ue(a)?Pe(t,i,"linePrefix")(a):i(a)}function i(a){return a===null||ue(a)?e(a):n(a)}}const Y6={continuation:{tokenize:MT},exit:IT,name:"blockQuote",tokenize:RT};function RT(t,e,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(t.enter("blockQuote",{_container:!0}),o.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(s),t.exit("blockQuoteMarker"),a}return n(s)}function a(s){return Ue(s)?(t.enter("blockQuotePrefixWhitespace"),t.consume(s),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(s))}}function MT(t,e,n){const r=this;return i;function i(s){return Ue(s)?Pe(t,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return t.attempt(Y6,e,n)(s)}}function IT(t){t.exit("blockQuote")}const K6={name:"characterEscape",tokenize:DT};function DT(t,e,n){return r;function r(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),i}function i(a){return yT(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}const J6={name:"characterReference",tokenize:zT};function zT(t,e,n){const r=this;let i=0,a,s;return o;function o(f){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),l}function l(f){return f===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(f),t.exit("characterReferenceMarkerNumeric"),u):(t.enter("characterReferenceValue"),a=31,s=Nn,c(f))}function u(f){return f===88||f===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(f),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,s=gT,c):(t.enter("characterReferenceValue"),a=7,s=mf,c(f))}function c(f){if(f===59&&i){const p=t.exit("characterReferenceValue");return s===Nn&&!dm(r.sliceSerialize(p))?n(f):(t.enter("characterReferenceMarker"),t.consume(f),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return s(f)&&i++<a?(t.consume(f),c):n(f)}}const Zg={partial:!0,tokenize:OT},ey={concrete:!0,name:"codeFenced",tokenize:UT};function UT(t,e,n){const r=this,i={partial:!0,tokenize:I};let a=0,s=0,o;return l;function l(k){return u(k)}function u(k){const D=r.events[r.events.length-1];return a=D&&D[1].type==="linePrefix"?D[2].sliceSerialize(D[1],!0).length:0,o=k,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),c(k)}function c(k){return k===o?(s++,t.consume(k),c):s<3?n(k):(t.exit("codeFencedFenceSequence"),Ue(k)?Pe(t,f,"whitespace")(k):f(k))}function f(k){return k===null||ue(k)?(t.exit("codeFencedFence"),r.interrupt?e(k):t.check(Zg,w,C)(k)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||ue(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),f(k)):Ue(k)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),Pe(t,m,"whitespace")(k)):k===96&&k===o?n(k):(t.consume(k),p)}function m(k){return k===null||ue(k)?f(k):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),y(k))}function y(k){return k===null||ue(k)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),f(k)):k===96&&k===o?n(k):(t.consume(k),y)}function w(k){return t.attempt(i,C,E)(k)}function E(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),b}function b(k){return a>0&&Ue(k)?Pe(t,S,"linePrefix",a+1)(k):S(k)}function S(k){return k===null||ue(k)?t.check(Zg,w,C)(k):(t.enter("codeFlowValue"),_(k))}function _(k){return k===null||ue(k)?(t.exit("codeFlowValue"),S(k)):(t.consume(k),_)}function C(k){return t.exit("codeFenced"),e(k)}function I(k,D,B){let O=0;return F;function F(H){return k.enter("lineEnding"),k.consume(H),k.exit("lineEnding"),Y}function Y(H){return k.enter("codeFencedFence"),Ue(H)?Pe(k,J,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):J(H)}function J(H){return H===o?(k.enter("codeFencedFenceSequence"),ie(H)):B(H)}function ie(H){return H===o?(O++,k.consume(H),ie):O>=s?(k.exit("codeFencedFenceSequence"),Ue(H)?Pe(k,oe,"whitespace")(H):oe(H)):B(H)}function oe(H){return H===null||ue(H)?(k.exit("codeFencedFence"),D(H)):B(H)}}}function OT(t,e,n){const r=this;return i;function i(s){return s===null?n(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}const Ed={name:"codeIndented",tokenize:PT},LT={partial:!0,tokenize:BT};function PT(t,e,n){const r=this;return i;function i(u){return t.enter("codeIndented"),Pe(t,a,"linePrefix",5)(u)}function a(u){const c=r.events[r.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?l(u):ue(u)?t.attempt(LT,s,l)(u):(t.enter("codeFlowValue"),o(u))}function o(u){return u===null||ue(u)?(t.exit("codeFlowValue"),s(u)):(t.consume(u),o)}function l(u){return t.exit("codeIndented"),e(u)}}function BT(t,e,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):ue(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),i):Pe(t,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):ue(s)?i(s):n(s)}}const qT={name:"codeText",previous:FT,resolve:HT,tokenize:GT};function HT(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function FT(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function GT(t,e,n){let r=0,i,a;return s;function s(f){return t.enter("codeText"),t.enter("codeTextSequence"),o(f)}function o(f){return f===96?(t.consume(f),r++,o):(t.exit("codeTextSequence"),l(f))}function l(f){return f===null?n(f):f===32?(t.enter("space"),t.consume(f),t.exit("space"),l):f===96?(a=t.enter("codeTextSequence"),i=0,c(f)):ue(f)?(t.enter("lineEnding"),t.consume(f),t.exit("lineEnding"),l):(t.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||ue(f)?(t.exit("codeTextData"),l(f)):(t.consume(f),u)}function c(f){return f===96?(t.consume(f),i++,c):i===r?(t.exit("codeTextSequence"),t.exit("codeText"),e(f)):(a.type="codeTextData",u(f))}}class VT{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){const i=n||0;this.setCursor(Math.trunc(e));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&yo(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),yo(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),yo(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const n=this.left.splice(e,Number.POSITIVE_INFINITY);yo(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);yo(this.left,n.reverse())}}}function yo(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function j6(t){const e={};let n=-1,r,i,a,s,o,l,u;const c=new VT(t);for(;++n<c.length;){for(;n in e;)n=e[n];if(r=c.get(n),n&&r[1].type==="chunkFlow"&&c.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,a=0,a<l.length&&l[a][1].type==="lineEndingBlank"&&(a+=2),a<l.length&&l[a][1].type==="content"))for(;++a<l.length&&l[a][1].type!=="content";)l[a][1].type==="chunkText"&&(l[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,$T(c,n)),n=e[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=c.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(c.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...c.get(i)[1].start},o=c.slice(i,n),o.unshift(r),c.splice(i,n-i+1,o))}}return Er(t,0,Number.POSITIVE_INFINITY,c.slice(0)),!u}function $T(t,e){const n=t.get(e)[1],r=t.get(e)[2];let i=e-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,l=[],u={};let c,f,p=-1,m=n,y=0,w=0;const E=[w];for(;m;){for(;t.get(++i)[1]!==m;);a.push(i),m._tokenizer||(c=r.sliceStream(m),m.next||c.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(c),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++p<o.length;)o[p][0]==="exit"&&o[p-1][0]==="enter"&&o[p][1].type===o[p-1][1].type&&o[p][1].start.line!==o[p][1].end.line&&(w=p+1,E.push(w),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):E.pop(),p=E.length;p--;){const b=o.slice(E[p],E[p+1]),S=a.pop();l.push([S,S+b.length-1]),t.splice(S,2,b)}for(l.reverse(),p=-1;++p<l.length;)u[y+l[p][0]]=y+l[p][1],y+=l[p][1]-l[p][0]-1;return u}const YT={resolve:JT,tokenize:jT},KT={partial:!0,tokenize:XT};function JT(t){return j6(t),t}function jT(t,e){let n;return r;function r(o){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):ue(o)?t.check(KT,s,a)(o):(t.consume(o),i)}function a(o){return t.exit("chunkContent"),t.exit("content"),e(o)}function s(o){return t.consume(o),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function XT(t,e,n){const r=this;return i;function i(s){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),Pe(t,a,"linePrefix")}function a(s){if(s===null||ue(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?e(s):t.interrupt(r.parser.constructs.flow,n,e)(s)}}function X6(t,e,n,r,i,a,s,o,l){const u=l||Number.POSITIVE_INFINITY;let c=0;return f;function f(b){return b===60?(t.enter(r),t.enter(i),t.enter(a),t.consume(b),t.exit(a),p):b===null||b===32||b===41||pf(b)?n(b):(t.enter(r),t.enter(s),t.enter(o),t.enter("chunkString",{contentType:"string"}),w(b))}function p(b){return b===62?(t.enter(a),t.consume(b),t.exit(a),t.exit(i),t.exit(r),e):(t.enter(o),t.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===62?(t.exit("chunkString"),t.exit(o),p(b)):b===null||b===60||ue(b)?n(b):(t.consume(b),b===92?y:m)}function y(b){return b===60||b===62||b===92?(t.consume(b),m):m(b)}function w(b){return!c&&(b===null||b===41||fn(b))?(t.exit("chunkString"),t.exit(o),t.exit(s),t.exit(r),e(b)):c<u&&b===40?(t.consume(b),c++,w):b===41?(t.consume(b),c--,w):b===null||b===32||b===40||pf(b)?n(b):(t.consume(b),b===92?E:w)}function E(b){return b===40||b===41||b===92?(t.consume(b),w):w(b)}}function W6(t,e,n,r,i,a){const s=this;let o=0,l;return u;function u(m){return t.enter(r),t.enter(i),t.consume(m),t.exit(i),t.enter(a),c}function c(m){return o>999||m===null||m===91||m===93&&!l||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(t.exit(a),t.enter(i),t.consume(m),t.exit(i),t.exit(r),e):ue(m)?(t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),c):(t.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||ue(m)||o++>999?(t.exit("chunkString"),c(m)):(t.consume(m),l||(l=!Ue(m)),m===92?p:f)}function p(m){return m===91||m===92||m===93?(t.consume(m),o++,f):f(m)}}function Q6(t,e,n,r,i,a){let s;return o;function o(p){return p===34||p===39||p===40?(t.enter(r),t.enter(i),t.consume(p),t.exit(i),s=p===40?41:p,l):n(p)}function l(p){return p===s?(t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):(t.enter(a),u(p))}function u(p){return p===s?(t.exit(a),l(s)):p===null?n(p):ue(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),Pe(t,u,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),c(p))}function c(p){return p===s||p===null||ue(p)?(t.exit("chunkString"),u(p)):(t.consume(p),p===92?f:c)}function f(p){return p===s||p===92?(t.consume(p),c):c(p)}}function Yo(t,e){let n;return r;function r(i){return ue(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):Ue(i)?Pe(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}const WT={name:"definition",tokenize:ZT},QT={partial:!0,tokenize:eE};function ZT(t,e,n){const r=this;let i;return a;function a(m){return t.enter("definition"),s(m)}function s(m){return W6.call(r,t,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=Ns(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(t.enter("definitionMarker"),t.consume(m),t.exit("definitionMarker"),l):n(m)}function l(m){return fn(m)?Yo(t,u)(m):u(m)}function u(m){return X6(t,c,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function c(m){return t.attempt(QT,f,f)(m)}function f(m){return Ue(m)?Pe(t,p,"whitespace")(m):p(m)}function p(m){return m===null||ue(m)?(t.exit("definition"),r.parser.defined.push(i),e(m)):n(m)}}function eE(t,e,n){return r;function r(o){return fn(o)?Yo(t,i)(o):n(o)}function i(o){return Q6(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return Ue(o)?Pe(t,s,"whitespace")(o):s(o)}function s(o){return o===null||ue(o)?e(o):n(o)}}const tE={name:"hardBreakEscape",tokenize:nE};function nE(t,e,n){return r;function r(a){return t.enter("hardBreakEscape"),t.consume(a),i}function i(a){return ue(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}const rE={name:"headingAtx",resolve:iE,tokenize:aE};function iE(t,e){let n=t.length-2,r=3,i,a;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},a={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Er(t,r,n-r+1,[["enter",i,e],["enter",a,e],["exit",a,e],["exit",i,e]])),t}function aE(t,e,n){let r=0;return i;function i(c){return t.enter("atxHeading"),a(c)}function a(c){return t.enter("atxHeadingSequence"),s(c)}function s(c){return c===35&&r++<6?(t.consume(c),s):c===null||fn(c)?(t.exit("atxHeadingSequence"),o(c)):n(c)}function o(c){return c===35?(t.enter("atxHeadingSequence"),l(c)):c===null||ue(c)?(t.exit("atxHeading"),e(c)):Ue(c)?Pe(t,o,"whitespace")(c):(t.enter("atxHeadingText"),u(c))}function l(c){return c===35?(t.consume(c),l):(t.exit("atxHeadingSequence"),o(c))}function u(c){return c===null||c===35||fn(c)?(t.exit("atxHeadingText"),o(c)):(t.consume(c),u)}}const sE=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],ty=["pre","script","style","textarea"],oE={concrete:!0,name:"htmlFlow",resolveTo:cE,tokenize:dE},lE={partial:!0,tokenize:fE},uE={partial:!0,tokenize:hE};function cE(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function dE(t,e,n){const r=this;let i,a,s,o,l;return u;function u(z){return c(z)}function c(z){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(z),f}function f(z){return z===33?(t.consume(z),p):z===47?(t.consume(z),a=!0,w):z===63?(t.consume(z),i=3,r.interrupt?e:R):vr(z)?(t.consume(z),s=String.fromCharCode(z),E):n(z)}function p(z){return z===45?(t.consume(z),i=2,m):z===91?(t.consume(z),i=5,o=0,y):vr(z)?(t.consume(z),i=4,r.interrupt?e:R):n(z)}function m(z){return z===45?(t.consume(z),r.interrupt?e:R):n(z)}function y(z){const Fe="CDATA[";return z===Fe.charCodeAt(o++)?(t.consume(z),o===Fe.length?r.interrupt?e:J:y):n(z)}function w(z){return vr(z)?(t.consume(z),s=String.fromCharCode(z),E):n(z)}function E(z){if(z===null||z===47||z===62||fn(z)){const Fe=z===47,nt=s.toLowerCase();return!Fe&&!a&&ty.includes(nt)?(i=1,r.interrupt?e(z):J(z)):sE.includes(s.toLowerCase())?(i=6,Fe?(t.consume(z),b):r.interrupt?e(z):J(z)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(z):a?S(z):_(z))}return z===45||Nn(z)?(t.consume(z),s+=String.fromCharCode(z),E):n(z)}function b(z){return z===62?(t.consume(z),r.interrupt?e:J):n(z)}function S(z){return Ue(z)?(t.consume(z),S):F(z)}function _(z){return z===47?(t.consume(z),F):z===58||z===95||vr(z)?(t.consume(z),C):Ue(z)?(t.consume(z),_):F(z)}function C(z){return z===45||z===46||z===58||z===95||Nn(z)?(t.consume(z),C):I(z)}function I(z){return z===61?(t.consume(z),k):Ue(z)?(t.consume(z),I):_(z)}function k(z){return z===null||z===60||z===61||z===62||z===96?n(z):z===34||z===39?(t.consume(z),l=z,D):Ue(z)?(t.consume(z),k):B(z)}function D(z){return z===l?(t.consume(z),l=null,O):z===null||ue(z)?n(z):(t.consume(z),D)}function B(z){return z===null||z===34||z===39||z===47||z===60||z===61||z===62||z===96||fn(z)?I(z):(t.consume(z),B)}function O(z){return z===47||z===62||Ue(z)?_(z):n(z)}function F(z){return z===62?(t.consume(z),Y):n(z)}function Y(z){return z===null||ue(z)?J(z):Ue(z)?(t.consume(z),Y):n(z)}function J(z){return z===45&&i===2?(t.consume(z),q):z===60&&i===1?(t.consume(z),V):z===62&&i===4?(t.consume(z),Me):z===63&&i===3?(t.consume(z),R):z===93&&i===5?(t.consume(z),le):ue(z)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(lE,Re,ie)(z)):z===null||ue(z)?(t.exit("htmlFlowData"),ie(z)):(t.consume(z),J)}function ie(z){return t.check(uE,oe,Re)(z)}function oe(z){return t.enter("lineEnding"),t.consume(z),t.exit("lineEnding"),H}function H(z){return z===null||ue(z)?ie(z):(t.enter("htmlFlowData"),J(z))}function q(z){return z===45?(t.consume(z),R):J(z)}function V(z){return z===47?(t.consume(z),s="",P):J(z)}function P(z){if(z===62){const Fe=s.toLowerCase();return ty.includes(Fe)?(t.consume(z),Me):J(z)}return vr(z)&&s.length<8?(t.consume(z),s+=String.fromCharCode(z),P):J(z)}function le(z){return z===93?(t.consume(z),R):J(z)}function R(z){return z===62?(t.consume(z),Me):z===45&&i===2?(t.consume(z),R):J(z)}function Me(z){return z===null||ue(z)?(t.exit("htmlFlowData"),Re(z)):(t.consume(z),Me)}function Re(z){return t.exit("htmlFlow"),e(z)}}function hE(t,e,n){const r=this;return i;function i(s){return ue(s)?(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function fE(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(w0,e,n)}}const pE={name:"htmlText",tokenize:mE};function mE(t,e,n){const r=this;let i,a,s;return o;function o(R){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(R),l}function l(R){return R===33?(t.consume(R),u):R===47?(t.consume(R),I):R===63?(t.consume(R),_):vr(R)?(t.consume(R),B):n(R)}function u(R){return R===45?(t.consume(R),c):R===91?(t.consume(R),a=0,y):vr(R)?(t.consume(R),S):n(R)}function c(R){return R===45?(t.consume(R),m):n(R)}function f(R){return R===null?n(R):R===45?(t.consume(R),p):ue(R)?(s=f,V(R)):(t.consume(R),f)}function p(R){return R===45?(t.consume(R),m):f(R)}function m(R){return R===62?q(R):R===45?p(R):f(R)}function y(R){const Me="CDATA[";return R===Me.charCodeAt(a++)?(t.consume(R),a===Me.length?w:y):n(R)}function w(R){return R===null?n(R):R===93?(t.consume(R),E):ue(R)?(s=w,V(R)):(t.consume(R),w)}function E(R){return R===93?(t.consume(R),b):w(R)}function b(R){return R===62?q(R):R===93?(t.consume(R),b):w(R)}function S(R){return R===null||R===62?q(R):ue(R)?(s=S,V(R)):(t.consume(R),S)}function _(R){return R===null?n(R):R===63?(t.consume(R),C):ue(R)?(s=_,V(R)):(t.consume(R),_)}function C(R){return R===62?q(R):_(R)}function I(R){return vr(R)?(t.consume(R),k):n(R)}function k(R){return R===45||Nn(R)?(t.consume(R),k):D(R)}function D(R){return ue(R)?(s=D,V(R)):Ue(R)?(t.consume(R),D):q(R)}function B(R){return R===45||Nn(R)?(t.consume(R),B):R===47||R===62||fn(R)?O(R):n(R)}function O(R){return R===47?(t.consume(R),q):R===58||R===95||vr(R)?(t.consume(R),F):ue(R)?(s=O,V(R)):Ue(R)?(t.consume(R),O):q(R)}function F(R){return R===45||R===46||R===58||R===95||Nn(R)?(t.consume(R),F):Y(R)}function Y(R){return R===61?(t.consume(R),J):ue(R)?(s=Y,V(R)):Ue(R)?(t.consume(R),Y):O(R)}function J(R){return R===null||R===60||R===61||R===62||R===96?n(R):R===34||R===39?(t.consume(R),i=R,ie):ue(R)?(s=J,V(R)):Ue(R)?(t.consume(R),J):(t.consume(R),oe)}function ie(R){return R===i?(t.consume(R),i=void 0,H):R===null?n(R):ue(R)?(s=ie,V(R)):(t.consume(R),ie)}function oe(R){return R===null||R===34||R===39||R===60||R===61||R===96?n(R):R===47||R===62||fn(R)?O(R):(t.consume(R),oe)}function H(R){return R===47||R===62||fn(R)?O(R):n(R)}function q(R){return R===62?(t.consume(R),t.exit("htmlTextData"),t.exit("htmlText"),e):n(R)}function V(R){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(R),t.exit("lineEnding"),P}function P(R){return Ue(R)?Pe(t,le,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):le(R)}function le(R){return t.enter("htmlTextData"),s(R)}}const fm={name:"labelEnd",resolveAll:bE,resolveTo:wE,tokenize:xE},gE={tokenize:SE},yE={tokenize:_E},vE={tokenize:TE};function bE(t){let e=-1;const n=[];for(;++e<t.length;){const r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Er(t,0,t.length,n),t}function wE(t,e){let n=t.length,r=0,i,a,s,o;for(;n--;)if(i=t[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const l={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},u={type:"label",start:{...t[a][1].start},end:{...t[s][1].end}},c={type:"labelText",start:{...t[a+r+2][1].end},end:{...t[s-2][1].start}};return o=[["enter",l,e],["enter",u,e]],o=Gn(o,t.slice(a+1,a+r+3)),o=Gn(o,[["enter",c,e]]),o=Gn(o,hm(e.parser.constructs.insideSpan.null,t.slice(a+r+4,s-3),e)),o=Gn(o,[["exit",c,e],t[s-2],t[s-1],["exit",u,e]]),o=Gn(o,t.slice(s+1)),o=Gn(o,[["exit",l,e]]),Er(t,a,t.length,o),t}function xE(t,e,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(p){return a?a._inactive?f(p):(s=r.parser.defined.includes(Ns(r.sliceSerialize({start:a.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(p),t.exit("labelMarker"),t.exit("labelEnd"),l):n(p)}function l(p){return p===40?t.attempt(gE,c,s?c:f)(p):p===91?t.attempt(yE,c,s?u:f)(p):s?c(p):f(p)}function u(p){return t.attempt(vE,c,f)(p)}function c(p){return e(p)}function f(p){return a._balanced=!0,n(p)}}function SE(t,e,n){return r;function r(f){return t.enter("resource"),t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),i}function i(f){return fn(f)?Yo(t,a)(f):a(f)}function a(f){return f===41?c(f):X6(t,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return fn(f)?Yo(t,l)(f):c(f)}function o(f){return n(f)}function l(f){return f===34||f===39||f===40?Q6(t,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):c(f)}function u(f){return fn(f)?Yo(t,c)(f):c(f)}function c(f){return f===41?(t.enter("resourceMarker"),t.consume(f),t.exit("resourceMarker"),t.exit("resource"),e):n(f)}}function _E(t,e,n){const r=this;return i;function i(o){return W6.call(r,t,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(Ns(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(o):n(o)}function s(o){return n(o)}}function TE(t,e,n){return r;function r(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),i}function i(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}const EE={name:"labelStartImage",resolveAll:fm.resolveAll,tokenize:AE};function AE(t,e,n){const r=this;return i;function i(o){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(o),t.exit("labelImageMarker"),a}function a(o){return o===91?(t.enter("labelMarker"),t.consume(o),t.exit("labelMarker"),t.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):e(o)}}const CE={name:"labelStartLink",resolveAll:fm.resolveAll,tokenize:kE};function kE(t,e,n){const r=this;return i;function i(s){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(s),t.exit("labelMarker"),t.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):e(s)}}const Ad={name:"lineEnding",tokenize:NE};function NE(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),Pe(t,e,"linePrefix")}}const Ju={name:"thematicBreak",tokenize:RE};function RE(t,e,n){let r=0,i;return a;function a(u){return t.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(t.enter("thematicBreakSequence"),l(u)):r>=3&&(u===null||ue(u))?(t.exit("thematicBreak"),e(u)):n(u)}function l(u){return u===i?(t.consume(u),r++,l):(t.exit("thematicBreakSequence"),Ue(u)?Pe(t,o,"whitespace")(u):o(u))}}const on={continuation:{tokenize:zE},exit:OE,name:"list",tokenize:DE},ME={partial:!0,tokenize:LE},IE={partial:!0,tokenize:UE};function DE(t,e,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const y=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(y==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:mf(m)){if(r.containerState.type||(r.containerState.type=y,t.enter(y,{_container:!0})),y==="listUnordered")return t.enter("listItemPrefix"),m===42||m===45?t.check(Ju,n,u)(m):u(m);if(!r.interrupt||m===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),l(m)}return n(m)}function l(m){return mf(m)&&++s<10?(t.consume(m),l):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(t.exit("listItemValue"),u(m)):n(m)}function u(m){return t.enter("listItemMarker"),t.consume(m),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,t.check(w0,r.interrupt?n:c,t.attempt(ME,p,f))}function c(m){return r.containerState.initialBlankLine=!0,a++,p(m)}function f(m){return Ue(m)?(t.enter("listItemPrefixWhitespace"),t.consume(m),t.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=a+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(m)}}function zE(t,e,n){const r=this;return r.containerState._closeFlow=void 0,t.check(w0,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Pe(t,e,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!Ue(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(IE,e,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,Pe(t,t.attempt(on,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function UE(t,e,n){const r=this;return Pe(t,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?e(a):n(a)}}function OE(t){t.exit(this.containerState.type)}function LE(t,e,n){const r=this;return Pe(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!Ue(a)&&s&&s[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}const ny={name:"setextUnderline",resolveTo:PE,tokenize:BE};function PE(t,e){let n=t.length,r,i,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",a?(t.splice(i,0,["enter",s,e]),t.splice(a+1,0,["exit",t[r][1],e]),t[r][1].end={...t[a][1].end}):t[r][1]=s,t.push(["exit",s,e]),t}function BE(t,e,n){const r=this;let i;return a;function a(u){let c=r.events.length,f;for(;c--;)if(r.events[c][1].type!=="lineEnding"&&r.events[c][1].type!=="linePrefix"&&r.events[c][1].type!=="content"){f=r.events[c][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(t.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return t.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(t.consume(u),o):(t.exit("setextHeadingLineSequence"),Ue(u)?Pe(t,l,"lineSuffix")(u):l(u))}function l(u){return u===null||ue(u)?(t.exit("setextHeadingLine"),e(u)):n(u)}}const qE={tokenize:HE};function HE(t){const e=this,n=t.attempt(w0,r,t.attempt(this.parser.constructs.flowInitial,i,Pe(t,t.attempt(this.parser.constructs.flow,i,t.attempt(YT,i)),"linePrefix")));return n;function r(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}const FE={resolveAll:eb()},GE=Z6("string"),VE=Z6("text");function Z6(t){return{resolveAll:eb(t==="text"?$E:void 0),tokenize:e};function e(n){const r=this,i=this.parser.constructs[t],a=n.attempt(i,s,o);return s;function s(c){return u(c)?a(c):o(c)}function o(c){if(c===null){n.consume(c);return}return n.enter("data"),n.consume(c),l}function l(c){return u(c)?(n.exit("data"),a(c)):(n.consume(c),l)}function u(c){if(c===null)return!0;const f=i[c];let p=-1;if(f)for(;++p<f.length;){const m=f[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function eb(t){return e;function e(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return t?t(n,r):n}}function $E(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){const r=t[n-1][1],i=e.sliceStream(r);let a=i.length,s=-1,o=0,l;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)l=!0,o++;else if(u!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(o=0),o){const u={type:n===t.length||l||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(t.splice(n,0,["enter",u,e],["exit",u,e]),n+=2)}n++}return t}const YE={42:on,43:on,45:on,48:on,49:on,50:on,51:on,52:on,53:on,54:on,55:on,56:on,57:on,62:Y6},KE={91:WT},JE={[-2]:Ed,[-1]:Ed,32:Ed},jE={35:rE,42:Ju,45:[ny,Ju],60:oE,61:ny,95:Ju,96:ey,126:ey},XE={38:J6,92:K6},WE={[-5]:Ad,[-4]:Ad,[-3]:Ad,33:EE,38:J6,42:gf,60:[CT,pE],91:CE,92:[tE,K6],93:fm,95:gf,96:qT},QE={null:[gf,FE]},ZE={null:[42,95]},eA={null:[]},tA=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:ZE,contentInitial:KE,disable:eA,document:YE,flow:jE,flowInitial:JE,insideSpan:QE,string:XE,text:WE},Symbol.toStringTag,{value:"Module"}));function nA(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const l={attempt:D(I),check:D(k),consume:S,enter:_,exit:C,interrupt:D(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:w,events:[],now:y,parser:t,previous:null,sliceSerialize:p,sliceStream:m,write:f};let c=e.tokenize.call(u,l);return e.resolveAll&&a.push(e),u;function f(Y){return s=Gn(s,Y),E(),s[s.length-1]!==null?[]:(B(e,0),u.events=hm(a,u.events,u),u.events)}function p(Y,J){return iA(m(Y),J)}function m(Y){return rA(s,Y)}function y(){const{_bufferIndex:Y,_index:J,line:ie,column:oe,offset:H}=r;return{_bufferIndex:Y,_index:J,line:ie,column:oe,offset:H}}function w(Y){i[Y.line]=Y.column,F()}function E(){let Y;for(;r._index<s.length;){const J=s[r._index];if(typeof J=="string")for(Y=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===Y&&r._bufferIndex<J.length;)b(J.charCodeAt(r._bufferIndex));else b(J)}}function b(Y){c=c(Y)}function S(Y){ue(Y)?(r.line++,r.column=1,r.offset+=Y===-3?2:1,F()):Y!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=Y}function _(Y,J){const ie=J||{};return ie.type=Y,ie.start=y(),u.events.push(["enter",ie,u]),o.push(ie),ie}function C(Y){const J=o.pop();return J.end=y(),u.events.push(["exit",J,u]),J}function I(Y,J){B(Y,J.from)}function k(Y,J){J.restore()}function D(Y,J){return ie;function ie(oe,H,q){let V,P,le,R;return Array.isArray(oe)?Re(oe):"tokenize"in oe?Re([oe]):Me(oe);function Me(rt){return tn;function tn(Ut){const nn=Ut!==null&&rt[Ut],rn=Ut!==null&&rt.null,ae=[...Array.isArray(nn)?nn:nn?[nn]:[],...Array.isArray(rn)?rn:rn?[rn]:[]];return Re(ae)(Ut)}}function Re(rt){return V=rt,P=0,rt.length===0?q:z(rt[P])}function z(rt){return tn;function tn(Ut){return R=O(),le=rt,rt.partial||(u.currentConstruct=rt),rt.name&&u.parser.constructs.disable.null.includes(rt.name)?nt():rt.tokenize.call(J?Object.assign(Object.create(u),J):u,l,Fe,nt)(Ut)}}function Fe(rt){return Y(le,R),H}function nt(rt){return R.restore(),++P<V.length?z(V[P]):q}}}function B(Y,J){Y.resolveAll&&!a.includes(Y)&&a.push(Y),Y.resolve&&Er(u.events,J,u.events.length-J,Y.resolve(u.events.slice(J),u)),Y.resolveTo&&(u.events=Y.resolveTo(u.events,u))}function O(){const Y=y(),J=u.previous,ie=u.currentConstruct,oe=u.events.length,H=Array.from(o);return{from:oe,restore:q};function q(){r=Y,u.previous=J,u.currentConstruct=ie,u.events.length=oe,o=H,F()}}function F(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function rA(t,e){const n=e.start._index,r=e.start._bufferIndex,i=e.end._index,a=e.end._bufferIndex;let s;if(n===i)s=[t[n].slice(r,a)];else{if(s=t.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(t[i].slice(0,a))}return s}function iA(t,e){let n=-1;const r=[];let i;for(;++n<t.length;){const a=t[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=e?" ":"	";break}case-1:{if(!e&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function aA(t){const r={constructs:hT([tA,...(t||{}).extensions||[]]),content:i(wT),defined:[],document:i(ST),flow:i(qE),lazy:{},string:i(GE),text:i(VE)};return r;function i(a){return s;function s(o){return nA(r,a,o)}}}function sA(t){for(;!j6(t););return t}const ry=/[\0\t\n\r]/g;function oA(){let t=1,e="",n=!0,r;return i;function i(a,s,o){const l=[];let u,c,f,p,m;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,e="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(ry.lastIndex=f,u=ry.exec(a),p=u&&u.index!==void 0?u.index:a.length,m=a.charCodeAt(p),!u){e=a.slice(f);break}if(m===10&&f===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),f<p&&(l.push(a.slice(f,p)),t+=p-f),m){case 0:{l.push(65533),t++;break}case 9:{for(c=Math.ceil(t/4)*4,l.push(-2);t++<c;)l.push(-1);break}case 10:{l.push(-4),t=1;break}default:r=!0,t=1}f=p+1}return o&&(r&&l.push(-5),e&&l.push(e),l.push(null)),l}}const lA=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function uA(t){return t.replace(lA,cA)}function cA(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return $6(n.slice(a?2:1),a?16:10)}return dm(n)||t}const tb={}.hasOwnProperty;function dA(t,e,n){return typeof e!="string"&&(n=e,e=void 0),hA(n)(sA(aA(n).document().write(oA()(t,e,!0))))}function hA(t){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(ra),autolinkProtocol:O,autolinkEmail:O,atxHeading:a(mt),blockQuote:a(rn),characterEscape:O,characterReference:O,codeFenced:a(ae),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(ae,s),codeText:a(pe,s),codeTextData:O,data:O,codeFlowValue:O,definition:a(ye),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(it),hardBreakEscape:a(Pn),hardBreakTrailing:a(Pn),htmlFlow:a(tr,s),htmlFlowData:O,htmlText:a(tr,s),htmlTextData:O,image:a(Mr),label:s,link:a(ra),listItem:a(Nw),listItemValue:p,listOrdered:a(n1,f),listUnordered:a(n1),paragraph:a(Rw),reference:z,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(mt),strong:a(Mw),thematicBreak:a(Dw)},exit:{atxHeading:l(),atxHeadingSequence:I,autolink:l(),autolinkEmail:nn,autolinkProtocol:Ut,blockQuote:l(),characterEscapeValue:F,characterReferenceMarkerHexadecimal:nt,characterReferenceMarkerNumeric:nt,characterReferenceValue:rt,characterReference:tn,codeFenced:l(E),codeFencedFence:w,codeFencedFenceInfo:m,codeFencedFenceMeta:y,codeFlowValue:F,codeIndented:l(b),codeText:l(H),codeTextData:F,data:F,definition:l(),definitionDestinationString:C,definitionLabelString:S,definitionTitleString:_,emphasis:l(),hardBreakEscape:l(J),hardBreakTrailing:l(J),htmlFlow:l(ie),htmlFlowData:F,htmlText:l(oe),htmlTextData:F,image:l(V),label:le,labelText:P,lineEnding:Y,link:l(q),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Fe,resourceDestinationString:R,resourceTitleString:Me,resource:Re,setextHeading:l(B),setextHeadingLineSequence:D,setextHeadingText:k,strong:l(),thematicBreak:l()}};nb(e,(t||{}).mdastExtensions||[]);const n={};return r;function r(G){let Z={type:"root",children:[]};const we={stack:[Z],tokenStack:[],config:e,enter:o,exit:u,buffer:s,resume:c,data:n},ke=[];let $e=-1;for(;++$e<G.length;)if(G[$e][1].type==="listOrdered"||G[$e][1].type==="listUnordered")if(G[$e][0]==="enter")ke.push($e);else{const nr=ke.pop();$e=i(G,nr,$e)}for($e=-1;++$e<G.length;){const nr=e[G[$e][0]];tb.call(nr,G[$e][1].type)&&nr[G[$e][1].type].call(Object.assign({sliceSerialize:G[$e][2].sliceSerialize},we),G[$e][1])}if(we.tokenStack.length>0){const nr=we.tokenStack[we.tokenStack.length-1];(nr[1]||iy).call(we,void 0,nr[0])}for(Z.position={start:fi(G.length>0?G[0][1].start:{line:1,column:1,offset:0}),end:fi(G.length>0?G[G.length-2][1].end:{line:1,column:1,offset:0})},$e=-1;++$e<e.transforms.length;)Z=e.transforms[$e](Z)||Z;return Z}function i(G,Z,we){let ke=Z-1,$e=-1,nr=!1,ia,Ir,oo,lo;for(;++ke<=we;){const vn=G[ke];switch(vn[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{vn[0]==="enter"?$e++:$e--,lo=void 0;break}case"lineEndingBlank":{vn[0]==="enter"&&(ia&&!lo&&!$e&&!oo&&(oo=ke),lo=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:lo=void 0}if(!$e&&vn[0]==="enter"&&vn[1].type==="listItemPrefix"||$e===-1&&vn[0]==="exit"&&(vn[1].type==="listUnordered"||vn[1].type==="listOrdered")){if(ia){let Ba=ke;for(Ir=void 0;Ba--;){const Dr=G[Ba];if(Dr[1].type==="lineEnding"||Dr[1].type==="lineEndingBlank"){if(Dr[0]==="exit")continue;Ir&&(G[Ir][1].type="lineEndingBlank",nr=!0),Dr[1].type="lineEnding",Ir=Ba}else if(!(Dr[1].type==="linePrefix"||Dr[1].type==="blockQuotePrefix"||Dr[1].type==="blockQuotePrefixWhitespace"||Dr[1].type==="blockQuoteMarker"||Dr[1].type==="listItemIndent"))break}oo&&(!Ir||oo<Ir)&&(ia._spread=!0),ia.end=Object.assign({},Ir?G[Ir][1].start:vn[1].end),G.splice(Ir||ke,0,["exit",ia,vn[2]]),ke++,we++}if(vn[1].type==="listItemPrefix"){const Ba={type:"listItem",_spread:!1,start:Object.assign({},vn[1].start),end:void 0};ia=Ba,G.splice(ke,0,["enter",Ba,vn[2]]),ke++,we++,oo=void 0,lo=!0}}}return G[Z][1]._spread=nr,we}function a(G,Z){return we;function we(ke){o.call(this,G(ke),ke),Z&&Z.call(this,ke)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(G,Z,we){this.stack[this.stack.length-1].children.push(G),this.stack.push(G),this.tokenStack.push([Z,we||void 0]),G.position={start:fi(Z.start),end:void 0}}function l(G){return Z;function Z(we){G&&G.call(this,we),u.call(this,we)}}function u(G,Z){const we=this.stack.pop(),ke=this.tokenStack.pop();if(ke)ke[0].type!==G.type&&(Z?Z.call(this,G,ke[0]):(ke[1]||iy).call(this,G,ke[0]));else throw new Error("Cannot close `"+G.type+"` ("+$o({start:G.start,end:G.end})+"): its not open");we.position.end=fi(G.end)}function c(){return cT(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function p(G){if(this.data.expectingFirstListItemValue){const Z=this.stack[this.stack.length-2];Z.start=Number.parseInt(this.sliceSerialize(G),10),this.data.expectingFirstListItemValue=void 0}}function m(){const G=this.resume(),Z=this.stack[this.stack.length-1];Z.lang=G}function y(){const G=this.resume(),Z=this.stack[this.stack.length-1];Z.meta=G}function w(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const G=this.resume(),Z=this.stack[this.stack.length-1];Z.value=G.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const G=this.resume(),Z=this.stack[this.stack.length-1];Z.value=G.replace(/(\r?\n|\r)$/g,"")}function S(G){const Z=this.resume(),we=this.stack[this.stack.length-1];we.label=Z,we.identifier=Ns(this.sliceSerialize(G)).toLowerCase()}function _(){const G=this.resume(),Z=this.stack[this.stack.length-1];Z.title=G}function C(){const G=this.resume(),Z=this.stack[this.stack.length-1];Z.url=G}function I(G){const Z=this.stack[this.stack.length-1];if(!Z.depth){const we=this.sliceSerialize(G).length;Z.depth=we}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function D(G){const Z=this.stack[this.stack.length-1];Z.depth=this.sliceSerialize(G).codePointAt(0)===61?1:2}function B(){this.data.setextHeadingSlurpLineEnding=void 0}function O(G){const we=this.stack[this.stack.length-1].children;let ke=we[we.length-1];(!ke||ke.type!=="text")&&(ke=Iw(),ke.position={start:fi(G.start),end:void 0},we.push(ke)),this.stack.push(ke)}function F(G){const Z=this.stack.pop();Z.value+=this.sliceSerialize(G),Z.position.end=fi(G.end)}function Y(G){const Z=this.stack[this.stack.length-1];if(this.data.atHardBreak){const we=Z.children[Z.children.length-1];we.position.end=fi(G.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(Z.type)&&(O.call(this,G),F.call(this,G))}function J(){this.data.atHardBreak=!0}function ie(){const G=this.resume(),Z=this.stack[this.stack.length-1];Z.value=G}function oe(){const G=this.resume(),Z=this.stack[this.stack.length-1];Z.value=G}function H(){const G=this.resume(),Z=this.stack[this.stack.length-1];Z.value=G}function q(){const G=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";G.type+="Reference",G.referenceType=Z,delete G.url,delete G.title}else delete G.identifier,delete G.label;this.data.referenceType=void 0}function V(){const G=this.stack[this.stack.length-1];if(this.data.inReference){const Z=this.data.referenceType||"shortcut";G.type+="Reference",G.referenceType=Z,delete G.url,delete G.title}else delete G.identifier,delete G.label;this.data.referenceType=void 0}function P(G){const Z=this.sliceSerialize(G),we=this.stack[this.stack.length-2];we.label=uA(Z),we.identifier=Ns(Z).toLowerCase()}function le(){const G=this.stack[this.stack.length-1],Z=this.resume(),we=this.stack[this.stack.length-1];if(this.data.inReference=!0,we.type==="link"){const ke=G.children;we.children=ke}else we.alt=Z}function R(){const G=this.resume(),Z=this.stack[this.stack.length-1];Z.url=G}function Me(){const G=this.resume(),Z=this.stack[this.stack.length-1];Z.title=G}function Re(){this.data.inReference=void 0}function z(){this.data.referenceType="collapsed"}function Fe(G){const Z=this.resume(),we=this.stack[this.stack.length-1];we.label=Z,we.identifier=Ns(this.sliceSerialize(G)).toLowerCase(),this.data.referenceType="full"}function nt(G){this.data.characterReferenceType=G.type}function rt(G){const Z=this.sliceSerialize(G),we=this.data.characterReferenceType;let ke;we?(ke=$6(Z,we==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ke=dm(Z);const $e=this.stack[this.stack.length-1];$e.value+=ke}function tn(G){const Z=this.stack.pop();Z.position.end=fi(G.end)}function Ut(G){F.call(this,G);const Z=this.stack[this.stack.length-1];Z.url=this.sliceSerialize(G)}function nn(G){F.call(this,G);const Z=this.stack[this.stack.length-1];Z.url="mailto:"+this.sliceSerialize(G)}function rn(){return{type:"blockquote",children:[]}}function ae(){return{type:"code",lang:null,meta:null,value:""}}function pe(){return{type:"inlineCode",value:""}}function ye(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function it(){return{type:"emphasis",children:[]}}function mt(){return{type:"heading",depth:0,children:[]}}function Pn(){return{type:"break"}}function tr(){return{type:"html",value:""}}function Mr(){return{type:"image",title:null,url:"",alt:null}}function ra(){return{type:"link",title:null,url:"",children:[]}}function n1(G){return{type:"list",ordered:G.type==="listOrdered",start:null,spread:G._spread,children:[]}}function Nw(G){return{type:"listItem",spread:G._spread,checked:null,children:[]}}function Rw(){return{type:"paragraph",children:[]}}function Mw(){return{type:"strong",children:[]}}function Iw(){return{type:"text",value:""}}function Dw(){return{type:"thematicBreak"}}}function fi(t){return{line:t.line,column:t.column,offset:t.offset}}function nb(t,e){let n=-1;for(;++n<e.length;){const r=e[n];Array.isArray(r)?nb(t,r):fA(t,r)}}function fA(t,e){let n;for(n in e)if(tb.call(e,n))switch(n){case"canContainEols":{const r=e[n];r&&t[n].push(...r);break}case"transforms":{const r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{const r=e[n];r&&Object.assign(t[n],r);break}}}function iy(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+$o({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+$o({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+$o({start:e.start,end:e.end})+") is still open")}function pA(t){const e=this;e.parser=n;function n(r){return dA(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function mA(t,e){const n={type:"element",tagName:"blockquote",properties:{},children:t.wrap(t.all(e),!0)};return t.patch(e,n),t.applyData(e,n)}function gA(t,e){const n={type:"element",tagName:"br",properties:{},children:[]};return t.patch(e,n),[t.applyData(e,n),{type:"text",value:`
`}]}function yA(t,e){const n=e.value?e.value+`
`:"",r={},i=e.lang?e.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return e.meta&&(a.data={meta:e.meta}),t.patch(e,a),a=t.applyData(e,a),a={type:"element",tagName:"pre",properties:{},children:[a]},t.patch(e,a),a}function vA(t,e){const n={type:"element",tagName:"del",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function bA(t,e){const n={type:"element",tagName:"em",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function wA(t,e){const n=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",r=String(e.identifier).toUpperCase(),i=to(r.toLowerCase()),a=t.footnoteOrder.indexOf(r);let s,o=t.footnoteCounts.get(r);o===void 0?(o=0,t.footnoteOrder.push(r),s=t.footnoteOrder.length):s=a+1,o+=1,t.footnoteCounts.set(r,o);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};t.patch(e,l);const u={type:"element",tagName:"sup",properties:{},children:[l]};return t.patch(e,u),t.applyData(e,u)}function xA(t,e){const n={type:"element",tagName:"h"+e.depth,properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function SA(t,e){if(t.options.allowDangerousHtml){const n={type:"raw",value:e.value};return t.patch(e,n),t.applyData(e,n)}}function rb(t,e){const n=e.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+r}];const i=t.all(e),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function _A(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return rb(t,e);const i={src:to(r.url||""),alt:e.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return t.patch(e,a),t.applyData(e,a)}function TA(t,e){const n={src:to(e.url)};e.alt!==null&&e.alt!==void 0&&(n.alt=e.alt),e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"img",properties:n,children:[]};return t.patch(e,r),t.applyData(e,r)}function EA(t,e){const n={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};t.patch(e,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return t.patch(e,r),t.applyData(e,r)}function AA(t,e){const n=String(e.identifier).toUpperCase(),r=t.definitionById.get(n);if(!r)return rb(t,e);const i={href:to(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:t.all(e)};return t.patch(e,a),t.applyData(e,a)}function CA(t,e){const n={href:to(e.url)};e.title!==null&&e.title!==void 0&&(n.title=e.title);const r={type:"element",tagName:"a",properties:n,children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function kA(t,e,n){const r=t.all(e),i=n?NA(n):ib(e),a={},s=[];if(typeof e.checked=="boolean"){const c=r[0];let f;c&&c.type==="element"&&c.tagName==="p"?f=c:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const c=r[o];(i||o!==0||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`}),c.type==="element"&&c.tagName==="p"&&!i?s.push(...c.children):s.push(c)}const l=r[r.length-1];l&&(i||l.type!=="element"||l.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return t.patch(e,u),t.applyData(e,u)}function NA(t){let e=!1;if(t.type==="list"){e=t.spread||!1;const n=t.children;let r=-1;for(;!e&&++r<n.length;)e=ib(n[r])}return e}function ib(t){const e=t.spread;return e??t.children.length>1}function RA(t,e){const n={},r=t.all(e);let i=-1;for(typeof e.start=="number"&&e.start!==1&&(n.start=e.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:e.ordered?"ol":"ul",properties:n,children:t.wrap(r,!0)};return t.patch(e,a),t.applyData(e,a)}function MA(t,e){const n={type:"element",tagName:"p",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function IA(t,e){const n={type:"root",children:t.wrap(t.all(e))};return t.patch(e,n),t.applyData(e,n)}function DA(t,e){const n={type:"element",tagName:"strong",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}function zA(t,e){const n=t.all(e),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:t.wrap([r],!0)};t.patch(e.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:t.wrap(n,!0)},o=om(e.children[1]),l=P6(e.children[e.children.length-1]);o&&l&&(s.position={start:o,end:l}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:t.wrap(i,!0)};return t.patch(e,a),t.applyData(e,a)}function UA(t,e,n){const r=n?n.children:void 0,a=(r?r.indexOf(e):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:e.children.length;let l=-1;const u=[];for(;++l<o;){const f=e.children[l],p={},m=s?s[l]:void 0;m&&(p.align=m);let y={type:"element",tagName:a,properties:p,children:[]};f&&(y.children=t.all(f),t.patch(f,y),y=t.applyData(f,y)),u.push(y)}const c={type:"element",tagName:"tr",properties:{},children:t.wrap(u,!0)};return t.patch(e,c),t.applyData(e,c)}function OA(t,e){const n={type:"element",tagName:"td",properties:{},children:t.all(e)};return t.patch(e,n),t.applyData(e,n)}const ay=9,sy=32;function LA(t){const e=String(t),n=/\r?\n|\r/g;let r=n.exec(e),i=0;const a=[];for(;r;)a.push(oy(e.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(e);return a.push(oy(e.slice(i),i>0,!1)),a.join("")}function oy(t,e,n){let r=0,i=t.length;if(e){let a=t.codePointAt(r);for(;a===ay||a===sy;)r++,a=t.codePointAt(r)}if(n){let a=t.codePointAt(i-1);for(;a===ay||a===sy;)i--,a=t.codePointAt(i-1)}return i>r?t.slice(r,i):""}function PA(t,e){const n={type:"text",value:LA(String(e.value))};return t.patch(e,n),t.applyData(e,n)}function BA(t,e){const n={type:"element",tagName:"hr",properties:{},children:[]};return t.patch(e,n),t.applyData(e,n)}const qA={blockquote:mA,break:gA,code:yA,delete:vA,emphasis:bA,footnoteReference:wA,heading:xA,html:SA,imageReference:_A,image:TA,inlineCode:EA,linkReference:AA,link:CA,listItem:kA,list:RA,paragraph:MA,root:IA,strong:DA,table:zA,tableCell:OA,tableRow:UA,text:PA,thematicBreak:BA,toml:ou,yaml:ou,definition:ou,footnoteDefinition:ou};function ou(){}const ab=-1,x0=0,Ko=1,Uc=2,pm=3,mm=4,gm=5,ym=6,sb=7,ob=8,ly=typeof self=="object"?self:globalThis,HA=(t,e)=>{const n=(i,a)=>(t.set(a,i),i),r=i=>{if(t.has(i))return t.get(i);const[a,s]=e[i];switch(a){case x0:case ab:return n(s,i);case Ko:{const o=n([],i);for(const l of s)o.push(r(l));return o}case Uc:{const o=n({},i);for(const[l,u]of s)o[r(l)]=r(u);return o}case pm:return n(new Date(s),i);case mm:{const{source:o,flags:l}=s;return n(new RegExp(o,l),i)}case gm:{const o=n(new Map,i);for(const[l,u]of s)o.set(r(l),r(u));return o}case ym:{const o=n(new Set,i);for(const l of s)o.add(r(l));return o}case sb:{const{name:o,message:l}=s;return n(new ly[o](l),i)}case ob:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new ly[a](s),i)};return r},uy=t=>HA(new Map,t)(0),Fa="",{toString:FA}={},{keys:GA}=Object,vo=t=>{const e=typeof t;if(e!=="object"||!t)return[x0,e];const n=FA.call(t).slice(8,-1);switch(n){case"Array":return[Ko,Fa];case"Object":return[Uc,Fa];case"Date":return[pm,Fa];case"RegExp":return[mm,Fa];case"Map":return[gm,Fa];case"Set":return[ym,Fa];case"DataView":return[Ko,n]}return n.includes("Array")?[Ko,n]:n.includes("Error")?[sb,n]:[Uc,n]},lu=([t,e])=>t===x0&&(e==="function"||e==="symbol"),VA=(t,e,n,r)=>{const i=(s,o)=>{const l=r.push(s)-1;return n.set(o,l),l},a=s=>{if(n.has(s))return n.get(s);let[o,l]=vo(s);switch(o){case x0:{let c=s;switch(l){case"bigint":o=ob,c=s.toString();break;case"function":case"symbol":if(t)throw new TypeError("unable to serialize "+l);c=null;break;case"undefined":return i([ab],s)}return i([o,c],s)}case Ko:{if(l){let p=s;return l==="DataView"?p=new Uint8Array(s.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(s)),i([l,[...p]],s)}const c=[],f=i([o,c],s);for(const p of s)c.push(a(p));return f}case Uc:{if(l)switch(l){case"BigInt":return i([l,s.toString()],s);case"Boolean":case"Number":case"String":return i([l,s.valueOf()],s)}if(e&&"toJSON"in s)return a(s.toJSON());const c=[],f=i([o,c],s);for(const p of GA(s))(t||!lu(vo(s[p])))&&c.push([a(p),a(s[p])]);return f}case pm:return i([o,s.toISOString()],s);case mm:{const{source:c,flags:f}=s;return i([o,{source:c,flags:f}],s)}case gm:{const c=[],f=i([o,c],s);for(const[p,m]of s)(t||!(lu(vo(p))||lu(vo(m))))&&c.push([a(p),a(m)]);return f}case ym:{const c=[],f=i([o,c],s);for(const p of s)(t||!lu(vo(p)))&&c.push(a(p));return f}}const{message:u}=s;return i([o,{name:l,message:u}],s)};return a},cy=(t,{json:e,lossy:n}={})=>{const r=[];return VA(!(e||n),!!e,new Map,r)(t),r},Oc=typeof structuredClone=="function"?(t,e)=>e&&("json"in e||"lossy"in e)?uy(cy(t,e)):structuredClone(t):(t,e)=>uy(cy(t,e));function $A(t,e){const n=[{type:"text",value:""}];return e>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),n}function YA(t,e){return"Back to reference "+(t+1)+(e>1?"-"+e:"")}function KA(t){const e=typeof t.options.clobberPrefix=="string"?t.options.clobberPrefix:"user-content-",n=t.options.footnoteBackContent||$A,r=t.options.footnoteBackLabel||YA,i=t.options.footnoteLabel||"Footnotes",a=t.options.footnoteLabelTagName||"h2",s=t.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let l=-1;for(;++l<t.footnoteOrder.length;){const u=t.footnoteById.get(t.footnoteOrder[l]);if(!u)continue;const c=t.all(u),f=String(u.identifier).toUpperCase(),p=to(f.toLowerCase());let m=0;const y=[],w=t.footnoteCounts.get(f);for(;w!==void 0&&++m<=w;){y.length>0&&y.push({type:"text",value:" "});let S=typeof n=="string"?n:n(l,m);typeof S=="string"&&(S={type:"text",value:S}),y.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(S)?S:[S]})}const E=c[c.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const S=E.children[E.children.length-1];S&&S.type==="text"?S.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...y)}else c.push(...y);const b={type:"element",tagName:"li",properties:{id:e+"fn-"+p},children:t.wrap(c,!0)};t.patch(u,b),o.push(b)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Oc(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:t.wrap(o,!0)},{type:"text",value:`
`}]}}const vm=function(t){if(t==null)return WA;if(typeof t=="function")return S0(t);if(typeof t=="object")return Array.isArray(t)?JA(t):jA(t);if(typeof t=="string")return XA(t);throw new Error("Expected function, string, or object as test")};function JA(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=vm(t[n]);return S0(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function jA(t){const e=t;return S0(n);function n(r){const i=r;let a;for(a in t)if(i[a]!==e[a])return!1;return!0}}function XA(t){return S0(e);function e(n){return n&&n.type===t}}function S0(t){return e;function e(n,r,i){return!!(QA(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function WA(){return!0}function QA(t){return t!==null&&typeof t=="object"&&"type"in t}const lb=[],ZA=!0,dy=!1,ub="skip";function cb(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;const a=vm(i),s=r?-1:1;o(t,void 0,[])();function o(l,u,c){const f=l&&typeof l=="object"?l:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=lb,y,w,E;if((!e||a(l,u,c[c.length-1]||void 0))&&(m=eC(n(l,c)),m[0]===dy))return m;if("children"in l&&l.children){const b=l;if(b.children&&m[0]!==ub)for(w=(r?b.children.length:-1)+s,E=c.concat(b);w>-1&&w<b.children.length;){const S=b.children[w];if(y=o(S,w,E)(),y[0]===dy)return y;w=typeof y[1]=="number"?y[1]:w+s}}return m}}}function eC(t){return Array.isArray(t)?t:typeof t=="number"?[ZA,t]:t==null?lb:[t]}function db(t,e,n,r){let i,a,s;typeof e=="function"&&typeof n!="function"?(a=void 0,s=e,i=n):(a=e,s=n,i=r),cb(t,a,o,i);function o(l,u){const c=u[u.length-1],f=c?c.children.indexOf(l):void 0;return s(l,f,c)}}const yf={}.hasOwnProperty,tC={};function nC(t,e){const n=e||tC,r=new Map,i=new Map,a=new Map,s={...qA,...n.handlers},o={all:u,applyData:iC,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:l,options:n,patch:rC,wrap:sC};return db(t,function(c){if(c.type==="definition"||c.type==="footnoteDefinition"){const f=c.type==="definition"?r:i,p=String(c.identifier).toUpperCase();f.has(p)||f.set(p,c)}}),o;function l(c,f){const p=c.type,m=o.handlers[p];if(yf.call(o.handlers,p)&&m)return m(o,c,f);if(o.options.passThrough&&o.options.passThrough.includes(p)){if("children"in c){const{children:w,...E}=c,b=Oc(E);return b.children=o.all(c),b}return Oc(c)}return(o.options.unknownHandler||aC)(o,c,f)}function u(c){const f=[];if("children"in c){const p=c.children;let m=-1;for(;++m<p.length;){const y=o.one(p[m],c);if(y){if(m&&p[m-1].type==="break"&&(!Array.isArray(y)&&y.type==="text"&&(y.value=hy(y.value)),!Array.isArray(y)&&y.type==="element")){const w=y.children[0];w&&w.type==="text"&&(w.value=hy(w.value))}Array.isArray(y)?f.push(...y):f.push(y)}}}return f}}function rC(t,e){t.position&&(e.position=F_(t))}function iC(t,e){let n=e;if(t&&t.data){const r=t.data.hName,i=t.data.hChildren,a=t.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Oc(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function aC(t,e){const n=e.data||{},r="value"in e&&!(yf.call(n,"hProperties")||yf.call(n,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:t.all(e)};return t.patch(e,r),t.applyData(e,r)}function sC(t,e){const n=[];let r=-1;for(e&&n.push({type:"text",value:`
`});++r<t.length;)r&&n.push({type:"text",value:`
`}),n.push(t[r]);return e&&t.length>0&&n.push({type:"text",value:`
`}),n}function hy(t){let e=0,n=t.charCodeAt(e);for(;n===9||n===32;)e++,n=t.charCodeAt(e);return t.slice(e)}function fy(t,e){const n=nC(t,e),r=n.one(t,void 0),i=KA(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function oC(t,e){return t&&"run"in t?async function(n,r){const i=fy(n,{file:r,...e});await t.run(i,r)}:function(n,r){return fy(n,{file:r,...t||e})}}function py(t){if(t)throw t}var ju=Object.prototype.hasOwnProperty,hb=Object.prototype.toString,my=Object.defineProperty,gy=Object.getOwnPropertyDescriptor,yy=function(e){return typeof Array.isArray=="function"?Array.isArray(e):hb.call(e)==="[object Array]"},vy=function(e){if(!e||hb.call(e)!=="[object Object]")return!1;var n=ju.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&ju.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||ju.call(e,i)},by=function(e,n){my&&n.name==="__proto__"?my(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},wy=function(e,n){if(n==="__proto__")if(ju.call(e,n)){if(gy)return gy(e,n).value}else return;return e[n]},lC=function t(){var e,n,r,i,a,s,o=arguments[0],l=1,u=arguments.length,c=!1;for(typeof o=="boolean"&&(c=o,o=arguments[1]||{},l=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});l<u;++l)if(e=arguments[l],e!=null)for(n in e)r=wy(o,n),i=wy(e,n),o!==i&&(c&&i&&(vy(i)||(a=yy(i)))?(a?(a=!1,s=r&&yy(r)?r:[]):s=r&&vy(r)?r:{},by(o,{name:n,newValue:t(c,s,i)})):typeof i<"u"&&by(o,{name:n,newValue:i}));return o};const Cd=Qc(lC);function vf(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function uC(){const t=[],e={run:n,use:r};return e;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(l,...u){const c=t[++a];let f=-1;if(l){s(l);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,c?cC(c,o)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function cC(t,e){let n;return r;function r(...s){const o=t.length>s.length;let l;o&&s.push(i);try{l=t.apply(this,s)}catch(u){const c=u;if(o&&n)throw c;return i(c)}o||(l&&l.then&&typeof l.then=="function"?l.then(a,i):l instanceof Error?i(l):a(l))}function i(s,...o){n||(n=!0,e(s,...o))}function a(s){i(null,s)}}const pr={basename:dC,dirname:hC,extname:fC,join:pC,sep:"/"};function dC(t,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Pl(t);let n=0,r=-1,i=t.length,a;if(e===void 0||e.length===0||e.length>t.length){for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":t.slice(n,r)}if(e===t)return"";let s=-1,o=e.length-1;for(;i--;)if(t.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(t.codePointAt(i)===e.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=t.length),t.slice(n,r)}function hC(t){if(Pl(t),t.length===0)return".";let e=-1,n=t.length,r;for(;--n;)if(t.codePointAt(n)===47){if(r){e=n;break}}else r||(r=!0);return e<0?t.codePointAt(0)===47?"/":".":e===1&&t.codePointAt(0)===47?"//":t.slice(0,e)}function fC(t){Pl(t);let e=t.length,n=-1,r=0,i=-1,a=0,s;for(;e--;){const o=t.codePointAt(e);if(o===47){if(s){r=e+1;break}continue}n<0&&(s=!0,n=e+1),o===46?i<0?i=e:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":t.slice(i,n)}function pC(...t){let e=-1,n;for(;++e<t.length;)Pl(t[e]),t[e]&&(n=n===void 0?t[e]:n+"/"+t[e]);return n===void 0?".":mC(n)}function mC(t){Pl(t);const e=t.codePointAt(0)===47;let n=gC(t,!e);return n.length===0&&!e&&(n="."),n.length>0&&t.codePointAt(t.length-1)===47&&(n+="/"),e?"/"+n:n}function gC(t,e){let n="",r=0,i=-1,a=0,s=-1,o,l;for(;++s<=t.length;){if(s<t.length)o=t.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}e&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+t.slice(i+1,s):n=t.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function Pl(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}const yC={cwd:vC};function vC(){return"/"}function bf(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}function bC(t){if(typeof t=="string")t=new URL(t);else if(!bf(t)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+t+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(t.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return wC(t)}function wC(t){if(t.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const e=t.pathname;let n=-1;for(;++n<e.length;)if(e.codePointAt(n)===37&&e.codePointAt(n+1)===50){const r=e.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(e)}const kd=["history","path","basename","stem","extname","dirname"];class fb{constructor(e){let n;e?bf(e)?n={path:e}:typeof e=="string"||xC(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":yC.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<kd.length;){const a=kd[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)kd.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?pr.basename(this.path):void 0}set basename(e){Rd(e,"basename"),Nd(e,"basename"),this.path=pr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?pr.dirname(this.path):void 0}set dirname(e){xy(this.basename,"dirname"),this.path=pr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?pr.extname(this.path):void 0}set extname(e){if(Nd(e,"extname"),xy(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=pr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){bf(e)&&(e=bC(e)),Rd(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?pr.basename(this.path,this.extname):void 0}set stem(e){Rd(e,"stem"),Nd(e,"stem"),this.path=pr.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){const i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){const i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){const i=new Yt(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Nd(t,e){if(t&&t.includes(pr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+pr.sep+"`")}function Rd(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function xy(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function xC(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const SC=function(t){const r=this.constructor.prototype,i=r[t],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},_C={}.hasOwnProperty;class bm extends SC{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=uC()}copy(){const e=new bm;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];e.use(...r)}return e.data(Cd(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Dd("data",this.frozen),this.namespace[e]=n,this):_C.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Dd("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const n=uu(e),r=this.parser||this.Parser;return Md("parse",r),r(String(n),n)}process(e,n){const r=this;return this.freeze(),Md("process",this.parser||this.Parser),Id("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=uu(e),l=r.parse(o);r.run(l,o,function(c,f,p){if(c||!f||!p)return u(c);const m=f,y=r.stringify(m,p);AC(y)?p.value=y:p.result=y,u(c,p)});function u(c,f){c||!f?s(c):a?a(f):n(void 0,f)}}}processSync(e){let n=!1,r;return this.freeze(),Md("processSync",this.parser||this.Parser),Id("processSync",this.compiler||this.Compiler),this.process(e,i),_y("processSync","process",n),r;function i(a,s){n=!0,py(a),r=s}}run(e,n,r){Sy(e),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const l=uu(n);i.run(e,l,u);function u(c,f,p){const m=f||e;c?o(c):s?s(m):r(void 0,m,p)}}}runSync(e,n){let r=!1,i;return this.run(e,n,a),_y("runSync","run",r),i;function a(s,o){py(s),i=o,r=!0}}stringify(e,n){this.freeze();const r=uu(n),i=this.compiler||this.Compiler;return Id("stringify",i),Sy(e),i(e,r)}use(e,...n){const r=this.attachers,i=this.namespace;if(Dd("use",this.frozen),e!=null)if(typeof e=="function")l(e,n);else if(typeof e=="object")Array.isArray(e)?o(e):s(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(u){if(typeof u=="function")l(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[c,...f]=u;l(c,f)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=Cd(!0,i.settings,u.settings))}function o(u){let c=-1;if(u!=null)if(Array.isArray(u))for(;++c<u.length;){const f=u[c];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function l(u,c){let f=-1,p=-1;for(;++f<r.length;)if(r[f][0]===u){p=f;break}if(p===-1)r.push([u,...c]);else if(c.length>0){let[m,...y]=c;const w=r[p][1];vf(w)&&vf(m)&&(m=Cd(!0,w,m)),r[p]=[u,m,...y]}}}}const TC=new bm().freeze();function Md(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Id(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Dd(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function Sy(t){if(!vf(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function _y(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function uu(t){return EC(t)?t:new fb(t)}function EC(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function AC(t){return typeof t=="string"||CC(t)}function CC(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}const kC="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",Ty=[],Ey={allowDangerousHtml:!0},NC=/^(https?|ircs?|mailto|xmpp)$/i,RC=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function MC(t){const e=IC(t),n=DC(t);return zC(e.runSync(e.parse(n),n),t)}function IC(t){const e=t.rehypePlugins||Ty,n=t.remarkPlugins||Ty,r=t.remarkRehypeOptions?{...t.remarkRehypeOptions,...Ey}:Ey;return TC().use(pA).use(n).use(oC,r).use(e)}function DC(t){const e=t.children||"",n=new fb;return typeof e=="string"&&(n.value=e),n}function zC(t,e){const n=e.allowedElements,r=e.allowElement,i=e.components,a=e.disallowedElements,s=e.skipHtml,o=e.unwrapDisallowed,l=e.urlTransform||UC;for(const c of RC)Object.hasOwn(e,c.from)&&(""+c.from+(c.to?"use `"+c.to+"` instead":"remove it")+kC+c.id,void 0);return e.className&&(t={type:"element",tagName:"div",properties:{className:e.className},children:t.type==="root"?t.children:[t]}),db(t,u),K_(t,{Fragment:x.Fragment,components:i,ignoreInvalidStyle:!0,jsx:x.jsx,jsxs:x.jsxs,passKeys:!0,passNode:!0});function u(c,f,p){if(c.type==="raw"&&p&&typeof f=="number")return s?p.children.splice(f,1):p.children[f]={type:"text",value:c.value},f;if(c.type==="element"){let m;for(m in Td)if(Object.hasOwn(Td,m)&&Object.hasOwn(c.properties,m)){const y=c.properties[m],w=Td[m];(w===null||w.includes(c.tagName))&&(c.properties[m]=l(String(y||""),m,c))}}if(c.type==="element"){let m=n?!n.includes(c.tagName):a?a.includes(c.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(c,f,p)),m&&p&&typeof f=="number")return o&&c.children?p.children.splice(f,1,...c.children):p.children.splice(f,1),f}}}function UC(t){const e=t.indexOf(":"),n=t.indexOf("?"),r=t.indexOf("#"),i=t.indexOf("/");return e===-1||i!==-1&&e>i||n!==-1&&e>n||r!==-1&&e>r||NC.test(t.slice(0,e))?t:""}function OC(t,e){const n=String(t);let r=n.indexOf(e),i=r,a=0,s=0;for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+e.length,r=n.indexOf(e,i);return s}function LC(){return{enter:{mathFlow:t,mathFlowFenceMeta:e,mathText:a},exit:{mathFlow:i,mathFlowFence:r,mathFlowFenceMeta:n,mathFlowValue:o,mathText:s,mathTextData:o}};function t(l){const u={type:"element",tagName:"code",properties:{className:["language-math","math-display"]},children:[]};this.enter({type:"math",meta:null,value:"",data:{hName:"pre",hChildren:[u]}},l)}function e(){this.buffer()}function n(){const l=this.resume(),u=this.stack[this.stack.length-1];u.type,u.meta=l}function r(){this.data.mathFlowInside||(this.buffer(),this.data.mathFlowInside=!0)}function i(l){const u=this.resume().replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),c=this.stack[this.stack.length-1];c.type,this.exit(l),c.value=u;const f=c.data.hChildren[0];f.type,f.tagName,f.children.push({type:"text",value:u}),this.data.mathFlowInside=void 0}function a(l){this.enter({type:"inlineMath",value:"",data:{hName:"code",hProperties:{className:["language-math","math-inline"]},hChildren:[]}},l),this.buffer()}function s(l){const u=this.resume(),c=this.stack[this.stack.length-1];c.type,this.exit(l),c.value=u,c.data.hChildren.push({type:"text",value:u})}function o(l){this.config.enter.data.call(this,l),this.config.exit.data.call(this,l)}}function PC(t){let e=(t||{}).singleDollarTextMath;return e==null&&(e=!0),r.peek=i,{unsafe:[{character:"\r",inConstruct:"mathFlowMeta"},{character:`
`,inConstruct:"mathFlowMeta"},{character:"$",after:e?void 0:"\\$",inConstruct:"phrasing"},{character:"$",inConstruct:"mathFlowMeta"},{atBreak:!0,character:"$",after:"\\$"}],handlers:{math:n,inlineMath:r}};function n(a,s,o,l){const u=a.value||"",c=o.createTracker(l),f="$".repeat(Math.max(OC(u,"$")+1,2)),p=o.enter("mathFlow");let m=c.move(f);if(a.meta){const y=o.enter("mathFlowMeta");m+=c.move(o.safe(a.meta,{after:`
`,before:m,encode:["$"],...c.current()})),y()}return m+=c.move(`
`),u&&(m+=c.move(u+`
`)),m+=c.move(f),p(),m}function r(a,s,o){let l=a.value||"",u=1;for(e||u++;new RegExp("(^|[^$])"+"\\$".repeat(u)+"([^$]|$)").test(l);)u++;const c="$".repeat(u);/[^ \r\n]/.test(l)&&(/^[ \r\n]/.test(l)&&/[ \r\n]$/.test(l)||/^\$|\$$/.test(l))&&(l=" "+l+" ");let f=-1;for(;++f<o.unsafe.length;){const p=o.unsafe[f];if(!p.atBreak)continue;const m=o.compilePattern(p);let y;for(;y=m.exec(l);){let w=y.index;l.codePointAt(w)===10&&l.codePointAt(w-1)===13&&w--,l=l.slice(0,w)+" "+l.slice(y.index+1)}}return c+l+c}function i(){return"$"}}const BC={tokenize:qC,concrete:!0,name:"mathFlow"},Ay={tokenize:HC,partial:!0};function qC(t,e,n){const r=this,i=r.events[r.events.length-1],a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0;let s=0;return o;function o(S){return t.enter("mathFlow"),t.enter("mathFlowFence"),t.enter("mathFlowFenceSequence"),l(S)}function l(S){return S===36?(t.consume(S),s++,l):s<2?n(S):(t.exit("mathFlowFenceSequence"),Pe(t,u,"whitespace")(S))}function u(S){return S===null||ue(S)?f(S):(t.enter("mathFlowFenceMeta"),t.enter("chunkString",{contentType:"string"}),c(S))}function c(S){return S===null||ue(S)?(t.exit("chunkString"),t.exit("mathFlowFenceMeta"),f(S)):S===36?n(S):(t.consume(S),c)}function f(S){return t.exit("mathFlowFence"),r.interrupt?e(S):t.attempt(Ay,p,E)(S)}function p(S){return t.attempt({tokenize:b,partial:!0},E,m)(S)}function m(S){return(a?Pe(t,y,"linePrefix",a+1):y)(S)}function y(S){return S===null?E(S):ue(S)?t.attempt(Ay,p,E)(S):(t.enter("mathFlowValue"),w(S))}function w(S){return S===null||ue(S)?(t.exit("mathFlowValue"),y(S)):(t.consume(S),w)}function E(S){return t.exit("mathFlow"),e(S)}function b(S,_,C){let I=0;return Pe(S,k,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4);function k(O){return S.enter("mathFlowFence"),S.enter("mathFlowFenceSequence"),D(O)}function D(O){return O===36?(I++,S.consume(O),D):I<s?C(O):(S.exit("mathFlowFenceSequence"),Pe(S,B,"whitespace")(O))}function B(O){return O===null||ue(O)?(S.exit("mathFlowFence"),_(O)):C(O)}}}function HC(t,e,n){const r=this;return i;function i(s){return s===null?e(s):(t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):e(s)}}function FC(t){let n=(t||{}).singleDollarTextMath;return n==null&&(n=!0),{tokenize:r,resolve:GC,previous:VC,name:"mathText"};function r(i,a,s){let o=0,l,u;return c;function c(w){return i.enter("mathText"),i.enter("mathTextSequence"),f(w)}function f(w){return w===36?(i.consume(w),o++,f):o<2&&!n?s(w):(i.exit("mathTextSequence"),p(w))}function p(w){return w===null?s(w):w===36?(u=i.enter("mathTextSequence"),l=0,y(w)):w===32?(i.enter("space"),i.consume(w),i.exit("space"),p):ue(w)?(i.enter("lineEnding"),i.consume(w),i.exit("lineEnding"),p):(i.enter("mathTextData"),m(w))}function m(w){return w===null||w===32||w===36||ue(w)?(i.exit("mathTextData"),p(w)):(i.consume(w),m)}function y(w){return w===36?(i.consume(w),l++,y):l===o?(i.exit("mathTextSequence"),i.exit("mathText"),a(w)):(u.type="mathTextData",m(w))}}}function GC(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="mathTextData"){t[e][1].type="mathTextPadding",t[n][1].type="mathTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="mathTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function VC(t){return t!==36||this.events[this.events.length-1][1].type==="characterEscape"}function $C(t){return{flow:{36:BC},text:{36:FC(t)}}}class dn{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new dn(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class zn{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new zn(n,dn.range(this,e))}}class X{constructor(e,n){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;var r="KaTeX parse error: "+e,i,a,s=n&&n.loc;if(s&&s.start<=s.end){var o=s.lexer.input;i=s.start,a=s.end,i===o.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=o.slice(i,a).replace(/[^]/g,"$&"),u;i>15?u=""+o.slice(i-15,i):u=o.slice(0,i);var c;a+15<o.length?c=o.slice(a,a+15)+"":c=o.slice(a),r+=u+l+c}var f=new Error(r);return f.name="ParseError",f.__proto__=X.prototype,f.position=i,i!=null&&a!=null&&(f.length=a-i),f.rawMessage=e,f}}X.prototype.__proto__=Error.prototype;var YC=function(e,n){return e===void 0?n:e},KC=/([A-Z])/g,JC=function(e){return e.replace(KC,"-$1").toLowerCase()},jC={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},XC=/[&><"']/g;function WC(t){return String(t).replace(XC,e=>jC[e])}var pb=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},QC=function(e){var n=pb(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},ZC=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},ek=function(e){var n=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(e);return n?n[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(n[1])?null:n[1].toLowerCase():"_relative"},De={deflt:YC,escape:WC,hyphenate:JC,getBaseElem:pb,isCharacterBox:QC,protocolFromUrl:ek},Xu={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function tk(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}let wm=class{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in Xu)if(Xu.hasOwnProperty(n)){var r=Xu[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:tk(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new X("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){if(e.url&&!e.protocol){var n=De.protocolFromUrl(e.url);if(n==null)return!1;e.protocol=n}var r=typeof this.trust=="function"?this.trust(e):this.trust;return!!r}};class pi{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return yr[nk[this.id]]}sub(){return yr[rk[this.id]]}fracNum(){return yr[ik[this.id]]}fracDen(){return yr[ak[this.id]]}cramp(){return yr[sk[this.id]]}text(){return yr[ok[this.id]]}isTight(){return this.size>=2}}var xm=0,Lc=1,Rs=2,Xr=3,gl=4,Kn=5,$s=6,Wt=7,yr=[new pi(xm,0,!1),new pi(Lc,0,!0),new pi(Rs,1,!1),new pi(Xr,1,!0),new pi(gl,2,!1),new pi(Kn,2,!0),new pi($s,3,!1),new pi(Wt,3,!0)],nk=[gl,Kn,gl,Kn,$s,Wt,$s,Wt],rk=[Kn,Kn,Kn,Kn,Wt,Wt,Wt,Wt],ik=[Rs,Xr,gl,Kn,$s,Wt,$s,Wt],ak=[Xr,Xr,Kn,Kn,Wt,Wt,Wt,Wt],sk=[Lc,Lc,Xr,Xr,Kn,Kn,Wt,Wt],ok=[xm,Lc,Rs,Xr,Rs,Xr,Rs,Xr],de={DISPLAY:yr[xm],TEXT:yr[Rs],SCRIPT:yr[gl],SCRIPTSCRIPT:yr[$s]},wf=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function lk(t){for(var e=0;e<wf.length;e++)for(var n=wf[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var Wu=[];wf.forEach(t=>t.blocks.forEach(e=>Wu.push(...e)));function mb(t){for(var e=0;e<Wu.length;e+=2)if(t>=Wu[e]&&t<=Wu[e+1])return!0;return!1}var Ga=80,uk=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},ck=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},dk=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},hk=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},fk=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},pk=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},mk=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},gk=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=uk(n,Ga);break;case"sqrtSize1":i=ck(n,Ga);break;case"sqrtSize2":i=dk(n,Ga);break;case"sqrtSize3":i=hk(n,Ga);break;case"sqrtSize4":i=fk(n,Ga);break;case"sqrtTall":i=mk(n,Ga,r)}return i},yk=function(e,n){switch(e){case"":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},Cy={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},vk=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class Bl{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return this.classes.includes(e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Sr={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},cu={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},ky={:"A",:"D",:"o",:"a",:"d",:"o",:"A",:"B",:"B",:"F",:"A",:"E",:"K",:"3",:"N",:"N",:"K",:"N",:"M",:"H",:"O",:"N",:"P",:"C",:"T",:"y",:"O",:"X",:"U",:"h",:"W",:"W",:"B",:"X",:"B",:"3",:"X",:"R",:"a",:"b",:"a",:"r",:"y",:"e",:"m",:"e",:"n",:"n",:"n",:"n",:"m",:"n",:"o",:"n",:"p",:"c",:"o",:"y",:"b",:"x",:"n",:"n",:"w",:"w",:"a",:"m",:"a",:"e",:"m",:"r"};function bk(t,e){Sr[t]=e}function Sm(t,e,n){if(!Sr[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=Sr[e][r];if(!i&&t[0]in ky&&(r=ky[t[0]].charCodeAt(0),i=Sr[e][r]),!i&&n==="text"&&mb(r)&&(i=Sr[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var zd={};function wk(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!zd[e]){var n=zd[e]={cssEmPerMu:cu.quad[e]/18};for(var r in cu)cu.hasOwnProperty(r)&&(n[r]=cu[r][e])}return zd[e]}var xk=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],Ny=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],Ry=function(e,n){return n.size<2?e:xk[e-1][n.size-1]};class Fr{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Fr.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=Ny[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new Fr(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:Ry(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:Ny[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=Ry(Fr.BASESIZE,e);return this.size===n&&this.textSize===Fr.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Fr.BASESIZE?["sizing","reset-size"+this.size,"size"+Fr.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=wk(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Fr.BASESIZE=6;var xf={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},Sk={ex:!0,em:!0,mu:!0},gb=function(e){return typeof e!="string"&&(e=e.unit),e in xf||e in Sk||e==="ex"},ct=function(e,n){var r;if(e.unit in xf)r=xf[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new X("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},Q=function(e){return+e.toFixed(4)+"em"},ji=function(e){return e.filter(n=>n).join(" ")},yb=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},vb=function(e){var n=document.createElement(e);n.className=ji(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var a=0;a<this.children.length;a++)n.appendChild(this.children[a].toNode());return n},_k=/[\s"'>/=\x00-\x1f]/,bb=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+De.escape(ji(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=De.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+De.escape(r)+'"');for(var a in this.attributes)if(this.attributes.hasOwnProperty(a)){if(_k.test(a))throw new X("Invalid attribute name '"+a+"'");n+=" "+a+'="'+De.escape(this.attributes[a])+'"'}n+=">";for(var s=0;s<this.children.length;s++)n+=this.children[s].toMarkup();return n+="</"+e+">",n};class ql{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,yb.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return vb.call(this,"span")}toMarkup(){return bb.call(this,"span")}}class _m{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,yb.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return this.classes.includes(e)}toNode(){return vb.call(this,"a")}toMarkup(){return bb.call(this,"a")}}class Tk{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e='<img src="'+De.escape(this.src)+'"'+(' alt="'+De.escape(this.alt)+'"'),n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=De.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+De.escape(n)+'"'),e+="'/>",e}}var Ek={:"",:"",:"",:""};class Qn{constructor(e,n,r,i,a,s,o,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=a||0,this.width=s||0,this.classes=o||[],this.style=l||{},this.maxFontSize=0;var u=lk(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[]/.test(this.text)&&(this.text=Ek[this.text])}hasClass(e){return this.classes.includes(e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=Q(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=ji(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=De.escape(ji(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=De.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+De.escape(r)+'"');var a=De.escape(this.text);return e?(n+=">",n+=a,n+="</span>",n):a}}class ri{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+De.escape(this.attributes[n])+'"');e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class Xi{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",Cy[this.pathName]),n}toMarkup(){return this.alternate?'<path d="'+De.escape(this.alternate)+'"/>':'<path d="'+De.escape(Cy[this.pathName])+'"/>'}}class Sf{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="'+De.escape(this.attributes[n])+'"');return e+="/>",e}}function My(t){if(t instanceof Qn)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function Ak(t){if(t instanceof ql)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var Ck={bin:1,close:1,inner:1,open:1,punct:1,rel:1},kk={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},We={math:{},text:{}};function g(t,e,n,r,i,a){We[t][i]={font:e,group:n,replace:r},a&&r&&(We[t][r]=We[t][i])}var v="math",K="text",T="main",N="ams",ot="accent-token",re="bin",en="close",no="inner",ce="mathord",Et="op-token",Ln="open",_0="punct",M="rel",li="spacing",U="textord";g(v,T,M,"","\\equiv",!0);g(v,T,M,"","\\prec",!0);g(v,T,M,"","\\succ",!0);g(v,T,M,"","\\sim",!0);g(v,T,M,"","\\perp");g(v,T,M,"","\\preceq",!0);g(v,T,M,"","\\succeq",!0);g(v,T,M,"","\\simeq",!0);g(v,T,M,"","\\mid",!0);g(v,T,M,"","\\ll",!0);g(v,T,M,"","\\gg",!0);g(v,T,M,"","\\asymp",!0);g(v,T,M,"","\\parallel");g(v,T,M,"","\\bowtie",!0);g(v,T,M,"","\\smile",!0);g(v,T,M,"","\\sqsubseteq",!0);g(v,T,M,"","\\sqsupseteq",!0);g(v,T,M,"","\\doteq",!0);g(v,T,M,"","\\frown",!0);g(v,T,M,"","\\ni",!0);g(v,T,M,"","\\propto",!0);g(v,T,M,"","\\vdash",!0);g(v,T,M,"","\\dashv",!0);g(v,T,M,"","\\owns");g(v,T,_0,".","\\ldotp");g(v,T,_0,"","\\cdotp");g(v,T,U,"#","\\#");g(K,T,U,"#","\\#");g(v,T,U,"&","\\&");g(K,T,U,"&","\\&");g(v,T,U,"","\\aleph",!0);g(v,T,U,"","\\forall",!0);g(v,T,U,"","\\hbar",!0);g(v,T,U,"","\\exists",!0);g(v,T,U,"","\\nabla",!0);g(v,T,U,"","\\flat",!0);g(v,T,U,"","\\ell",!0);g(v,T,U,"","\\natural",!0);g(v,T,U,"","\\clubsuit",!0);g(v,T,U,"","\\wp",!0);g(v,T,U,"","\\sharp",!0);g(v,T,U,"","\\diamondsuit",!0);g(v,T,U,"","\\Re",!0);g(v,T,U,"","\\heartsuit",!0);g(v,T,U,"","\\Im",!0);g(v,T,U,"","\\spadesuit",!0);g(v,T,U,"","\\S",!0);g(K,T,U,"","\\S");g(v,T,U,"","\\P",!0);g(K,T,U,"","\\P");g(v,T,U,"","\\dag");g(K,T,U,"","\\dag");g(K,T,U,"","\\textdagger");g(v,T,U,"","\\ddag");g(K,T,U,"","\\ddag");g(K,T,U,"","\\textdaggerdbl");g(v,T,en,"","\\rmoustache",!0);g(v,T,Ln,"","\\lmoustache",!0);g(v,T,en,"","\\rgroup",!0);g(v,T,Ln,"","\\lgroup",!0);g(v,T,re,"","\\mp",!0);g(v,T,re,"","\\ominus",!0);g(v,T,re,"","\\uplus",!0);g(v,T,re,"","\\sqcap",!0);g(v,T,re,"","\\ast");g(v,T,re,"","\\sqcup",!0);g(v,T,re,"","\\bigcirc",!0);g(v,T,re,"","\\bullet",!0);g(v,T,re,"","\\ddagger");g(v,T,re,"","\\wr",!0);g(v,T,re,"","\\amalg");g(v,T,re,"&","\\And");g(v,T,M,"","\\longleftarrow",!0);g(v,T,M,"","\\Leftarrow",!0);g(v,T,M,"","\\Longleftarrow",!0);g(v,T,M,"","\\longrightarrow",!0);g(v,T,M,"","\\Rightarrow",!0);g(v,T,M,"","\\Longrightarrow",!0);g(v,T,M,"","\\leftrightarrow",!0);g(v,T,M,"","\\longleftrightarrow",!0);g(v,T,M,"","\\Leftrightarrow",!0);g(v,T,M,"","\\Longleftrightarrow",!0);g(v,T,M,"","\\mapsto",!0);g(v,T,M,"","\\longmapsto",!0);g(v,T,M,"","\\nearrow",!0);g(v,T,M,"","\\hookleftarrow",!0);g(v,T,M,"","\\hookrightarrow",!0);g(v,T,M,"","\\searrow",!0);g(v,T,M,"","\\leftharpoonup",!0);g(v,T,M,"","\\rightharpoonup",!0);g(v,T,M,"","\\swarrow",!0);g(v,T,M,"","\\leftharpoondown",!0);g(v,T,M,"","\\rightharpoondown",!0);g(v,T,M,"","\\nwarrow",!0);g(v,T,M,"","\\rightleftharpoons",!0);g(v,N,M,"","\\nless",!0);g(v,N,M,"","\\@nleqslant");g(v,N,M,"","\\@nleqq");g(v,N,M,"","\\lneq",!0);g(v,N,M,"","\\lneqq",!0);g(v,N,M,"","\\@lvertneqq");g(v,N,M,"","\\lnsim",!0);g(v,N,M,"","\\lnapprox",!0);g(v,N,M,"","\\nprec",!0);g(v,N,M,"","\\npreceq",!0);g(v,N,M,"","\\precnsim",!0);g(v,N,M,"","\\precnapprox",!0);g(v,N,M,"","\\nsim",!0);g(v,N,M,"","\\@nshortmid");g(v,N,M,"","\\nmid",!0);g(v,N,M,"","\\nvdash",!0);g(v,N,M,"","\\nvDash",!0);g(v,N,M,"","\\ntriangleleft");g(v,N,M,"","\\ntrianglelefteq",!0);g(v,N,M,"","\\subsetneq",!0);g(v,N,M,"","\\@varsubsetneq");g(v,N,M,"","\\subsetneqq",!0);g(v,N,M,"","\\@varsubsetneqq");g(v,N,M,"","\\ngtr",!0);g(v,N,M,"","\\@ngeqslant");g(v,N,M,"","\\@ngeqq");g(v,N,M,"","\\gneq",!0);g(v,N,M,"","\\gneqq",!0);g(v,N,M,"","\\@gvertneqq");g(v,N,M,"","\\gnsim",!0);g(v,N,M,"","\\gnapprox",!0);g(v,N,M,"","\\nsucc",!0);g(v,N,M,"","\\nsucceq",!0);g(v,N,M,"","\\succnsim",!0);g(v,N,M,"","\\succnapprox",!0);g(v,N,M,"","\\ncong",!0);g(v,N,M,"","\\@nshortparallel");g(v,N,M,"","\\nparallel",!0);g(v,N,M,"","\\nVDash",!0);g(v,N,M,"","\\ntriangleright");g(v,N,M,"","\\ntrianglerighteq",!0);g(v,N,M,"","\\@nsupseteqq");g(v,N,M,"","\\supsetneq",!0);g(v,N,M,"","\\@varsupsetneq");g(v,N,M,"","\\supsetneqq",!0);g(v,N,M,"","\\@varsupsetneqq");g(v,N,M,"","\\nVdash",!0);g(v,N,M,"","\\precneqq",!0);g(v,N,M,"","\\succneqq",!0);g(v,N,M,"","\\@nsubseteqq");g(v,N,re,"","\\unlhd");g(v,N,re,"","\\unrhd");g(v,N,M,"","\\nleftarrow",!0);g(v,N,M,"","\\nrightarrow",!0);g(v,N,M,"","\\nLeftarrow",!0);g(v,N,M,"","\\nRightarrow",!0);g(v,N,M,"","\\nleftrightarrow",!0);g(v,N,M,"","\\nLeftrightarrow",!0);g(v,N,M,"","\\vartriangle");g(v,N,U,"","\\hslash");g(v,N,U,"","\\triangledown");g(v,N,U,"","\\lozenge");g(v,N,U,"","\\circledS");g(v,N,U,"","\\circledR");g(K,N,U,"","\\circledR");g(v,N,U,"","\\measuredangle",!0);g(v,N,U,"","\\nexists");g(v,N,U,"","\\mho");g(v,N,U,"","\\Finv",!0);g(v,N,U,"","\\Game",!0);g(v,N,U,"","\\backprime");g(v,N,U,"","\\blacktriangle");g(v,N,U,"","\\blacktriangledown");g(v,N,U,"","\\blacksquare");g(v,N,U,"","\\blacklozenge");g(v,N,U,"","\\bigstar");g(v,N,U,"","\\sphericalangle",!0);g(v,N,U,"","\\complement",!0);g(v,N,U,"","\\eth",!0);g(K,T,U,"","");g(v,N,U,"","\\diagup");g(v,N,U,"","\\diagdown");g(v,N,U,"","\\square");g(v,N,U,"","\\Box");g(v,N,U,"","\\Diamond");g(v,N,U,"","\\yen",!0);g(K,N,U,"","\\yen",!0);g(v,N,U,"","\\checkmark",!0);g(K,N,U,"","\\checkmark");g(v,N,U,"","\\beth",!0);g(v,N,U,"","\\daleth",!0);g(v,N,U,"","\\gimel",!0);g(v,N,U,"","\\digamma",!0);g(v,N,U,"","\\varkappa");g(v,N,Ln,"","\\@ulcorner",!0);g(v,N,en,"","\\@urcorner",!0);g(v,N,Ln,"","\\@llcorner",!0);g(v,N,en,"","\\@lrcorner",!0);g(v,N,M,"","\\leqq",!0);g(v,N,M,"","\\leqslant",!0);g(v,N,M,"","\\eqslantless",!0);g(v,N,M,"","\\lesssim",!0);g(v,N,M,"","\\lessapprox",!0);g(v,N,M,"","\\approxeq",!0);g(v,N,re,"","\\lessdot");g(v,N,M,"","\\lll",!0);g(v,N,M,"","\\lessgtr",!0);g(v,N,M,"","\\lesseqgtr",!0);g(v,N,M,"","\\lesseqqgtr",!0);g(v,N,M,"","\\doteqdot");g(v,N,M,"","\\risingdotseq",!0);g(v,N,M,"","\\fallingdotseq",!0);g(v,N,M,"","\\backsim",!0);g(v,N,M,"","\\backsimeq",!0);g(v,N,M,"","\\subseteqq",!0);g(v,N,M,"","\\Subset",!0);g(v,N,M,"","\\sqsubset",!0);g(v,N,M,"","\\preccurlyeq",!0);g(v,N,M,"","\\curlyeqprec",!0);g(v,N,M,"","\\precsim",!0);g(v,N,M,"","\\precapprox",!0);g(v,N,M,"","\\vartriangleleft");g(v,N,M,"","\\trianglelefteq");g(v,N,M,"","\\vDash",!0);g(v,N,M,"","\\Vvdash",!0);g(v,N,M,"","\\smallsmile");g(v,N,M,"","\\smallfrown");g(v,N,M,"","\\bumpeq",!0);g(v,N,M,"","\\Bumpeq",!0);g(v,N,M,"","\\geqq",!0);g(v,N,M,"","\\geqslant",!0);g(v,N,M,"","\\eqslantgtr",!0);g(v,N,M,"","\\gtrsim",!0);g(v,N,M,"","\\gtrapprox",!0);g(v,N,re,"","\\gtrdot");g(v,N,M,"","\\ggg",!0);g(v,N,M,"","\\gtrless",!0);g(v,N,M,"","\\gtreqless",!0);g(v,N,M,"","\\gtreqqless",!0);g(v,N,M,"","\\eqcirc",!0);g(v,N,M,"","\\circeq",!0);g(v,N,M,"","\\triangleq",!0);g(v,N,M,"","\\thicksim");g(v,N,M,"","\\thickapprox");g(v,N,M,"","\\supseteqq",!0);g(v,N,M,"","\\Supset",!0);g(v,N,M,"","\\sqsupset",!0);g(v,N,M,"","\\succcurlyeq",!0);g(v,N,M,"","\\curlyeqsucc",!0);g(v,N,M,"","\\succsim",!0);g(v,N,M,"","\\succapprox",!0);g(v,N,M,"","\\vartriangleright");g(v,N,M,"","\\trianglerighteq");g(v,N,M,"","\\Vdash",!0);g(v,N,M,"","\\shortmid");g(v,N,M,"","\\shortparallel");g(v,N,M,"","\\between",!0);g(v,N,M,"","\\pitchfork",!0);g(v,N,M,"","\\varpropto");g(v,N,M,"","\\blacktriangleleft");g(v,N,M,"","\\therefore",!0);g(v,N,M,"","\\backepsilon");g(v,N,M,"","\\blacktriangleright");g(v,N,M,"","\\because",!0);g(v,N,M,"","\\llless");g(v,N,M,"","\\gggtr");g(v,N,re,"","\\lhd");g(v,N,re,"","\\rhd");g(v,N,M,"","\\eqsim",!0);g(v,T,M,"","\\Join");g(v,N,M,"","\\Doteq",!0);g(v,N,re,"","\\dotplus",!0);g(v,N,re,"","\\smallsetminus");g(v,N,re,"","\\Cap",!0);g(v,N,re,"","\\Cup",!0);g(v,N,re,"","\\doublebarwedge",!0);g(v,N,re,"","\\boxminus",!0);g(v,N,re,"","\\boxplus",!0);g(v,N,re,"","\\divideontimes",!0);g(v,N,re,"","\\ltimes",!0);g(v,N,re,"","\\rtimes",!0);g(v,N,re,"","\\leftthreetimes",!0);g(v,N,re,"","\\rightthreetimes",!0);g(v,N,re,"","\\curlywedge",!0);g(v,N,re,"","\\curlyvee",!0);g(v,N,re,"","\\circleddash",!0);g(v,N,re,"","\\circledast",!0);g(v,N,re,"","\\centerdot");g(v,N,re,"","\\intercal",!0);g(v,N,re,"","\\doublecap");g(v,N,re,"","\\doublecup");g(v,N,re,"","\\boxtimes",!0);g(v,N,M,"","\\dashrightarrow",!0);g(v,N,M,"","\\dashleftarrow",!0);g(v,N,M,"","\\leftleftarrows",!0);g(v,N,M,"","\\leftrightarrows",!0);g(v,N,M,"","\\Lleftarrow",!0);g(v,N,M,"","\\twoheadleftarrow",!0);g(v,N,M,"","\\leftarrowtail",!0);g(v,N,M,"","\\looparrowleft",!0);g(v,N,M,"","\\leftrightharpoons",!0);g(v,N,M,"","\\curvearrowleft",!0);g(v,N,M,"","\\circlearrowleft",!0);g(v,N,M,"","\\Lsh",!0);g(v,N,M,"","\\upuparrows",!0);g(v,N,M,"","\\upharpoonleft",!0);g(v,N,M,"","\\downharpoonleft",!0);g(v,T,M,"","\\origof",!0);g(v,T,M,"","\\imageof",!0);g(v,N,M,"","\\multimap",!0);g(v,N,M,"","\\leftrightsquigarrow",!0);g(v,N,M,"","\\rightrightarrows",!0);g(v,N,M,"","\\rightleftarrows",!0);g(v,N,M,"","\\twoheadrightarrow",!0);g(v,N,M,"","\\rightarrowtail",!0);g(v,N,M,"","\\looparrowright",!0);g(v,N,M,"","\\curvearrowright",!0);g(v,N,M,"","\\circlearrowright",!0);g(v,N,M,"","\\Rsh",!0);g(v,N,M,"","\\downdownarrows",!0);g(v,N,M,"","\\upharpoonright",!0);g(v,N,M,"","\\downharpoonright",!0);g(v,N,M,"","\\rightsquigarrow",!0);g(v,N,M,"","\\leadsto");g(v,N,M,"","\\Rrightarrow",!0);g(v,N,M,"","\\restriction");g(v,T,U,"","`");g(v,T,U,"$","\\$");g(K,T,U,"$","\\$");g(K,T,U,"$","\\textdollar");g(v,T,U,"%","\\%");g(K,T,U,"%","\\%");g(v,T,U,"_","\\_");g(K,T,U,"_","\\_");g(K,T,U,"_","\\textunderscore");g(v,T,U,"","\\angle",!0);g(v,T,U,"","\\infty",!0);g(v,T,U,"","\\prime");g(v,T,U,"","\\triangle");g(v,T,U,"","\\Gamma",!0);g(v,T,U,"","\\Delta",!0);g(v,T,U,"","\\Theta",!0);g(v,T,U,"","\\Lambda",!0);g(v,T,U,"","\\Xi",!0);g(v,T,U,"","\\Pi",!0);g(v,T,U,"","\\Sigma",!0);g(v,T,U,"","\\Upsilon",!0);g(v,T,U,"","\\Phi",!0);g(v,T,U,"","\\Psi",!0);g(v,T,U,"","\\Omega",!0);g(v,T,U,"A","");g(v,T,U,"B","");g(v,T,U,"E","");g(v,T,U,"Z","");g(v,T,U,"H","");g(v,T,U,"I","");g(v,T,U,"K","");g(v,T,U,"M","");g(v,T,U,"N","");g(v,T,U,"O","");g(v,T,U,"P","");g(v,T,U,"T","");g(v,T,U,"X","");g(v,T,U,"","\\neg",!0);g(v,T,U,"","\\lnot");g(v,T,U,"","\\top");g(v,T,U,"","\\bot");g(v,T,U,"","\\emptyset");g(v,N,U,"","\\varnothing");g(v,T,ce,"","\\alpha",!0);g(v,T,ce,"","\\beta",!0);g(v,T,ce,"","\\gamma",!0);g(v,T,ce,"","\\delta",!0);g(v,T,ce,"","\\epsilon",!0);g(v,T,ce,"","\\zeta",!0);g(v,T,ce,"","\\eta",!0);g(v,T,ce,"","\\theta",!0);g(v,T,ce,"","\\iota",!0);g(v,T,ce,"","\\kappa",!0);g(v,T,ce,"","\\lambda",!0);g(v,T,ce,"","\\mu",!0);g(v,T,ce,"","\\nu",!0);g(v,T,ce,"","\\xi",!0);g(v,T,ce,"","\\omicron",!0);g(v,T,ce,"","\\pi",!0);g(v,T,ce,"","\\rho",!0);g(v,T,ce,"","\\sigma",!0);g(v,T,ce,"","\\tau",!0);g(v,T,ce,"","\\upsilon",!0);g(v,T,ce,"","\\phi",!0);g(v,T,ce,"","\\chi",!0);g(v,T,ce,"","\\psi",!0);g(v,T,ce,"","\\omega",!0);g(v,T,ce,"","\\varepsilon",!0);g(v,T,ce,"","\\vartheta",!0);g(v,T,ce,"","\\varpi",!0);g(v,T,ce,"","\\varrho",!0);g(v,T,ce,"","\\varsigma",!0);g(v,T,ce,"","\\varphi",!0);g(v,T,re,"","*",!0);g(v,T,re,"+","+");g(v,T,re,"","-",!0);g(v,T,re,"","\\cdot",!0);g(v,T,re,"","\\circ",!0);g(v,T,re,"","\\div",!0);g(v,T,re,"","\\pm",!0);g(v,T,re,"","\\times",!0);g(v,T,re,"","\\cap",!0);g(v,T,re,"","\\cup",!0);g(v,T,re,"","\\setminus",!0);g(v,T,re,"","\\land");g(v,T,re,"","\\lor");g(v,T,re,"","\\wedge",!0);g(v,T,re,"","\\vee",!0);g(v,T,U,"","\\surd");g(v,T,Ln,"","\\langle",!0);g(v,T,Ln,"","\\lvert");g(v,T,Ln,"","\\lVert");g(v,T,en,"?","?");g(v,T,en,"!","!");g(v,T,en,"","\\rangle",!0);g(v,T,en,"","\\rvert");g(v,T,en,"","\\rVert");g(v,T,M,"=","=");g(v,T,M,":",":");g(v,T,M,"","\\approx",!0);g(v,T,M,"","\\cong",!0);g(v,T,M,"","\\ge");g(v,T,M,"","\\geq",!0);g(v,T,M,"","\\gets");g(v,T,M,">","\\gt",!0);g(v,T,M,"","\\in",!0);g(v,T,M,"","\\@not");g(v,T,M,"","\\subset",!0);g(v,T,M,"","\\supset",!0);g(v,T,M,"","\\subseteq",!0);g(v,T,M,"","\\supseteq",!0);g(v,N,M,"","\\nsubseteq",!0);g(v,N,M,"","\\nsupseteq",!0);g(v,T,M,"","\\models");g(v,T,M,"","\\leftarrow",!0);g(v,T,M,"","\\le");g(v,T,M,"","\\leq",!0);g(v,T,M,"<","\\lt",!0);g(v,T,M,"","\\rightarrow",!0);g(v,T,M,"","\\to");g(v,N,M,"","\\ngeq",!0);g(v,N,M,"","\\nleq",!0);g(v,T,li,"","\\ ");g(v,T,li,"","\\space");g(v,T,li,"","\\nobreakspace");g(K,T,li,"","\\ ");g(K,T,li,""," ");g(K,T,li,"","\\space");g(K,T,li,"","\\nobreakspace");g(v,T,li,null,"\\nobreak");g(v,T,li,null,"\\allowbreak");g(v,T,_0,",",",");g(v,T,_0,";",";");g(v,N,re,"","\\barwedge",!0);g(v,N,re,"","\\veebar",!0);g(v,T,re,"","\\odot",!0);g(v,T,re,"","\\oplus",!0);g(v,T,re,"","\\otimes",!0);g(v,T,U,"","\\partial",!0);g(v,T,re,"","\\oslash",!0);g(v,N,re,"","\\circledcirc",!0);g(v,N,re,"","\\boxdot",!0);g(v,T,re,"","\\bigtriangleup");g(v,T,re,"","\\bigtriangledown");g(v,T,re,"","\\dagger");g(v,T,re,"","\\diamond");g(v,T,re,"","\\star");g(v,T,re,"","\\triangleleft");g(v,T,re,"","\\triangleright");g(v,T,Ln,"{","\\{");g(K,T,U,"{","\\{");g(K,T,U,"{","\\textbraceleft");g(v,T,en,"}","\\}");g(K,T,U,"}","\\}");g(K,T,U,"}","\\textbraceright");g(v,T,Ln,"{","\\lbrace");g(v,T,en,"}","\\rbrace");g(v,T,Ln,"[","\\lbrack",!0);g(K,T,U,"[","\\lbrack",!0);g(v,T,en,"]","\\rbrack",!0);g(K,T,U,"]","\\rbrack",!0);g(v,T,Ln,"(","\\lparen",!0);g(v,T,en,")","\\rparen",!0);g(K,T,U,"<","\\textless",!0);g(K,T,U,">","\\textgreater",!0);g(v,T,Ln,"","\\lfloor",!0);g(v,T,en,"","\\rfloor",!0);g(v,T,Ln,"","\\lceil",!0);g(v,T,en,"","\\rceil",!0);g(v,T,U,"\\","\\backslash");g(v,T,U,"","|");g(v,T,U,"","\\vert");g(K,T,U,"|","\\textbar",!0);g(v,T,U,"","\\|");g(v,T,U,"","\\Vert");g(K,T,U,"","\\textbardbl");g(K,T,U,"~","\\textasciitilde");g(K,T,U,"\\","\\textbackslash");g(K,T,U,"^","\\textasciicircum");g(v,T,M,"","\\uparrow",!0);g(v,T,M,"","\\Uparrow",!0);g(v,T,M,"","\\downarrow",!0);g(v,T,M,"","\\Downarrow",!0);g(v,T,M,"","\\updownarrow",!0);g(v,T,M,"","\\Updownarrow",!0);g(v,T,Et,"","\\coprod");g(v,T,Et,"","\\bigvee");g(v,T,Et,"","\\bigwedge");g(v,T,Et,"","\\biguplus");g(v,T,Et,"","\\bigcap");g(v,T,Et,"","\\bigcup");g(v,T,Et,"","\\int");g(v,T,Et,"","\\intop");g(v,T,Et,"","\\iint");g(v,T,Et,"","\\iiint");g(v,T,Et,"","\\prod");g(v,T,Et,"","\\sum");g(v,T,Et,"","\\bigotimes");g(v,T,Et,"","\\bigoplus");g(v,T,Et,"","\\bigodot");g(v,T,Et,"","\\oint");g(v,T,Et,"","\\oiint");g(v,T,Et,"","\\oiiint");g(v,T,Et,"","\\bigsqcup");g(v,T,Et,"","\\smallint");g(K,T,no,"","\\textellipsis");g(v,T,no,"","\\mathellipsis");g(K,T,no,"","\\ldots",!0);g(v,T,no,"","\\ldots",!0);g(v,T,no,"","\\@cdots",!0);g(v,T,no,"","\\ddots",!0);g(v,T,U,"","\\varvdots");g(K,T,U,"","\\varvdots");g(v,T,ot,"","\\acute");g(v,T,ot,"","\\grave");g(v,T,ot,"","\\ddot");g(v,T,ot,"~","\\tilde");g(v,T,ot,"","\\bar");g(v,T,ot,"","\\breve");g(v,T,ot,"","\\check");g(v,T,ot,"^","\\hat");g(v,T,ot,"","\\vec");g(v,T,ot,"","\\dot");g(v,T,ot,"","\\mathring");g(v,T,ce,"","\\@imath");g(v,T,ce,"","\\@jmath");g(v,T,U,"","");g(v,T,U,"","");g(K,T,U,"","\\i",!0);g(K,T,U,"","\\j",!0);g(K,T,U,"","\\ss",!0);g(K,T,U,"","\\ae",!0);g(K,T,U,"","\\oe",!0);g(K,T,U,"","\\o",!0);g(K,T,U,"","\\AE",!0);g(K,T,U,"","\\OE",!0);g(K,T,U,"","\\O",!0);g(K,T,ot,"","\\'");g(K,T,ot,"","\\`");g(K,T,ot,"","\\^");g(K,T,ot,"","\\~");g(K,T,ot,"","\\=");g(K,T,ot,"","\\u");g(K,T,ot,"","\\.");g(K,T,ot,"","\\c");g(K,T,ot,"","\\r");g(K,T,ot,"","\\v");g(K,T,ot,"",'\\"');g(K,T,ot,"","\\H");g(K,T,ot,"","\\textcircled");var wb={"--":!0,"---":!0,"``":!0,"''":!0};g(K,T,U,"","--",!0);g(K,T,U,"","\\textendash");g(K,T,U,"","---",!0);g(K,T,U,"","\\textemdash");g(K,T,U,"","`",!0);g(K,T,U,"","\\textquoteleft");g(K,T,U,"","'",!0);g(K,T,U,"","\\textquoteright");g(K,T,U,"","``",!0);g(K,T,U,"","\\textquotedblleft");g(K,T,U,"","''",!0);g(K,T,U,"","\\textquotedblright");g(v,T,U,"","\\degree",!0);g(K,T,U,"","\\degree");g(K,T,U,"","\\textdegree",!0);g(v,T,U,"","\\pounds");g(v,T,U,"","\\mathsterling",!0);g(K,T,U,"","\\pounds");g(K,T,U,"","\\textsterling",!0);g(v,N,U,"","\\maltese");g(K,N,U,"","\\maltese");var Iy='0123456789/@."';for(var Ud=0;Ud<Iy.length;Ud++){var Dy=Iy.charAt(Ud);g(v,T,U,Dy,Dy)}var zy='0123456789!@*()-=+";:?/.,';for(var Od=0;Od<zy.length;Od++){var Uy=zy.charAt(Od);g(K,T,U,Uy,Uy)}var Pc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Ld=0;Ld<Pc.length;Ld++){var du=Pc.charAt(Ld);g(v,T,ce,du,du),g(K,T,U,du,du)}g(v,N,U,"C","");g(K,N,U,"C","");g(v,N,U,"H","");g(K,N,U,"H","");g(v,N,U,"N","");g(K,N,U,"N","");g(v,N,U,"P","");g(K,N,U,"P","");g(v,N,U,"Q","");g(K,N,U,"Q","");g(v,N,U,"R","");g(K,N,U,"R","");g(v,N,U,"Z","");g(K,N,U,"Z","");g(v,T,ce,"h","");g(K,T,ce,"h","");var me="";for(var Kt=0;Kt<Pc.length;Kt++){var dt=Pc.charAt(Kt);me=String.fromCharCode(55349,56320+Kt),g(v,T,ce,dt,me),g(K,T,U,dt,me),me=String.fromCharCode(55349,56372+Kt),g(v,T,ce,dt,me),g(K,T,U,dt,me),me=String.fromCharCode(55349,56424+Kt),g(v,T,ce,dt,me),g(K,T,U,dt,me),me=String.fromCharCode(55349,56580+Kt),g(v,T,ce,dt,me),g(K,T,U,dt,me),me=String.fromCharCode(55349,56684+Kt),g(v,T,ce,dt,me),g(K,T,U,dt,me),me=String.fromCharCode(55349,56736+Kt),g(v,T,ce,dt,me),g(K,T,U,dt,me),me=String.fromCharCode(55349,56788+Kt),g(v,T,ce,dt,me),g(K,T,U,dt,me),me=String.fromCharCode(55349,56840+Kt),g(v,T,ce,dt,me),g(K,T,U,dt,me),me=String.fromCharCode(55349,56944+Kt),g(v,T,ce,dt,me),g(K,T,U,dt,me),Kt<26&&(me=String.fromCharCode(55349,56632+Kt),g(v,T,ce,dt,me),g(K,T,U,dt,me),me=String.fromCharCode(55349,56476+Kt),g(v,T,ce,dt,me),g(K,T,U,dt,me))}me="";g(v,T,ce,"k",me);g(K,T,U,"k",me);for(var sa=0;sa<10;sa++){var mi=sa.toString();me=String.fromCharCode(55349,57294+sa),g(v,T,ce,mi,me),g(K,T,U,mi,me),me=String.fromCharCode(55349,57314+sa),g(v,T,ce,mi,me),g(K,T,U,mi,me),me=String.fromCharCode(55349,57324+sa),g(v,T,ce,mi,me),g(K,T,U,mi,me),me=String.fromCharCode(55349,57334+sa),g(v,T,ce,mi,me),g(K,T,U,mi,me)}var _f="";for(var Pd=0;Pd<_f.length;Pd++){var hu=_f.charAt(Pd);g(v,T,ce,hu,hu),g(K,T,U,hu,hu)}var fu=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Oy=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],Nk=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),a=(r-55296)*1024+(i-56320)+65536,s=n==="math"?0:1;if(119808<=a&&a<120484){var o=Math.floor((a-119808)/26);return[fu[o][2],fu[o][s]]}else if(120782<=a&&a<=120831){var l=Math.floor((a-120782)/10);return[Oy[l][2],Oy[l][s]]}else{if(a===120485||a===120486)return[fu[0][2],fu[0][s]];if(120486<a&&a<120782)return["",""];throw new X("Unsupported character: "+e)}},T0=function(e,n,r){return We[r][e]&&We[r][e].replace&&(e=We[r][e].replace),{value:e,metrics:Sm(e,n,r)}},lr=function(e,n,r,i,a){var s=T0(e,n,r),o=s.metrics;e=s.value;var l;if(o){var u=o.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),l=new Qn(e,o.height,o.depth,u,o.skew,o.width,a)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),l=new Qn(e,0,0,0,0,0,a);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var c=i.getColor();c&&(l.style.color=c)}return l},Rk=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&T0(e,"Main-Bold",n).metrics?lr(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||We[n][e].font==="main"?lr(e,"Main-Regular",n,r,i):lr(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},Mk=function(e,n,r,i,a){return a!=="textord"&&T0(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},Ik=function(e,n,r){var i=e.mode,a=e.text,s=["mord"],o=i==="math"||i==="text"&&n.font,l=o?n.font:n.fontFamily,u="",c="";if(a.charCodeAt(0)===55349&&([u,c]=Nk(a,i)),u.length>0)return lr(a,u,i,n,s.concat(c));if(l){var f,p;if(l==="boldsymbol"){var m=Mk(a,i,n,s,r);f=m.fontName,p=[m.fontClass]}else o?(f=_b[l].fontName,p=[l]):(f=pu(l,n.fontWeight,n.fontShape),p=[l,n.fontWeight,n.fontShape]);if(T0(a,f,i).metrics)return lr(a,f,i,n,s.concat(p));if(wb.hasOwnProperty(a)&&f.slice(0,10)==="Typewriter"){for(var y=[],w=0;w<a.length;w++)y.push(lr(a[w],f,i,n,s.concat(p)));return Sb(y)}}if(r==="mathord")return lr(a,"Math-Italic",i,n,s.concat(["mathnormal"]));if(r==="textord"){var E=We[i][a]&&We[i][a].font;if(E==="ams"){var b=pu("amsrm",n.fontWeight,n.fontShape);return lr(a,b,i,n,s.concat("amsrm",n.fontWeight,n.fontShape))}else if(E==="main"||!E){var S=pu("textrm",n.fontWeight,n.fontShape);return lr(a,S,i,n,s.concat(n.fontWeight,n.fontShape))}else{var _=pu(E,n.fontWeight,n.fontShape);return lr(a,_,i,n,s.concat(_,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},Dk=(t,e)=>{if(ji(t.classes)!==ji(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},zk=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof Qn&&r instanceof Qn&&Dk(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},Tm=function(e){for(var n=0,r=0,i=0,a=0;a<e.children.length;a++){var s=e.children[a];s.height>n&&(n=s.height),s.depth>r&&(r=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},un=function(e,n,r,i){var a=new ql(e,n,r,i);return Tm(a),a},xb=(t,e,n,r)=>new ql(t,e,n,r),Uk=function(e,n,r){var i=un([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=Q(i.height),i.maxFontSize=1,i},Ok=function(e,n,r,i){var a=new _m(e,n,r,i);return Tm(a),a},Sb=function(e){var n=new Bl(e);return Tm(n),n},Lk=function(e,n){return e instanceof Bl?un([],[e],n):e},Pk=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,a=i,s=1;s<n.length;s++){var o=-n[s].shift-a-n[s].elem.depth,l=o-(n[s-1].elem.height+n[s-1].elem.depth);a=a+o,r.push({type:"kern",size:l}),r.push(n[s])}return{children:r,depth:i}}var u;if(e.positionType==="top"){for(var c=e.positionData,f=0;f<e.children.length;f++){var p=e.children[f];c-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}u=c}else if(e.positionType==="bottom")u=-e.positionData;else{var m=e.children[0];if(m.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-m.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-m.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},Bk=function(e,n){for(var{children:r,depth:i}=Pk(e),a=0,s=0;s<r.length;s++){var o=r[s];if(o.type==="elem"){var l=o.elem;a=Math.max(a,l.maxFontSize,l.height)}}a+=2;var u=un(["pstrut"],[]);u.style.height=Q(a);for(var c=[],f=i,p=i,m=i,y=0;y<r.length;y++){var w=r[y];if(w.type==="kern")m+=w.size;else{var E=w.elem,b=w.wrapperClasses||[],S=w.wrapperStyle||{},_=un(b,[u,E],void 0,S);_.style.top=Q(-a-m-E.depth),w.marginLeft&&(_.style.marginLeft=w.marginLeft),w.marginRight&&(_.style.marginRight=w.marginRight),c.push(_),m+=E.height+E.depth}f=Math.min(f,m),p=Math.max(p,m)}var C=un(["vlist"],c);C.style.height=Q(p);var I;if(f<0){var k=un([],[]),D=un(["vlist"],[k]);D.style.height=Q(-f);var B=un(["vlist-s"],[new Qn("")]);I=[un(["vlist-r"],[C,B]),un(["vlist-r"],[D])]}else I=[un(["vlist-r"],[C])];var O=un(["vlist-t"],I);return I.length===2&&O.classes.push("vlist-t2"),O.height=p,O.depth=-f,O},qk=(t,e)=>{var n=un(["mspace"],[],e),r=ct(t,e);return n.style.marginRight=Q(r),n},pu=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var a;return n==="textbf"&&r==="textit"?a="BoldItalic":n==="textbf"?a="Bold":n==="textit"?a="Italic":a="Regular",i+"-"+a},_b={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Tb={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},Hk=function(e,n){var[r,i,a]=Tb[e],s=new Xi(r),o=new ri([s],{width:Q(i),height:Q(a),style:"width:"+Q(i),viewBox:"0 0 "+1e3*i+" "+1e3*a,preserveAspectRatio:"xMinYMin"}),l=xb(["overlay"],[o],n);return l.height=a,l.style.height=Q(a),l.style.width=Q(i),l},L={fontMap:_b,makeSymbol:lr,mathsym:Rk,makeSpan:un,makeSvgSpan:xb,makeLineSpan:Uk,makeAnchor:Ok,makeFragment:Sb,wrapFragment:Lk,makeVList:Bk,makeOrd:Ik,makeGlue:qk,staticSvg:Hk,svgData:Tb,tryCombineChars:zk},lt={number:3,unit:"mu"},oa={number:4,unit:"mu"},Pr={number:5,unit:"mu"},Fk={mord:{mop:lt,mbin:oa,mrel:Pr,minner:lt},mop:{mord:lt,mop:lt,mrel:Pr,minner:lt},mbin:{mord:oa,mop:oa,mopen:oa,minner:oa},mrel:{mord:Pr,mop:Pr,mopen:Pr,minner:Pr},mopen:{},mclose:{mop:lt,mbin:oa,mrel:Pr,minner:lt},mpunct:{mord:lt,mop:lt,mrel:Pr,mopen:lt,mclose:lt,mpunct:lt,minner:lt},minner:{mord:lt,mop:lt,mbin:oa,mrel:Pr,mopen:lt,mpunct:lt,minner:lt}},Gk={mord:{mop:lt},mop:{mord:lt,mop:lt},mbin:{},mrel:{},mopen:{},mclose:{mop:lt},mpunct:{},minner:{mop:lt}},Eb={},Bc={},qc={};function ne(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,o={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)Eb[n[l]]=o;e&&(a&&(Bc[e]=a),s&&(qc[e]=s))}function Oa(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;ne({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var Hc=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},yt=function(e){return e.type==="ordgroup"?e.body:[e]},ii=L.makeSpan,Vk=["leftmost","mbin","mopen","mrel","mop","mpunct"],$k=["rightmost","mrel","mclose","mpunct"],Yk={display:de.DISPLAY,text:de.TEXT,script:de.SCRIPT,scriptscript:de.SCRIPTSCRIPT},Kk={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},Nt=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var a=[],s=0;s<e.length;s++){var o=Ie(e[s],n);if(o instanceof Bl){var l=o.children;a.push(...l)}else a.push(o)}if(L.tryCombineChars(a),!r)return a;var u=n;if(e.length===1){var c=e[0];c.type==="sizing"?u=n.havingSize(c.size):c.type==="styling"&&(u=n.havingStyle(Yk[c.style]))}var f=ii([i[0]||"leftmost"],[],n),p=ii([i[1]||"rightmost"],[],n),m=r==="root";return Ly(a,(y,w)=>{var E=w.classes[0],b=y.classes[0];E==="mbin"&&$k.includes(b)?w.classes[0]="mord":b==="mbin"&&Vk.includes(E)&&(y.classes[0]="mord")},{node:f},p,m),Ly(a,(y,w)=>{var E=Tf(w),b=Tf(y),S=E&&b?y.hasClass("mtight")?Gk[E][b]:Fk[E][b]:null;if(S)return L.makeGlue(S,u)},{node:f},p,m),a},Ly=function t(e,n,r,i,a){i&&e.push(i);for(var s=0;s<e.length;s++){var o=e[s],l=Ab(o);if(l){t(l.children,n,r,null,a);continue}var u=!o.hasClass("mspace");if(u){var c=n(o,r.node);c&&(r.insertAfter?r.insertAfter(c):(e.unshift(c),s++))}u?r.node=o:a&&o.hasClass("newline")&&(r.node=ii(["leftmost"])),r.insertAfter=(f=>p=>{e.splice(f+1,0,p),s++})(s)}i&&e.pop()},Ab=function(e){return e instanceof Bl||e instanceof _m||e instanceof ql&&e.hasClass("enclosing")?e:null},Jk=function t(e,n){var r=Ab(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},Tf=function(e,n){return e?(n&&(e=Jk(e,n)),Kk[e.classes[0]]||null):null},yl=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return ii(n.concat(r))},Ie=function(e,n,r){if(!e)return ii();if(Bc[e.type]){var i=Bc[e.type](e,n);if(r&&n.size!==r.size){i=ii(n.sizingClasses(r),[i],n);var a=n.sizeMultiplier/r.sizeMultiplier;i.height*=a,i.depth*=a}return i}else throw new X("Got group of unknown type: '"+e.type+"'")};function mu(t,e){var n=ii(["base"],t,e),r=ii(["strut"]);return r.style.height=Q(n.height+n.depth),n.depth&&(r.style.verticalAlign=Q(-n.depth)),n.children.unshift(r),n}function Ef(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=Nt(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var a=[],s=[],o=0;o<r.length;o++)if(s.push(r[o]),r[o].hasClass("mbin")||r[o].hasClass("mrel")||r[o].hasClass("allowbreak")){for(var l=!1;o<r.length-1&&r[o+1].hasClass("mspace")&&!r[o+1].hasClass("newline");)o++,s.push(r[o]),r[o].hasClass("nobreak")&&(l=!0);l||(a.push(mu(s,e)),s=[])}else r[o].hasClass("newline")&&(s.pop(),s.length>0&&(a.push(mu(s,e)),s=[]),a.push(r[o]));s.length>0&&a.push(mu(s,e));var u;n?(u=mu(Nt(n,e,!0)),u.classes=["tag"],a.push(u)):i&&a.push(i);var c=ii(["katex-html"],a);if(c.setAttribute("aria-hidden","true"),u){var f=u.children[0];f.style.height=Q(c.height+c.depth),c.depth&&(f.style.verticalAlign=Q(-c.depth))}return c}function Cb(t){return new Bl(t)}class En{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=ji(this.classes));for(var r=0;r<this.children.length;r++)if(this.children[r]instanceof _r&&this.children[r+1]instanceof _r){for(var i=this.children[r].toText()+this.children[++r].toText();this.children[r+1]instanceof _r;)i+=this.children[++r].toText();e.appendChild(new _r(i).toNode())}else e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=De.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+De.escape(ji(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class _r{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return De.escape(this.toText())}toText(){return this.text}}class jk{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="":e>=.1666&&e<=.1667?this.character="":e>=.2222&&e<=.2223?this.character="":e>=.2777&&e<=.2778?this.character="":e>=-.05556&&e<=-.05555?this.character="":e>=-.1667&&e<=-.1666?this.character="":e>=-.2223&&e<=-.2222?this.character="":e>=-.2778&&e<=-.2777?this.character="":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",Q(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+Q(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var j={MathNode:En,TextNode:_r,SpaceNode:jk,newDocumentFragment:Cb},Zn=function(e,n,r){return We[n][e]&&We[n][e].replace&&e.charCodeAt(0)!==55349&&!(wb.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=We[n][e].replace),new j.TextNode(e)},Em=function(e){return e.length===1?e[0]:new j.MathNode("mrow",e)},Am=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathsfit")return"sans-serif-italic";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var a=e.text;if(["\\imath","\\jmath"].includes(a))return null;We[i][a]&&We[i][a].replace&&(a=We[i][a].replace);var s=L.fontMap[r].fontName;return Sm(a,s,i)?L.fontMap[r].variant:null};function Bd(t){if(!t)return!1;if(t.type==="mi"&&t.children.length===1){var e=t.children[0];return e instanceof _r&&e.text==="."}else if(t.type==="mo"&&t.children.length===1&&t.getAttribute("separator")==="true"&&t.getAttribute("lspace")==="0em"&&t.getAttribute("rspace")==="0em"){var n=t.children[0];return n instanceof _r&&n.text===","}else return!1}var yn=function(e,n,r){if(e.length===1){var i=Ke(e[0],n);return r&&i instanceof En&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var a=[],s,o=0;o<e.length;o++){var l=Ke(e[o],n);if(l instanceof En&&s instanceof En){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(Bd(l)&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mn"&&Bd(s))l.children=[...s.children,...l.children],a.pop();else if((l.type==="msup"||l.type==="msub")&&l.children.length>=1&&(s.type==="mn"||Bd(s))){var u=l.children[0];u instanceof En&&u.type==="mn"&&(u.children=[...s.children,...u.children],a.pop())}else if(s.type==="mi"&&s.children.length===1){var c=s.children[0];if(c instanceof _r&&c.text===""&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var f=l.children[0];f instanceof _r&&f.text.length>0&&(f.text=f.text.slice(0,1)+""+f.text.slice(1),a.pop())}}}a.push(l),s=l}return a},Wi=function(e,n,r){return Em(yn(e,n,r))},Ke=function(e,n){if(!e)return new j.MathNode("mrow");if(qc[e.type]){var r=qc[e.type](e,n);return r}else throw new X("Got group of unknown type: '"+e.type+"'")};function Py(t,e,n,r,i){var a=yn(t,n),s;a.length===1&&a[0]instanceof En&&["mrow","mtable"].includes(a[0].type)?s=a[0]:s=new j.MathNode("mrow",a);var o=new j.MathNode("annotation",[new j.TextNode(e)]);o.setAttribute("encoding","application/x-tex");var l=new j.MathNode("semantics",[s,o]),u=new j.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var c=i?"katex":"katex-mathml";return L.makeSpan([c],[u])}var kb=function(e){return new Fr({style:e.displayMode?de.DISPLAY:de.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},Nb=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=L.makeSpan(r,[e])}return e},Xk=function(e,n,r){var i=kb(r),a;if(r.output==="mathml")return Py(e,n,i,r.displayMode,!0);if(r.output==="html"){var s=Ef(e,i);a=L.makeSpan(["katex"],[s])}else{var o=Py(e,n,i,r.displayMode,!1),l=Ef(e,i);a=L.makeSpan(["katex"],[o,l])}return Nb(a,r)},Wk=function(e,n,r){var i=kb(r),a=Ef(e,i),s=L.makeSpan(["katex"],[a]);return Nb(s,r)},Qk={widehat:"^",widecheck:"",widetilde:"~",utilde:"~",overleftarrow:"",underleftarrow:"",xleftarrow:"",overrightarrow:"",underrightarrow:"",xrightarrow:"",underbrace:"",overbrace:"",overgroup:"",undergroup:"",overleftrightarrow:"",underleftrightarrow:"",xleftrightarrow:"",Overrightarrow:"",xRightarrow:"",overleftharpoon:"",xleftharpoonup:"",overrightharpoon:"",xrightharpoonup:"",xLeftarrow:"",xLeftrightarrow:"",xhookleftarrow:"",xhookrightarrow:"",xmapsto:"",xrightharpoondown:"",xleftharpoondown:"",xrightleftharpoons:"",xleftrightharpoons:"",xtwoheadleftarrow:"",xtwoheadrightarrow:"",xlongequal:"=",xtofrom:"",xrightleftarrows:"",xrightequilibrium:"",xleftequilibrium:"","\\cdrightarrow":"","\\cdleftarrow":"","\\cdlongequal":"="},Zk=function(e){var n=new j.MathNode("mo",[new j.TextNode(Qk[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},eN={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},tN=function(e){return e.type==="ordgroup"?e.body.length:1},nN=function(e,n){function r(){var o=4e5,l=e.label.slice(1);if(["widehat","widecheck","widetilde","utilde"].includes(l)){var u=e,c=tN(u.base),f,p,m;if(c>5)l==="widehat"||l==="widecheck"?(f=420,o=2364,m=.42,p=l+"4"):(f=312,o=2340,m=.34,p="tilde4");else{var y=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(o=[0,1062,2364,2364,2364][y],f=[0,239,300,360,420][y],m=[0,.24,.3,.3,.36,.42][y],p=l+y):(o=[0,600,1033,2339,2340][y],f=[0,260,286,306,312][y],m=[0,.26,.286,.3,.306,.34][y],p="tilde"+y)}var w=new Xi(p),E=new ri([w],{width:"100%",height:Q(m),viewBox:"0 0 "+o+" "+f,preserveAspectRatio:"none"});return{span:L.makeSvgSpan([],[E],n),minWidth:0,height:m}}else{var b=[],S=eN[l],[_,C,I]=S,k=I/1e3,D=_.length,B,O;if(D===1){var F=S[3];B=["hide-tail"],O=[F]}else if(D===2)B=["halfarrow-left","halfarrow-right"],O=["xMinYMin","xMaxYMin"];else if(D===3)B=["brace-left","brace-center","brace-right"],O=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+D+" children.");for(var Y=0;Y<D;Y++){var J=new Xi(_[Y]),ie=new ri([J],{width:"400em",height:Q(k),viewBox:"0 0 "+o+" "+I,preserveAspectRatio:O[Y]+" slice"}),oe=L.makeSvgSpan([B[Y]],[ie],n);if(D===1)return{span:oe,minWidth:C,height:k};oe.style.height=Q(k),b.push(oe)}return{span:L.makeSpan(["stretchy"],b,n),minWidth:C,height:k}}}var{span:i,minWidth:a,height:s}=r();return i.height=s,i.style.height=Q(s),a>0&&(i.style.minWidth=Q(a)),i},rN=function(e,n,r,i,a){var s,o=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(s=L.makeSpan(["stretchy",n],[],a),n==="fbox"){var l=a.color&&a.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new Sf({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new Sf({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new ri(u,{width:"100%",height:Q(o)});s=L.makeSvgSpan([],[c],a)}return s.height=o,s.style.height=Q(o),s},ai={encloseSpan:rN,mathMLnode:Zk,svgSpan:nN};function Te(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function Cm(t){var e=E0(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function E0(t){return t&&(t.type==="atom"||kk.hasOwnProperty(t.type))?t:null}var km=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=Te(t.base,"accent"),n=r.base,t.base=n,i=Ak(Ie(t,e)),t.base=r):(r=Te(t,"accent"),n=r.base);var a=Ie(n,e.havingCrampedStyle()),s=r.isShifty&&De.isCharacterBox(n),o=0;if(s){var l=De.getBaseElem(n),u=Ie(l,e.havingCrampedStyle());o=My(u).skew}var c=r.label==="\\c",f=c?a.height+a.depth:Math.min(a.height,e.fontMetrics().xHeight),p;if(r.isStretchy)p=ai.svgSpan(r,e),p=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"elem",elem:p,wrapperClasses:["svg-align"],wrapperStyle:o>0?{width:"calc(100% - "+Q(2*o)+")",marginLeft:Q(2*o)}:void 0}]},e);else{var m,y;r.label==="\\vec"?(m=L.staticSvg("vec",e),y=L.svgData.vec[1]):(m=L.makeOrd({mode:r.mode,text:r.label},e,"textord"),m=My(m),m.italic=0,y=m.width,c&&(f+=m.depth)),p=L.makeSpan(["accent-body"],[m]);var w=r.label==="\\textcircled";w&&(p.classes.push("accent-full"),f=a.height);var E=o;w||(E-=y/2),p.style.left=Q(E),r.label==="\\textcircled"&&(p.style.top=".2em"),p=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:-f},{type:"elem",elem:p}]},e)}var b=L.makeSpan(["mord","accent"],[p],e);return i?(i.children[0]=b,i.height=Math.max(b.height,i.height),i.classes[0]="mord",i):b},Rb=(t,e)=>{var n=t.isStretchy?ai.mathMLnode(t.label):new j.MathNode("mo",[Zn(t.label,t.mode)]),r=new j.MathNode("mover",[Ke(t.base,e),n]);return r.setAttribute("accent","true"),r},iN=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));ne({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=Hc(e[0]),r=!iN.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:km,mathmlBuilder:Rb});ne({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:km,mathmlBuilder:Rb});ne({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Ie(t.base,e),r=ai.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,a=L.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return L.makeSpan(["mord","accentunder"],[a],e)},mathmlBuilder:(t,e)=>{var n=ai.mathMLnode(t.label),r=new j.MathNode("munder",[Ke(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var gu=t=>{var e=new j.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};ne({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=L.wrapFragment(Ie(t.body,r,e),e),a=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(a+"-arrow-pad");var s;t.below&&(r=e.havingStyle(n.sub()),s=L.wrapFragment(Ie(t.below,r,e),e),s.classes.push(a+"-arrow-pad"));var o=ai.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*o.height,u=-e.fontMetrics().axisHeight-.5*o.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var c;if(s){var f=-e.fontMetrics().axisHeight+s.height+.5*o.height+.111;c=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l},{type:"elem",elem:s,shift:f}]},e)}else c=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:o,shift:l}]},e);return c.children[0].children[0].children[1].classes.push("svg-align"),L.makeSpan(["mrel","x-arrow"],[c],e)},mathmlBuilder(t,e){var n=ai.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=gu(Ke(t.body,e));if(t.below){var a=gu(Ke(t.below,e));r=new j.MathNode("munderover",[n,a,i])}else r=new j.MathNode("mover",[n,i])}else if(t.below){var s=gu(Ke(t.below,e));r=new j.MathNode("munder",[n,s])}else r=gu(),r=new j.MathNode("mover",[n,r]);return r}});var aN=L.makeSpan;function Mb(t,e){var n=Nt(t.body,e,!0);return aN([t.mclass],n,e)}function Ib(t,e){var n,r=yn(t.body,e);return t.mclass==="minner"?n=new j.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new j.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new j.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}ne({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:yt(i),isCharacterBox:De.isCharacterBox(i)}},htmlBuilder:Mb,mathmlBuilder:Ib});var A0=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};ne({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:A0(e[0]),body:yt(e[1]),isCharacterBox:De.isCharacterBox(e[1])}}});ne({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],a=e[0],s;r!=="\\stackrel"?s=A0(i):s="mrel";var o={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:yt(i)},l={type:"supsub",mode:a.mode,base:o,sup:r==="\\underset"?null:a,sub:r==="\\underset"?a:null};return{type:"mclass",mode:n.mode,mclass:s,body:[l],isCharacterBox:De.isCharacterBox(l)}},htmlBuilder:Mb,mathmlBuilder:Ib});ne({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:A0(e[0]),body:yt(e[0])}},htmlBuilder(t,e){var n=Nt(t.body,e,!0),r=L.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=yn(t.body,e),r=new j.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var sN={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},By=()=>({type:"styling",body:[],mode:"math",style:"display"}),qy=t=>t.type==="textord"&&t.text==="@",oN=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function lN(t,e,n){var r=sN[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),a={type:"atom",text:r,mode:"math",family:"rel"},s=n.callFunction("\\Big",[a],[]),o=n.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,s,o]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function uN(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new X("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],a=0;a<e.length;a++){for(var s=e[a],o=By(),l=0;l<s.length;l++)if(!qy(s[l]))o.body.push(s[l]);else{r.push(o),l+=1;var u=Cm(s[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var f=0;f<2;f++){for(var p=!0,m=l+1;m<s.length;m++){if(oN(s[m],u)){p=!1,l=m;break}if(qy(s[m]))throw new X("Missing a "+u+" character to complete a CD arrow.",s[m]);c[f].body.push(s[m])}if(p)throw new X("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new X('Expected one of "<>AV=|." after @',s[l]);var y=lN(u,c,t),w={type:"styling",body:[y],mode:"math",style:"display"};r.push(w),o=By()}a%2===0?r.push(o):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var E=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:E,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}ne({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=L.wrapFragment(Ie(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=Q(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new j.MathNode("mrow",[Ke(t.label,e)]);return n=new j.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new j.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});ne({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=L.wrapFragment(Ie(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new j.MathNode("mrow",[Ke(t.fragment,e)])}});ne({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=Te(e[0],"ordgroup"),i=r.body,a="",s=0;s<i.length;s++){var o=Te(i[s],"textord");a+=o.text}var l=parseInt(a),u;if(isNaN(l))throw new X("\\@char has non-numeric argument "+a);if(l<0||l>=1114111)throw new X("\\@char with invalid code point "+a);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var Db=(t,e)=>{var n=Nt(t.body,e.withColor(t.color),!1);return L.makeFragment(n)},zb=(t,e)=>{var n=yn(t.body,e.withColor(t.color)),r=new j.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};ne({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=Te(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:yt(i)}},htmlBuilder:Db,mathmlBuilder:zb});ne({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=Te(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var a=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:a}},htmlBuilder:Db,mathmlBuilder:zb});ne({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=r.gullet.future().text==="["?r.parseSizeGroup(!0):null,a=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:a,size:i&&Te(i,"size").value}},htmlBuilder(t,e){var n=L.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=Q(ct(t.size,e)))),n},mathmlBuilder(t,e){var n=new j.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",Q(ct(t.size,e)))),n}});var Af={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Ub=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new X("Expected a control sequence",t);return e},cN=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},Ob=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};ne({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(Af[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=Af[r.text]),Te(e.parseFunction(),"internal");throw new X("Invalid token after macro prefix",r)}});ne({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new X("Expected a control sequence",r);for(var a=0,s,o=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),o[a].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new X('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==a+1)throw new X('Argument number "'+r.text+'" out of order');a++,o.push([])}else{if(r.text==="EOF")throw new X("Expected a macro definition");o[a].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return s&&l.unshift(s),(n==="\\edef"||n==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:a,delimiters:o},n===Af[n]),{type:"internal",mode:e.mode}}});ne({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=Ub(e.gullet.popToken());e.gullet.consumeSpaces();var i=cN(e);return Ob(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});ne({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=Ub(e.gullet.popToken()),i=e.gullet.popToken(),a=e.gullet.popToken();return Ob(e,r,a,n==="\\\\globalfuture"),e.gullet.pushToken(a),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Co=function(e,n,r){var i=We.math[e]&&We.math[e].replace,a=Sm(i||e,n,r);if(!a)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return a},Nm=function(e,n,r,i){var a=r.havingBaseStyle(n),s=L.makeSpan(i.concat(a.sizingClasses(r)),[e],r),o=a.sizeMultiplier/r.sizeMultiplier;return s.height*=o,s.depth*=o,s.maxFontSize=a.sizeMultiplier,s},Lb=function(e,n,r){var i=n.havingBaseStyle(r),a=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=Q(a),e.height-=a,e.depth+=a},dN=function(e,n,r,i,a,s){var o=L.makeSymbol(e,"Main-Regular",a,i),l=Nm(o,n,i,s);return r&&Lb(l,i,n),l},hN=function(e,n,r,i){return L.makeSymbol(e,"Size"+n+"-Regular",r,i)},Pb=function(e,n,r,i,a,s){var o=hN(e,n,a,i),l=Nm(L.makeSpan(["delimsizing","size"+n],[o],i),de.TEXT,i,s);return r&&Lb(l,i,de.TEXT),l},qd=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var a=L.makeSpan(["delimsizinginner",i],[L.makeSpan([],[L.makeSymbol(e,n,r)])]);return{type:"elem",elem:a}},Hd=function(e,n,r){var i=Sr["Size4-Regular"][e.charCodeAt(0)]?Sr["Size4-Regular"][e.charCodeAt(0)][4]:Sr["Size1-Regular"][e.charCodeAt(0)][4],a=new Xi("inner",yk(e,Math.round(1e3*n))),s=new ri([a],{width:Q(i),height:Q(n),style:"width:"+Q(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),o=L.makeSvgSpan([],[s],r);return o.height=n,o.style.height=Q(n),o.style.width=Q(i),{type:"elem",elem:o}},Cf=.008,yu={type:"kern",size:-1*Cf},fN=["|","\\lvert","\\rvert","\\vert"],pN=["\\|","\\lVert","\\rVert","\\Vert"],Bb=function(e,n,r,i,a,s){var o,l,u,c,f="",p=0;o=u=c=e,l=null;var m="Size1-Regular";e==="\\uparrow"?u=c="":e==="\\Uparrow"?u=c="":e==="\\downarrow"?o=u="":e==="\\Downarrow"?o=u="":e==="\\updownarrow"?(o="\\uparrow",u="",c="\\downarrow"):e==="\\Updownarrow"?(o="\\Uparrow",u="",c="\\Downarrow"):fN.includes(e)?(u="",f="vert",p=333):pN.includes(e)?(u="",f="doublevert",p=556):e==="["||e==="\\lbrack"?(o="",u="",c="",m="Size4-Regular",f="lbrack",p=667):e==="]"||e==="\\rbrack"?(o="",u="",c="",m="Size4-Regular",f="rbrack",p=667):e==="\\lfloor"||e===""?(u=o="",c="",m="Size4-Regular",f="lfloor",p=667):e==="\\lceil"||e===""?(o="",u=c="",m="Size4-Regular",f="lceil",p=667):e==="\\rfloor"||e===""?(u=o="",c="",m="Size4-Regular",f="rfloor",p=667):e==="\\rceil"||e===""?(o="",u=c="",m="Size4-Regular",f="rceil",p=667):e==="("||e==="\\lparen"?(o="",u="",c="",m="Size4-Regular",f="lparen",p=875):e===")"||e==="\\rparen"?(o="",u="",c="",m="Size4-Regular",f="rparen",p=875):e==="\\{"||e==="\\lbrace"?(o="",l="",c="",u="",m="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(o="",l="",c="",u="",m="Size4-Regular"):e==="\\lgroup"||e===""?(o="",c="",u="",m="Size4-Regular"):e==="\\rgroup"||e===""?(o="",c="",u="",m="Size4-Regular"):e==="\\lmoustache"||e===""?(o="",c="",u="",m="Size4-Regular"):(e==="\\rmoustache"||e==="")&&(o="",c="",u="",m="Size4-Regular");var y=Co(o,m,a),w=y.height+y.depth,E=Co(u,m,a),b=E.height+E.depth,S=Co(c,m,a),_=S.height+S.depth,C=0,I=1;if(l!==null){var k=Co(l,m,a);C=k.height+k.depth,I=2}var D=w+_+C,B=Math.max(0,Math.ceil((n-D)/(I*b))),O=D+B*I*b,F=i.fontMetrics().axisHeight;r&&(F*=i.sizeMultiplier);var Y=O/2-F,J=[];if(f.length>0){var ie=O-w-_,oe=Math.round(O*1e3),H=vk(f,Math.round(ie*1e3)),q=new Xi(f,H),V=(p/1e3).toFixed(3)+"em",P=(oe/1e3).toFixed(3)+"em",le=new ri([q],{width:V,height:P,viewBox:"0 0 "+p+" "+oe}),R=L.makeSvgSpan([],[le],i);R.height=oe/1e3,R.style.width=V,R.style.height=P,J.push({type:"elem",elem:R})}else{if(J.push(qd(c,m,a)),J.push(yu),l===null){var Me=O-w-_+2*Cf;J.push(Hd(u,Me,i))}else{var Re=(O-w-_-C)/2+2*Cf;J.push(Hd(u,Re,i)),J.push(yu),J.push(qd(l,m,a)),J.push(yu),J.push(Hd(u,Re,i))}J.push(yu),J.push(qd(o,m,a))}var z=i.havingBaseStyle(de.TEXT),Fe=L.makeVList({positionType:"bottom",positionData:Y,children:J},z);return Nm(L.makeSpan(["delimsizing","mult"],[Fe],z),de.TEXT,i,s)},Fd=80,Gd=.08,Vd=function(e,n,r,i,a){var s=gk(e,i,r),o=new Xi(e,s),l=new ri([o],{width:"400em",height:Q(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return L.makeSvgSpan(["hide-tail"],[l],a)},mN=function(e,n){var r=n.havingBaseSizing(),i=Gb("\\surd",e*r.sizeMultiplier,Fb,r),a=r.sizeMultiplier,s=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),o,l=0,u=0,c=0,f;return i.type==="small"?(c=1e3+1e3*s+Fd,e<1?a=1:e<1.4&&(a=.7),l=(1+s+Gd)/a,u=(1+s)/a,o=Vd("sqrtMain",l,c,s,n),o.style.minWidth="0.853em",f=.833/a):i.type==="large"?(c=(1e3+Fd)*Jo[i.size],u=(Jo[i.size]+s)/a,l=(Jo[i.size]+s+Gd)/a,o=Vd("sqrtSize"+i.size,l,c,s,n),o.style.minWidth="1.02em",f=1/a):(l=e+s+Gd,u=e+s,c=Math.floor(1e3*e+s)+Fd,o=Vd("sqrtTall",l,c,s,n),o.style.minWidth="0.742em",f=1.056),o.height=u,o.style.height=Q(l),{span:o,advanceWidth:f,ruleWidth:(n.fontMetrics().sqrtRuleThickness+s)*a}},qb=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","\\surd"],gN=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","",""],Hb=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Jo=[0,1.2,1.8,2.4,3],yN=function(e,n,r,i,a){if(e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle"),qb.includes(e)||Hb.includes(e))return Pb(e,n,!1,r,i,a);if(gN.includes(e))return Bb(e,Jo[n],!1,r,i,a);throw new X("Illegal delimiter: '"+e+"'")},vN=[{type:"small",style:de.SCRIPTSCRIPT},{type:"small",style:de.SCRIPT},{type:"small",style:de.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],bN=[{type:"small",style:de.SCRIPTSCRIPT},{type:"small",style:de.SCRIPT},{type:"small",style:de.TEXT},{type:"stack"}],Fb=[{type:"small",style:de.SCRIPTSCRIPT},{type:"small",style:de.SCRIPT},{type:"small",style:de.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],wN=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},Gb=function(e,n,r,i){for(var a=Math.min(2,3-i.style.size),s=a;s<r.length&&r[s].type!=="stack";s++){var o=Co(e,wN(r[s]),"math"),l=o.height+o.depth;if(r[s].type==="small"){var u=i.havingBaseStyle(r[s].style);l*=u.sizeMultiplier}if(l>n)return r[s]}return r[r.length-1]},Vb=function(e,n,r,i,a,s){e==="<"||e==="\\lt"||e===""?e="\\langle":(e===">"||e==="\\gt"||e==="")&&(e="\\rangle");var o;Hb.includes(e)?o=vN:qb.includes(e)?o=Fb:o=bN;var l=Gb(e,n,o,i);return l.type==="small"?dN(e,l.style,r,i,a,s):l.type==="large"?Pb(e,l.size,r,i,a,s):Bb(e,n,r,i,a,s)},xN=function(e,n,r,i,a,s){var o=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,c=Math.max(n-o,r+o),f=Math.max(c/500*l,2*c-u);return Vb(e,f,!0,i,a,s)},Wr={sqrtImage:mN,sizedDelim:yN,sizeToMaxHeight:Jo,customSizedDelim:Vb,leftRightDelim:xN},Hy={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},SN=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","","","\\lceil","\\rceil","","","<",">","\\langle","","\\rangle","","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","","","\\lmoustache","\\rmoustache","","","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function C0(t,e){var n=E0(t);if(n&&SN.includes(n.text))return n;throw n?new X("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new X("Invalid delimiter type '"+t.type+"'",t)}ne({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=C0(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:Hy[t.funcName].size,mclass:Hy[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?L.makeSpan([t.mclass]):Wr.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Zn(t.delim,t.mode));var n=new j.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=Q(Wr.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function Fy(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}ne({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new X("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:C0(e[0],t).text,color:n}}});ne({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=C0(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var a=Te(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:a.delim,rightColor:a.color}},htmlBuilder:(t,e)=>{Fy(t);for(var n=Nt(t.body,e,!0,["mopen","mclose"]),r=0,i=0,a=!1,s=0;s<n.length;s++)n[s].isMiddle?a=!0:(r=Math.max(n[s].height,r),i=Math.max(n[s].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var o;if(t.left==="."?o=yl(e,["mopen"]):o=Wr.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(o),a)for(var l=1;l<n.length;l++){var u=n[l],c=u.isMiddle;c&&(n[l]=Wr.leftRightDelim(c.delim,r,i,c.options,t.mode,[]))}var f;if(t.right===".")f=yl(e,["mclose"]);else{var p=t.rightColor?e.withColor(t.rightColor):e;f=Wr.leftRightDelim(t.right,r,i,p,t.mode,["mclose"])}return n.push(f),L.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{Fy(t);var n=yn(t.body,e);if(t.left!=="."){var r=new j.MathNode("mo",[Zn(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new j.MathNode("mo",[Zn(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return Em(n)}});ne({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=C0(e[0],t);if(!t.parser.leftrightDepth)throw new X("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=yl(e,[]);else{n=Wr.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?Zn("|","text"):Zn(t.delim,t.mode),r=new j.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var Rm=(t,e)=>{var n=L.wrapFragment(Ie(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,a,s=0,o=De.isCharacterBox(t.body);if(r==="sout")a=L.makeSpan(["stretchy","sout"]),a.height=e.fontMetrics().defaultRuleThickness/i,s=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=ct({number:.6,unit:"pt"},e),u=ct({number:.35,unit:"ex"},e),c=e.havingBaseSizing();i=i/c.sizeMultiplier;var f=n.height+n.depth+l+u;n.style.paddingLeft=Q(f/2+l);var p=Math.floor(1e3*f*i),m=pk(p),y=new ri([new Xi("phase",m)],{width:"400em",height:Q(p/1e3),viewBox:"0 0 400000 "+p,preserveAspectRatio:"xMinYMin slice"});a=L.makeSvgSpan(["hide-tail"],[y],e),a.style.height=Q(f),s=n.depth+l+u}else{/cancel/.test(r)?o||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var w=0,E=0,b=0;/box/.test(r)?(b=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),w=e.fontMetrics().fboxsep+(r==="colorbox"?0:b),E=w):r==="angl"?(b=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),w=4*b,E=Math.max(0,.25-n.depth)):(w=o?.2:0,E=w),a=ai.encloseSpan(n,r,w,E,e),/fbox|boxed|fcolorbox/.test(r)?(a.style.borderStyle="solid",a.style.borderWidth=Q(b)):r==="angl"&&b!==.049&&(a.style.borderTopWidth=Q(b),a.style.borderRightWidth=Q(b)),s=n.depth+E,t.backgroundColor&&(a.style.backgroundColor=t.backgroundColor,t.borderColor&&(a.style.borderColor=t.borderColor))}var S;if(t.backgroundColor)S=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:a,shift:s},{type:"elem",elem:n,shift:0}]},e);else{var _=/cancel|phase/.test(r)?["svg-align"]:[];S=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:a,shift:s,wrapperClasses:_}]},e)}return/cancel/.test(r)&&(S.height=n.height,S.depth=n.depth),/cancel/.test(r)&&!o?L.makeSpan(["mord","cancel-lap"],[S],e):L.makeSpan(["mord"],[S],e)},Mm=(t,e)=>{var n=0,r=new j.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[Ke(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};ne({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,a=Te(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:a,body:s}},htmlBuilder:Rm,mathmlBuilder:Mm});ne({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,a=Te(e[0],"color-token").color,s=Te(e[1],"color-token").color,o=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,borderColor:a,body:o}},htmlBuilder:Rm,mathmlBuilder:Mm});ne({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});ne({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:Rm,mathmlBuilder:Mm});ne({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var $b={};function kr(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:a,mathmlBuilder:s}=t,o={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)$b[n[l]]=o;a&&(Bc[e]=a),s&&(qc[e]=s)}var Yb={};function A(t,e){Yb[t]=e}function Gy(t){var e=[];t.consumeSpaces();var n=t.fetch().text;for(n==="\\relax"&&(t.consume(),t.consumeSpaces(),n=t.fetch().text);n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var k0=t=>{var e=t.parser.settings;if(!e.displayMode)throw new X("{"+t.envName+"} can be used only in display mode.")};function Im(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function ta(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:a,arraystretch:s,colSeparationType:o,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:f,leqno:p}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!s){var m=t.gullet.expandMacroAsText("\\arraystretch");if(m==null)s=1;else if(s=parseFloat(m),!s||s<0)throw new X("Invalid \\arraystretch: "+m)}t.gullet.beginGroup();var y=[],w=[y],E=[],b=[],S=l!=null?[]:void 0;function _(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function C(){S&&(t.gullet.macros.get("\\df@tag")?(S.push(t.subparse([new zn("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):S.push(!!l&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(_(),b.push(Gy(t));;){var I=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),I={type:"ordgroup",mode:t.mode,body:I},n&&(I={type:"styling",mode:t.mode,style:n,body:[I]}),y.push(I);var k=t.fetch().text;if(k==="&"){if(f&&y.length===f){if(u||o)throw new X("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(k==="\\end"){C(),y.length===1&&I.type==="styling"&&I.body[0].body.length===0&&(w.length>1||!c)&&w.pop(),b.length<w.length+1&&b.push([]);break}else if(k==="\\\\"){t.consume();var D=void 0;t.gullet.future().text!==" "&&(D=t.parseSizeGroup(!0)),E.push(D?D.value:null),C(),b.push(Gy(t)),y=[],w.push(y),_()}else throw new X("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:s,body:w,cols:a,rowGaps:E,hskipBeforeAndAfter:r,hLinesBeforeRow:b,colSeparationType:o,tags:S,leqno:p}}function Dm(t){return t.slice(0,1)==="d"?"display":"text"}var Nr=function(e,n){var r,i,a=e.body.length,s=e.hLinesBeforeRow,o=0,l=new Array(a),u=[],c=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),f=1/n.fontMetrics().ptPerEm,p=5*f;if(e.colSeparationType&&e.colSeparationType==="small"){var m=n.havingStyle(de.SCRIPT).sizeMultiplier;p=.2778*(m/n.sizeMultiplier)}var y=e.colSeparationType==="CD"?ct({number:3,unit:"ex"},n):12*f,w=3*f,E=e.arraystretch*y,b=.7*E,S=.3*E,_=0;function C(Mr){for(var ra=0;ra<Mr.length;++ra)ra>0&&(_+=.25),u.push({pos:_,isDashed:Mr[ra]})}for(C(s[0]),r=0;r<e.body.length;++r){var I=e.body[r],k=b,D=S;o<I.length&&(o=I.length);var B=new Array(I.length);for(i=0;i<I.length;++i){var O=Ie(I[i],n);D<O.depth&&(D=O.depth),k<O.height&&(k=O.height),B[i]=O}var F=e.rowGaps[r],Y=0;F&&(Y=ct(F,n),Y>0&&(Y+=S,D<Y&&(D=Y),Y=0)),e.addJot&&(D+=w),B.height=k,B.depth=D,_+=k,B.pos=_,_+=D+Y,l[r]=B,C(s[r+1])}var J=_/2+n.fontMetrics().axisHeight,ie=e.cols||[],oe=[],H,q,V=[];if(e.tags&&e.tags.some(Mr=>Mr))for(r=0;r<a;++r){var P=l[r],le=P.pos-J,R=e.tags[r],Me=void 0;R===!0?Me=L.makeSpan(["eqn-num"],[],n):R===!1?Me=L.makeSpan([],[],n):Me=L.makeSpan([],Nt(R,n,!0),n),Me.depth=P.depth,Me.height=P.height,V.push({type:"elem",elem:Me,shift:le})}for(i=0,q=0;i<o||q<ie.length;++i,++q){for(var Re=ie[q]||{},z=!0;Re.type==="separator";){if(z||(H=L.makeSpan(["arraycolsep"],[]),H.style.width=Q(n.fontMetrics().doubleRuleSep),oe.push(H)),Re.separator==="|"||Re.separator===":"){var Fe=Re.separator==="|"?"solid":"dashed",nt=L.makeSpan(["vertical-separator"],[],n);nt.style.height=Q(_),nt.style.borderRightWidth=Q(c),nt.style.borderRightStyle=Fe,nt.style.margin="0 "+Q(-c/2);var rt=_-J;rt&&(nt.style.verticalAlign=Q(-rt)),oe.push(nt)}else throw new X("Invalid separator type: "+Re.separator);q++,Re=ie[q]||{},z=!1}if(!(i>=o)){var tn=void 0;(i>0||e.hskipBeforeAndAfter)&&(tn=De.deflt(Re.pregap,p),tn!==0&&(H=L.makeSpan(["arraycolsep"],[]),H.style.width=Q(tn),oe.push(H)));var Ut=[];for(r=0;r<a;++r){var nn=l[r],rn=nn[i];if(rn){var ae=nn.pos-J;rn.depth=nn.depth,rn.height=nn.height,Ut.push({type:"elem",elem:rn,shift:ae})}}Ut=L.makeVList({positionType:"individualShift",children:Ut},n),Ut=L.makeSpan(["col-align-"+(Re.align||"c")],[Ut]),oe.push(Ut),(i<o-1||e.hskipBeforeAndAfter)&&(tn=De.deflt(Re.postgap,p),tn!==0&&(H=L.makeSpan(["arraycolsep"],[]),H.style.width=Q(tn),oe.push(H)))}}if(l=L.makeSpan(["mtable"],oe),u.length>0){for(var pe=L.makeLineSpan("hline",n,c),ye=L.makeLineSpan("hdashline",n,c),it=[{type:"elem",elem:l,shift:0}];u.length>0;){var mt=u.pop(),Pn=mt.pos-J;mt.isDashed?it.push({type:"elem",elem:ye,shift:Pn}):it.push({type:"elem",elem:pe,shift:Pn})}l=L.makeVList({positionType:"individualShift",children:it},n)}if(V.length===0)return L.makeSpan(["mord"],[l],n);var tr=L.makeVList({positionType:"individualShift",children:V},n);return tr=L.makeSpan(["tag"],[tr],n),L.makeFragment([l,tr])},_N={c:"center ",l:"left ",r:"right "},Rr=function(e,n){for(var r=[],i=new j.MathNode("mtd",[],["mtr-glue"]),a=new j.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var o=e.body[s],l=[],u=0;u<o.length;u++)l.push(new j.MathNode("mtd",[Ke(o[u],n)]));e.tags&&e.tags[s]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(a):l.push(a)),r.push(new j.MathNode("mtr",l))}var c=new j.MathNode("mtable",r),f=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",Q(f));var p="",m="";if(e.cols&&e.cols.length>0){var y=e.cols,w="",E=!1,b=0,S=y.length;y[0].type==="separator"&&(p+="top ",b=1),y[y.length-1].type==="separator"&&(p+="bottom ",S-=1);for(var _=b;_<S;_++)y[_].type==="align"?(m+=_N[y[_].align],E&&(w+="none "),E=!0):y[_].type==="separator"&&E&&(w+=y[_].separator==="|"?"solid ":"dashed ",E=!1);c.setAttribute("columnalign",m.trim()),/[sd]/.test(w)&&c.setAttribute("columnlines",w.trim())}if(e.colSeparationType==="align"){for(var C=e.cols||[],I="",k=1;k<C.length;k++)I+=k%2?"0em ":"1em ";c.setAttribute("columnspacing",I.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var D="",B=e.hLinesBeforeRow;p+=B[0].length>0?"left ":"",p+=B[B.length-1].length>0?"right ":"";for(var O=1;O<B.length-1;O++)D+=B[O].length===0?"none ":B[O][0]?"dashed ":"solid ";return/[sd]/.test(D)&&c.setAttribute("rowlines",D.trim()),p!==""&&(c=new j.MathNode("menclose",[c]),c.setAttribute("notation",p.trim())),e.arraystretch&&e.arraystretch<1&&(c=new j.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},Kb=function(e,n){e.envName.indexOf("ed")===-1&&k0(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",a=e.envName==="split",s=ta(e.parser,{cols:r,addJot:!0,autoTag:a?void 0:Im(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:a?2:void 0,leqno:e.parser.settings.leqno},"display"),o,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var c="",f=0;f<n[0].body.length;f++){var p=Te(n[0].body[f],"textord");c+=p.text}o=Number(c),l=o*2}var m=!l;s.body.forEach(function(b){for(var S=1;S<b.length;S+=2){var _=Te(b[S],"styling"),C=Te(_.body[0],"ordgroup");C.body.unshift(u)}if(m)l<b.length&&(l=b.length);else{var I=b.length/2;if(o<I)throw new X("Too many math in a row: "+("expected "+o+", but got "+I),b[0])}});for(var y=0;y<l;++y){var w="r",E=0;y%2===1?w="l":y>0&&m&&(E=1),r[y]={type:"align",align:w,pregap:E,postgap:0}}return s.colSeparationType=m?"align":"alignat",s};kr({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=E0(e[0]),r=n?[e[0]]:Te(e[0],"ordgroup").body,i=r.map(function(s){var o=Cm(s),l=o.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new X("Unknown column alignment: "+l,s)}),a={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return ta(t.parser,a,Dm(t.envName))},htmlBuilder:Nr,mathmlBuilder:Rr});kr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new X("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var a=ta(t.parser,r,Dm(t.envName)),s=Math.max(0,...a.body.map(o=>o.length));return a.cols=new Array(s).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[a],left:e[0],right:e[1],rightColor:void 0}:a},htmlBuilder:Nr,mathmlBuilder:Rr});kr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=ta(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:Nr,mathmlBuilder:Rr});kr({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=E0(e[0]),r=n?[e[0]]:Te(e[0],"ordgroup").body,i=r.map(function(s){var o=Cm(s),l=o.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new X("Unknown column alignment: "+l,s)});if(i.length>1)throw new X("{subarray} can contain only one column");var a={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(a=ta(t.parser,a,"script"),a.body.length>0&&a.body[0].length>1)throw new X("{subarray} can contain only one column");return a},htmlBuilder:Nr,mathmlBuilder:Rr});kr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=ta(t.parser,e,Dm(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Nr,mathmlBuilder:Rr});kr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Kb,htmlBuilder:Nr,mathmlBuilder:Rr});kr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){["gather","gather*"].includes(t.envName)&&k0(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:Im(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return ta(t.parser,e,"display")},htmlBuilder:Nr,mathmlBuilder:Rr});kr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Kb,htmlBuilder:Nr,mathmlBuilder:Rr});kr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){k0(t);var e={autoTag:Im(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return ta(t.parser,e,"display")},htmlBuilder:Nr,mathmlBuilder:Rr});kr({type:"array",names:["CD"],props:{numArgs:0},handler(t){return k0(t),uN(t.parser)},htmlBuilder:Nr,mathmlBuilder:Rr});A("\\nonumber","\\gdef\\@eqnsw{0}");A("\\notag","\\nonumber");ne({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new X(t.funcName+" valid only within array environment")}});var Vy=$b;ne({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new X("Invalid environment name",i);for(var a="",s=0;s<i.body.length;++s)a+=Te(i.body[s],"textord").text;if(r==="\\begin"){if(!Vy.hasOwnProperty(a))throw new X("No such environment: "+a,i);var o=Vy[a],{args:l,optArgs:u}=n.parseArguments("\\begin{"+a+"}",o),c={mode:n.mode,envName:a,parser:n},f=o.handler(c,l,u);n.expect("\\end",!1);var p=n.nextToken,m=Te(n.parseFunction(),"environment");if(m.name!==a)throw new X("Mismatch: \\begin{"+a+"} matched by \\end{"+m.name+"}",p);return f}return{type:"environment",mode:n.mode,name:a,nameGroup:i}}});var Jb=(t,e)=>{var n=t.font,r=e.withFont(n);return Ie(t.body,r)},jb=(t,e)=>{var n=t.font,r=e.withFont(n);return Ke(t.body,r)},$y={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};ne({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=Hc(e[0]),a=r;return a in $y&&(a=$y[a]),{type:"font",mode:n.mode,font:a.slice(1),body:i}},htmlBuilder:Jb,mathmlBuilder:jb});ne({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=De.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:A0(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});ne({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:a}=n,s=n.parseExpression(!0,i),o="math"+r.slice(1);return{type:"font",mode:a,font:o,body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:Jb,mathmlBuilder:jb});var Xb=(t,e)=>{var n=e;return t==="display"?n=n.id>=de.SCRIPT.id?n.text():de.DISPLAY:t==="text"&&n.size===de.DISPLAY.size?n=de.TEXT:t==="script"?n=de.SCRIPT:t==="scriptscript"&&(n=de.SCRIPTSCRIPT),n},zm=(t,e)=>{var n=Xb(t.size,e.style),r=n.fracNum(),i=n.fracDen(),a;a=e.havingStyle(r);var s=Ie(t.numer,a,e);if(t.continued){var o=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;s.height=s.height<o?o:s.height,s.depth=s.depth<l?l:s.depth}a=e.havingStyle(i);var u=Ie(t.denom,a,e),c,f,p;t.hasBarLine?(t.barSize?(f=ct(t.barSize,e),c=L.makeLineSpan("frac-line",e,f)):c=L.makeLineSpan("frac-line",e),f=c.height,p=c.height):(c=null,f=0,p=e.fontMetrics().defaultRuleThickness);var m,y,w;n.size===de.DISPLAY.size||t.size==="display"?(m=e.fontMetrics().num1,f>0?y=3*p:y=7*p,w=e.fontMetrics().denom1):(f>0?(m=e.fontMetrics().num2,y=p):(m=e.fontMetrics().num3,y=3*p),w=e.fontMetrics().denom2);var E;if(c){var S=e.fontMetrics().axisHeight;m-s.depth-(S+.5*f)<y&&(m+=y-(m-s.depth-(S+.5*f))),S-.5*f-(u.height-w)<y&&(w+=y-(S-.5*f-(u.height-w)));var _=-(S-.5*f);E=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:w},{type:"elem",elem:c,shift:_},{type:"elem",elem:s,shift:-m}]},e)}else{var b=m-s.depth-(u.height-w);b<y&&(m+=.5*(y-b),w+=.5*(y-b)),E=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:w},{type:"elem",elem:s,shift:-m}]},e)}a=e.havingStyle(n),E.height*=a.sizeMultiplier/e.sizeMultiplier,E.depth*=a.sizeMultiplier/e.sizeMultiplier;var C;n.size===de.DISPLAY.size?C=e.fontMetrics().delim1:n.size===de.SCRIPTSCRIPT.size?C=e.havingStyle(de.SCRIPT).fontMetrics().delim2:C=e.fontMetrics().delim2;var I,k;return t.leftDelim==null?I=yl(e,["mopen"]):I=Wr.customSizedDelim(t.leftDelim,C,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?k=L.makeSpan([]):t.rightDelim==null?k=yl(e,["mclose"]):k=Wr.customSizedDelim(t.rightDelim,C,!0,e.havingStyle(n),t.mode,["mclose"]),L.makeSpan(["mord"].concat(a.sizingClasses(e)),[I,L.makeSpan(["mfrac"],[E]),k],e)},Um=(t,e)=>{var n=new j.MathNode("mfrac",[Ke(t.numer,e),Ke(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=ct(t.barSize,e);n.setAttribute("linethickness",Q(r))}var i=Xb(t.size,e.style);if(i.size!==e.style.size){n=new j.MathNode("mstyle",[n]);var a=i.size===de.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",a),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var s=[];if(t.leftDelim!=null){var o=new j.MathNode("mo",[new j.TextNode(t.leftDelim.replace("\\",""))]);o.setAttribute("fence","true"),s.push(o)}if(s.push(n),t.rightDelim!=null){var l=new j.MathNode("mo",[new j.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return Em(s)}return n};ne({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],a=e[1],s,o=null,l=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,o="(",l=")";break;case"\\\\bracefrac":s=!1,o="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,o="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:a,hasBarLine:s,leftDelim:o,rightDelim:l,size:u,barSize:null}},htmlBuilder:zm,mathmlBuilder:Um});ne({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],a=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:a,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});ne({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var Yy=["display","text","script","scriptscript"],Ky=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};ne({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],a=Hc(e[0]),s=a.type==="atom"&&a.family==="open"?Ky(a.text):null,o=Hc(e[1]),l=o.type==="atom"&&o.family==="close"?Ky(o.text):null,u=Te(e[2],"size"),c,f=null;u.isBlank?c=!0:(f=u.value,c=f.number>0);var p="auto",m=e[3];if(m.type==="ordgroup"){if(m.body.length>0){var y=Te(m.body[0],"textord");p=Yy[Number(y.text)]}}else m=Te(m,"textord"),p=Yy[Number(m.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:c,barSize:f,leftDelim:s,rightDelim:l,size:p}},htmlBuilder:zm,mathmlBuilder:Um});ne({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Te(e[0],"size").value,token:i}}});ne({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],a=ZC(Te(e[1],"infix").size),s=e[2],o=a.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:s,continued:!1,hasBarLine:o,barSize:a,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:zm,mathmlBuilder:Um});var Wb=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Ie(t.sup,e.havingStyle(n.sup()),e):Ie(t.sub,e.havingStyle(n.sub()),e),i=Te(t.base,"horizBrace")):i=Te(t,"horizBrace");var a=Ie(i.base,e.havingBaseStyle(de.DISPLAY)),s=ai.svgSpan(i,e),o;if(i.isOver?(o=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:a},{type:"kern",size:.1},{type:"elem",elem:s}]},e),o.children[0].children[0].children[1].classes.push("svg-align")):(o=L.makeVList({positionType:"bottom",positionData:a.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:a}]},e),o.children[0].children[0].children[0].classes.push("svg-align")),r){var l=L.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e);i.isOver?o=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):o=L.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return L.makeSpan(["mord",i.isOver?"mover":"munder"],[o],e)},TN=(t,e)=>{var n=ai.mathMLnode(t.label);return new j.MathNode(t.isOver?"mover":"munder",[Ke(t.base,e),n])};ne({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:Wb,mathmlBuilder:TN});ne({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=Te(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:yt(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=Nt(t.body,e,!1);return L.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=Wi(t.body,e);return n instanceof En||(n=new En("mrow",[n])),n.setAttribute("href",t.href),n}});ne({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=Te(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],a=0;a<r.length;a++){var s=r[a];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var o={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:yt(o)}}});ne({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:yt(e[0])}},htmlBuilder(t,e){var n=Nt(t.body,e,!1);return L.makeFragment(n)},mathmlBuilder(t,e){return new j.MathNode("mrow",yn(t.body,e))}});ne({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,a=Te(e[0],"raw").string,s=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var o,l={};switch(r){case"\\htmlClass":l.class=a,o={command:"\\htmlClass",class:a};break;case"\\htmlId":l.id=a,o={command:"\\htmlId",id:a};break;case"\\htmlStyle":l.style=a,o={command:"\\htmlStyle",style:a};break;case"\\htmlData":{for(var u=a.split(","),c=0;c<u.length;c++){var f=u[c],p=f.indexOf("=");if(p<0)throw new X("\\htmlData key/value '"+f+"' missing equals sign");var m=f.slice(0,p),y=f.slice(p+1);l["data-"+m.trim()]=y}o={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(o)?{type:"html",mode:n.mode,attributes:l,body:yt(s)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=Nt(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=L.makeSpan(r,n,e);for(var a in t.attributes)a!=="class"&&t.attributes.hasOwnProperty(a)&&i.setAttribute(a,t.attributes[a]);return i},mathmlBuilder:(t,e)=>Wi(t.body,e)});ne({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:yt(e[0]),mathml:yt(e[1])}},htmlBuilder:(t,e)=>{var n=Nt(t.html,e,!1);return L.makeFragment(n)},mathmlBuilder:(t,e)=>Wi(t.mathml,e)});var $d=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new X("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!gb(r))throw new X("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};ne({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},a={number:.9,unit:"em"},s={number:0,unit:"em"},o="";if(n[0])for(var l=Te(n[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var f=u[c].split("=");if(f.length===2){var p=f[1].trim();switch(f[0].trim()){case"alt":o=p;break;case"width":i=$d(p);break;case"height":a=$d(p);break;case"totalheight":s=$d(p);break;default:throw new X("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var m=Te(e[0],"url").url;return o===""&&(o=m,o=o.replace(/^.*[\\/]/,""),o=o.substring(0,o.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:m})?{type:"includegraphics",mode:r.mode,alt:o,width:i,height:a,totalheight:s,src:m}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=ct(t.height,e),r=0;t.totalheight.number>0&&(r=ct(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=ct(t.width,e));var a={height:Q(n+r)};i>0&&(a.width=Q(i)),r>0&&(a.verticalAlign=Q(-r));var s=new Tk(t.src,t.alt,a);return s.height=n,s.depth=r,s},mathmlBuilder:(t,e)=>{var n=new j.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=ct(t.height,e),i=0;if(t.totalheight.number>0&&(i=ct(t.totalheight,e)-r,n.setAttribute("valign",Q(-i))),n.setAttribute("height",Q(r+i)),t.width.number>0){var a=ct(t.width,e);n.setAttribute("width",Q(a))}return n.setAttribute("src",t.src),n}});ne({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=Te(e[0],"size");if(n.settings.strict){var a=r[1]==="m",s=i.value.unit==="mu";a?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return L.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=ct(t.dimension,e);return new j.SpaceNode(n)}});ne({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=L.makeSpan([],[Ie(t.body,e)]),n=L.makeSpan(["inner"],[n],e)):n=L.makeSpan(["inner"],[Ie(t.body,e)]);var r=L.makeSpan(["fix"],[]),i=L.makeSpan([t.alignment],[n,r],e),a=L.makeSpan(["strut"]);return a.style.height=Q(i.height+i.depth),i.depth&&(a.style.verticalAlign=Q(-i.depth)),i.children.unshift(a),i=L.makeSpan(["thinbox"],[i],e),L.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new j.MathNode("mpadded",[Ke(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});ne({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var a=n==="\\("?"\\)":"$",s=r.parseExpression(!1,a);return r.expect(a),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:s}}});ne({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new X("Mismatched "+t.funcName)}});var Jy=(t,e)=>{switch(e.style.size){case de.DISPLAY.size:return t.display;case de.TEXT.size:return t.text;case de.SCRIPT.size:return t.script;case de.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};ne({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:yt(e[0]),text:yt(e[1]),script:yt(e[2]),scriptscript:yt(e[3])}},htmlBuilder:(t,e)=>{var n=Jy(t,e),r=Nt(n,e,!1);return L.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=Jy(t,e);return Wi(n,e)}});var Qb=(t,e,n,r,i,a,s)=>{t=L.makeSpan([],[t]);var o=n&&De.isCharacterBox(n),l,u;if(e){var c=Ie(e,r.havingStyle(i.sup()),r);u={elem:c,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-c.depth)}}if(n){var f=Ie(n,r.havingStyle(i.sub()),r);l={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-f.height)}}var p;if(u&&l){var m=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+s;p=L.makeVList({positionType:"bottom",positionData:m,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Q(-a)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Q(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var y=t.height-s;p=L.makeVList({positionType:"top",positionData:y,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:Q(-a)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},r)}else if(u){var w=t.depth+s;p=L.makeVList({positionType:"bottom",positionData:w,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:Q(a)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var E=[p];if(l&&a!==0&&!o){var b=L.makeSpan(["mspace"],[],r);b.style.marginRight=Q(a),E.unshift(b)}return L.makeSpan(["mop","op-limits"],E,r)},Zb=["\\smallint"],ro=(t,e)=>{var n,r,i=!1,a;t.type==="supsub"?(n=t.sup,r=t.sub,a=Te(t.base,"op"),i=!0):a=Te(t,"op");var s=e.style,o=!1;s.size===de.DISPLAY.size&&a.symbol&&!Zb.includes(a.name)&&(o=!0);var l;if(a.symbol){var u=o?"Size2-Regular":"Size1-Regular",c="";if((a.name==="\\oiint"||a.name==="\\oiiint")&&(c=a.name.slice(1),a.name=c==="oiint"?"\\iint":"\\iiint"),l=L.makeSymbol(a.name,u,"math",e,["mop","op-symbol",o?"large-op":"small-op"]),c.length>0){var f=l.italic,p=L.staticSvg(c+"Size"+(o?"2":"1"),e);l=L.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:p,shift:o?.08:0}]},e),a.name="\\"+c,l.classes.unshift("mop"),l.italic=f}}else if(a.body){var m=Nt(a.body,e,!0);m.length===1&&m[0]instanceof Qn?(l=m[0],l.classes[0]="mop"):l=L.makeSpan(["mop"],m,e)}else{for(var y=[],w=1;w<a.name.length;w++)y.push(L.mathsym(a.name[w],a.mode,e));l=L.makeSpan(["mop"],y,e)}var E=0,b=0;return(l instanceof Qn||a.name==="\\oiint"||a.name==="\\oiiint")&&!a.suppressBaseShift&&(E=(l.height-l.depth)/2-e.fontMetrics().axisHeight,b=l.italic),i?Qb(l,n,r,e,s,b,E):(E&&(l.style.position="relative",l.style.top=Q(E)),l)},Hl=(t,e)=>{var n;if(t.symbol)n=new En("mo",[Zn(t.name,t.mode)]),Zb.includes(t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new En("mo",yn(t.body,e));else{n=new En("mi",[new _r(t.name.slice(1))]);var r=new En("mo",[Zn("","text")]);t.parentIsSupSub?n=new En("mrow",[n,r]):n=Cb([n,r])}return n},EN={"":"\\prod","":"\\coprod","":"\\sum","":"\\bigwedge","":"\\bigvee","":"\\bigcap","":"\\bigcup","":"\\bigodot","":"\\bigoplus","":"\\bigotimes","":"\\biguplus","":"\\bigsqcup"};ne({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","","","","","","","","","","","",""],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=EN[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:ro,mathmlBuilder:Hl});ne({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:yt(r)}},htmlBuilder:ro,mathmlBuilder:Hl});var AN={"":"\\int","":"\\iint","":"\\iiint","":"\\oint","":"\\oiint","":"\\oiiint"};ne({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:ro,mathmlBuilder:Hl});ne({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:ro,mathmlBuilder:Hl});ne({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","","","","","",""],props:{numArgs:0,allowedInArgument:!0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=AN[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:ro,mathmlBuilder:Hl});var e7=(t,e)=>{var n,r,i=!1,a;t.type==="supsub"?(n=t.sup,r=t.sub,a=Te(t.base,"operatorname"),i=!0):a=Te(t,"operatorname");var s;if(a.body.length>0){for(var o=a.body.map(f=>{var p=f.text;return typeof p=="string"?{type:"textord",mode:f.mode,text:p}:f}),l=Nt(o,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof Qn&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=L.makeSpan(["mop"],l,e)}else s=L.makeSpan(["mop"],[],e);return i?Qb(s,n,r,e,e.style,0,0):s},CN=(t,e)=>{for(var n=yn(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var a=n[i];if(!(a instanceof j.SpaceNode))if(a instanceof j.MathNode)switch(a.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=a.children[0];a.children.length===1&&s instanceof j.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var o=n.map(c=>c.toText()).join("");n=[new j.TextNode(o)]}var l=new j.MathNode("mi",n);l.setAttribute("mathvariant","normal");var u=new j.MathNode("mo",[Zn("","text")]);return t.parentIsSupSub?new j.MathNode("mrow",[l,u]):j.newDocumentFragment([l,u])};ne({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:yt(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:e7,mathmlBuilder:CN});A("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Oa({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?L.makeFragment(Nt(t.body,e,!1)):L.makeSpan(["mord"],Nt(t.body,e,!0),e)},mathmlBuilder(t,e){return Wi(t.body,e,!0)}});ne({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Ie(t.body,e.havingCrampedStyle()),r=L.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,a=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return L.makeSpan(["mord","overline"],[a],e)},mathmlBuilder(t,e){var n=new j.MathNode("mo",[new j.TextNode("")]);n.setAttribute("stretchy","true");var r=new j.MathNode("mover",[Ke(t.body,e),n]);return r.setAttribute("accent","true"),r}});ne({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:yt(r)}},htmlBuilder:(t,e)=>{var n=Nt(t.body,e.withPhantom(),!1);return L.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=yn(t.body,e);return new j.MathNode("mphantom",n)}});ne({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=L.makeSpan([],[Ie(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),L.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=yn(yt(t.body),e),r=new j.MathNode("mphantom",n),i=new j.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});ne({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=L.makeSpan(["inner"],[Ie(t.body,e.withPhantom())]),r=L.makeSpan(["fix"],[]);return L.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=yn(yt(t.body),e),r=new j.MathNode("mphantom",n),i=new j.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});ne({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=Te(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Ie(t.body,e),r=ct(t.dy,e);return L.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new j.MathNode("mpadded",[Ke(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});ne({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});ne({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],a=Te(e[0],"size"),s=Te(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&Te(i,"size").value,width:a.value,height:s.value}},htmlBuilder(t,e){var n=L.makeSpan(["mord","rule"],[],e),r=ct(t.width,e),i=ct(t.height,e),a=t.shift?ct(t.shift,e):0;return n.style.borderRightWidth=Q(r),n.style.borderTopWidth=Q(i),n.style.bottom=Q(a),n.width=r,n.height=i+a,n.depth=-a,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=ct(t.width,e),r=ct(t.height,e),i=t.shift?ct(t.shift,e):0,a=e.color&&e.getColor()||"black",s=new j.MathNode("mspace");s.setAttribute("mathbackground",a),s.setAttribute("width",Q(n)),s.setAttribute("height",Q(r));var o=new j.MathNode("mpadded",[s]);return i>=0?o.setAttribute("height",Q(i)):(o.setAttribute("height",Q(i)),o.setAttribute("depth",Q(-i))),o.setAttribute("voffset",Q(i)),o}});function t7(t,e,n){for(var r=Nt(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,a=0;a<r.length;a++){var s=r[a].classes.indexOf("sizing");s<0?Array.prototype.push.apply(r[a].classes,e.sizingClasses(n)):r[a].classes[s+1]==="reset-size"+e.size&&(r[a].classes[s+1]="reset-size"+n.size),r[a].height*=i,r[a].depth*=i}return L.makeFragment(r)}var jy=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],kN=(t,e)=>{var n=e.havingSize(t.size);return t7(t.body,n,e)};ne({type:"sizing",names:jy,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,a=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:jy.indexOf(r)+1,body:a}},htmlBuilder:kN,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=yn(t.body,n),i=new j.MathNode("mstyle",r);return i.setAttribute("mathsize",Q(n.sizeMultiplier)),i}});ne({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,a=!1,s=n[0]&&Te(n[0],"ordgroup");if(s)for(var o="",l=0;l<s.body.length;++l){var u=s.body[l];if(o=u.text,o==="t")i=!0;else if(o==="b")a=!0;else{i=!1,a=!1;break}}else i=!0,a=!0;var c=e[0];return{type:"smash",mode:r.mode,body:c,smashHeight:i,smashDepth:a}},htmlBuilder:(t,e)=>{var n=L.makeSpan([],[Ie(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var a=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return L.makeSpan(["mord"],[a],e)},mathmlBuilder:(t,e)=>{var n=new j.MathNode("mpadded",[Ke(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});ne({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],a=e[0];return{type:"sqrt",mode:r.mode,body:a,index:i}},htmlBuilder(t,e){var n=Ie(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=L.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,a=i;e.style.id<de.TEXT.id&&(a=e.fontMetrics().xHeight);var s=i+a/4,o=n.height+n.depth+s+i,{span:l,ruleWidth:u,advanceWidth:c}=Wr.sqrtImage(o,e),f=l.height-u;f>n.height+n.depth+s&&(s=(s+f-n.height-n.depth)/2);var p=l.height-n.height-s-u;n.style.paddingLeft=Q(c);var m=L.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+p)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var y=e.havingStyle(de.SCRIPTSCRIPT),w=Ie(t.index,y,e),E=.6*(m.height-m.depth),b=L.makeVList({positionType:"shift",positionData:-E,children:[{type:"elem",elem:w}]},e),S=L.makeSpan(["root"],[b]);return L.makeSpan(["mord","sqrt"],[S,m],e)}else return L.makeSpan(["mord","sqrt"],[m],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new j.MathNode("mroot",[Ke(n,e),Ke(r,e)]):new j.MathNode("msqrt",[Ke(n,e)])}});var Xy={display:de.DISPLAY,text:de.TEXT,script:de.SCRIPT,scriptscript:de.SCRIPTSCRIPT};ne({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,a=i.parseExpression(!0,n),s=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:s,body:a}},htmlBuilder(t,e){var n=Xy[t.style],r=e.havingStyle(n).withFont("");return t7(t.body,r,e)},mathmlBuilder(t,e){var n=Xy[t.style],r=e.havingStyle(n),i=yn(t.body,r),a=new j.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},o=s[t.style];return a.setAttribute("scriptlevel",o[0]),a.setAttribute("displaystyle",o[1]),a}});var NN=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===de.DISPLAY.size||r.alwaysHandleSupSub);return i?ro:null}else if(r.type==="operatorname"){var a=r.alwaysHandleSupSub&&(n.style.size===de.DISPLAY.size||r.limits);return a?e7:null}else{if(r.type==="accent")return De.isCharacterBox(r.base)?km:null;if(r.type==="horizBrace"){var s=!e.sub;return s===r.isOver?Wb:null}else return null}else return null};Oa({type:"supsub",htmlBuilder(t,e){var n=NN(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:a}=t,s=Ie(r,e),o,l,u=e.fontMetrics(),c=0,f=0,p=r&&De.isCharacterBox(r);if(i){var m=e.havingStyle(e.style.sup());o=Ie(i,m,e),p||(c=s.height-m.fontMetrics().supDrop*m.sizeMultiplier/e.sizeMultiplier)}if(a){var y=e.havingStyle(e.style.sub());l=Ie(a,y,e),p||(f=s.depth+y.fontMetrics().subDrop*y.sizeMultiplier/e.sizeMultiplier)}var w;e.style===de.DISPLAY?w=u.sup1:e.style.cramped?w=u.sup3:w=u.sup2;var E=e.sizeMultiplier,b=Q(.5/u.ptPerEm/E),S=null;if(l){var _=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(s instanceof Qn||_)&&(S=Q(-s.italic))}var C;if(o&&l){c=Math.max(c,w,o.depth+.25*u.xHeight),f=Math.max(f,u.sub2);var I=u.defaultRuleThickness,k=4*I;if(c-o.depth-(l.height-f)<k){f=k-(c-o.depth)+l.height;var D=.8*u.xHeight-(c-o.depth);D>0&&(c+=D,f-=D)}var B=[{type:"elem",elem:l,shift:f,marginRight:b,marginLeft:S},{type:"elem",elem:o,shift:-c,marginRight:b}];C=L.makeVList({positionType:"individualShift",children:B},e)}else if(l){f=Math.max(f,u.sub1,l.height-.8*u.xHeight);var O=[{type:"elem",elem:l,marginLeft:S,marginRight:b}];C=L.makeVList({positionType:"shift",positionData:f,children:O},e)}else if(o)c=Math.max(c,w,o.depth+.25*u.xHeight),C=L.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:o,marginRight:b}]},e);else throw new Error("supsub must have either sup or sub.");var F=Tf(s,"right")||"mord";return L.makeSpan([F],[s,L.makeSpan(["msupsub"],[C])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var a=[Ke(t.base,e)];t.sub&&a.push(Ke(t.sub,e)),t.sup&&a.push(Ke(t.sup,e));var s;if(n)s=r?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===de.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===de.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===de.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===de.DISPLAY)?s="munder":s="msub"}else{var o=t.base;o&&o.type==="op"&&o.limits&&(e.style===de.DISPLAY||o.alwaysHandleSupSub)||o&&o.type==="operatorname"&&o.alwaysHandleSupSub&&(o.limits||e.style===de.DISPLAY)?s="mover":s="msup"}return new j.MathNode(s,a)}});Oa({type:"atom",htmlBuilder(t,e){return L.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new j.MathNode("mo",[Zn(t.text,t.mode)]);if(t.family==="bin"){var r=Am(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var n7={mi:"italic",mn:"normal",mtext:"normal"};Oa({type:"mathord",htmlBuilder(t,e){return L.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new j.MathNode("mi",[Zn(t.text,t.mode,e)]),r=Am(t,e)||"italic";return r!==n7[n.type]&&n.setAttribute("mathvariant",r),n}});Oa({type:"textord",htmlBuilder(t,e){return L.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=Zn(t.text,t.mode,e),r=Am(t,e)||"normal",i;return t.mode==="text"?i=new j.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new j.MathNode("mn",[n]):t.text==="\\prime"?i=new j.MathNode("mo",[n]):i=new j.MathNode("mi",[n]),r!==n7[i.type]&&i.setAttribute("mathvariant",r),i}});var Yd={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Kd={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Oa({type:"spacing",htmlBuilder(t,e){if(Kd.hasOwnProperty(t.text)){var n=Kd[t.text].className||"";if(t.mode==="text"){var r=L.makeOrd(t,e,"textord");return r.classes.push(n),r}else return L.makeSpan(["mspace",n],[L.mathsym(t.text,t.mode,e)],e)}else{if(Yd.hasOwnProperty(t.text))return L.makeSpan(["mspace",Yd[t.text]],[],e);throw new X('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(Kd.hasOwnProperty(t.text))n=new j.MathNode("mtext",[new j.TextNode("")]);else{if(Yd.hasOwnProperty(t.text))return new j.MathNode("mspace");throw new X('Unknown type of space "'+t.text+'"')}return n}});var Wy=()=>{var t=new j.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Oa({type:"tag",mathmlBuilder(t,e){var n=new j.MathNode("mtable",[new j.MathNode("mtr",[Wy(),new j.MathNode("mtd",[Wi(t.body,e)]),Wy(),new j.MathNode("mtd",[Wi(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var Qy={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Zy={"\\textbf":"textbf","\\textmd":"textmd"},RN={"\\textit":"textit","\\textup":"textup"},ev=(t,e)=>{var n=t.font;if(n){if(Qy[n])return e.withTextFontFamily(Qy[n]);if(Zy[n])return e.withTextFontWeight(Zy[n]);if(n==="\\emph")return e.fontShape==="textit"?e.withTextFontShape("textup"):e.withTextFontShape("textit")}else return e;return e.withTextFontShape(RN[n])};ne({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:yt(i),font:r}},htmlBuilder(t,e){var n=ev(t,e),r=Nt(t.body,n,!0);return L.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=ev(t,e);return Wi(t.body,n)}});ne({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Ie(t.body,e),r=L.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,a=L.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return L.makeSpan(["mord","underline"],[a],e)},mathmlBuilder(t,e){var n=new j.MathNode("mo",[new j.TextNode("")]);n.setAttribute("stretchy","true");var r=new j.MathNode("munder",[Ke(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});ne({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Ie(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return L.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new j.MathNode("mpadded",[Ke(t.body,e)],["vcenter"])}});ne({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new X("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=tv(t),r=[],i=e.havingStyle(e.style.text()),a=0;a<n.length;a++){var s=n[a];s==="~"&&(s="\\textasciitilde"),r.push(L.makeSymbol(s,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return L.makeSpan(["mord","text"].concat(i.sizingClasses(e)),L.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new j.TextNode(tv(t)),r=new j.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var tv=t=>t.body.replace(/ /g,t.star?"":""),Di=Eb,r7=`[ \r
	]`,MN="\\\\[a-zA-Z@]+",IN="\\\\[^\uD800-\uDFFF]",DN="("+MN+")"+r7+"*",zN=`\\\\(
|[ \r	]+
?)[ \r	]*`,kf="[-]",UN=new RegExp(kf+"+$"),ON="("+r7+"+)|"+(zN+"|")+"([!-\\[\\]---]"+(kf+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(kf+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+DN)+("|"+IN+")");class nv{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(ON,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new zn("EOF",new dn(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new X("Unexpected character: '"+e[n]+"'",new zn(e[n],new dn(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var a=e.indexOf(`
`,this.tokenRegex.lastIndex);return a===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=a+1,this.lex()}return new zn(i,new dn(this,n,this.tokenRegex.lastIndex))}}class LN{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new X("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var a=this.undefStack[this.undefStack.length-1];a&&!a.hasOwnProperty(e)&&(a[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var PN=Yb;A("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});A("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});A("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});A("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});A("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});A("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");A("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var rv={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};A("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new X("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=rv[e.text],r==null||r>=n)throw new X("Invalid base-"+n+" digit "+e.text);for(var i;(i=rv[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var Om=(t,e,n,r)=>{var i=t.consumeArg().tokens;if(i.length!==1)throw new X("\\newcommand's first argument must be a macro name");var a=i[0].text,s=t.isDefined(a);if(s&&!e)throw new X("\\newcommand{"+a+"} attempting to redefine "+(a+"; use \\renewcommand"));if(!s&&!n)throw new X("\\renewcommand{"+a+"} when command "+a+" does not yet exist; use \\newcommand");var o=0;if(i=t.consumeArg().tokens,i.length===1&&i[0].text==="["){for(var l="",u=t.expandNextToken();u.text!=="]"&&u.text!=="EOF";)l+=u.text,u=t.expandNextToken();if(!l.match(/^\s*[0-9]+\s*$/))throw new X("Invalid number of arguments: "+l);o=parseInt(l),i=t.consumeArg().tokens}return s&&r||t.macros.set(a,{tokens:i,numArgs:o}),""};A("\\newcommand",t=>Om(t,!1,!0,!1));A("\\renewcommand",t=>Om(t,!0,!1,!1));A("\\providecommand",t=>Om(t,!0,!0,!0));A("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});A("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});A("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),Di[n],We.math[n],We.text[n]),""});A("\\bgroup","{");A("\\egroup","}");A("~","\\nobreakspace");A("\\lq","`");A("\\rq","'");A("\\aa","\\r a");A("\\AA","\\r A");A("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`}");A("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");A("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`}");A("","\\mathscr{B}");A("","\\mathscr{E}");A("","\\mathscr{F}");A("","\\mathscr{H}");A("","\\mathscr{I}");A("","\\mathscr{L}");A("","\\mathscr{M}");A("","\\mathscr{R}");A("","\\mathfrak{C}");A("","\\mathfrak{H}");A("","\\mathfrak{Z}");A("\\Bbbk","\\Bbb{k}");A("","\\cdotp");A("\\llap","\\mathllap{\\textrm{#1}}");A("\\rlap","\\mathrlap{\\textrm{#1}}");A("\\clap","\\mathclap{\\textrm{#1}}");A("\\mathstrut","\\vphantom{(}");A("\\underbar","\\underline{\\text{#1}}");A("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');A("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`}}");A("\\ne","\\neq");A("","\\neq");A("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`}}");A("","\\notin");A("","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`}}");A("","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`}}");A("","\\perp");A("","\\mathclose{!\\mkern-0.8mu!}");A("","\\notni");A("","\\ulcorner");A("","\\urcorner");A("","\\llcorner");A("","\\lrcorner");A("","\\copyright");A("","\\textregistered");A("","\\textregistered");A("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');A("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');A("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');A("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');A("\\vdots","{\\varvdots\\rule{0pt}{15pt}}");A("","\\vdots");A("\\varGamma","\\mathit{\\Gamma}");A("\\varDelta","\\mathit{\\Delta}");A("\\varTheta","\\mathit{\\Theta}");A("\\varLambda","\\mathit{\\Lambda}");A("\\varXi","\\mathit{\\Xi}");A("\\varPi","\\mathit{\\Pi}");A("\\varSigma","\\mathit{\\Sigma}");A("\\varUpsilon","\\mathit{\\Upsilon}");A("\\varPhi","\\mathit{\\Phi}");A("\\varPsi","\\mathit{\\Psi}");A("\\varOmega","\\mathit{\\Omega}");A("\\substack","\\begin{subarray}{c}#1\\end{subarray}");A("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");A("\\boxed","\\fbox{$\\displaystyle{#1}$}");A("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");A("\\implies","\\DOTSB\\;\\Longrightarrow\\;");A("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");A("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}");A("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");var iv={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};A("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in iv?e=iv[n]:(n.slice(0,4)==="\\not"||n in We.math&&["bin","rel"].includes(We.math[n].group))&&(e="\\dotsb"),e});var Lm={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};A("\\dotso",function(t){var e=t.future().text;return e in Lm?"\\ldots\\,":"\\ldots"});A("\\dotsc",function(t){var e=t.future().text;return e in Lm&&e!==","?"\\ldots\\,":"\\ldots"});A("\\cdots",function(t){var e=t.future().text;return e in Lm?"\\@cdots\\,":"\\@cdots"});A("\\dotsb","\\cdots");A("\\dotsm","\\cdots");A("\\dotsi","\\!\\cdots");A("\\dotsx","\\ldots\\,");A("\\DOTSI","\\relax");A("\\DOTSB","\\relax");A("\\DOTSX","\\relax");A("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");A("\\,","\\tmspace+{3mu}{.1667em}");A("\\thinspace","\\,");A("\\>","\\mskip{4mu}");A("\\:","\\tmspace+{4mu}{.2222em}");A("\\medspace","\\:");A("\\;","\\tmspace+{5mu}{.2777em}");A("\\thickspace","\\;");A("\\!","\\tmspace-{3mu}{.1667em}");A("\\negthinspace","\\!");A("\\negmedspace","\\tmspace-{4mu}{.2222em}");A("\\negthickspace","\\tmspace-{5mu}{.277em}");A("\\enspace","\\kern.5em ");A("\\enskip","\\hskip.5em\\relax");A("\\quad","\\hskip1em\\relax");A("\\qquad","\\hskip2em\\relax");A("\\tag","\\@ifstar\\tag@literal\\tag@paren");A("\\tag@paren","\\tag@literal{({#1})}");A("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new X("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});A("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");A("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");A("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");A("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");A("\\newline","\\\\\\relax");A("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var i7=Q(Sr["Main-Regular"][84][1]-.7*Sr["Main-Regular"][65][1]);A("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+i7+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");A("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+i7+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");A("\\hspace","\\@ifstar\\@hspacer\\@hspace");A("\\@hspace","\\hskip #1\\relax");A("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");A("\\ordinarycolon",":");A("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");A("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');A("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');A("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');A("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');A("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');A("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');A("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');A("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');A("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');A("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');A("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');A("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');A("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');A("","\\dblcolon");A("","\\eqcolon");A("","\\coloneqq");A("","\\eqqcolon");A("","\\Coloneqq");A("\\ratio","\\vcentcolon");A("\\coloncolon","\\dblcolon");A("\\colonequals","\\coloneqq");A("\\coloncolonequals","\\Coloneqq");A("\\equalscolon","\\eqqcolon");A("\\equalscoloncolon","\\Eqqcolon");A("\\colonminus","\\coloneq");A("\\coloncolonminus","\\Coloneq");A("\\minuscolon","\\eqcolon");A("\\minuscoloncolon","\\Eqcolon");A("\\coloncolonapprox","\\Colonapprox");A("\\coloncolonsim","\\Colonsim");A("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");A("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");A("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");A("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");A("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`}}");A("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");A("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");A("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");A("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");A("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");A("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");A("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");A("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");A("\\gvertneqq","\\html@mathml{\\@gvertneqq}{}");A("\\lvertneqq","\\html@mathml{\\@lvertneqq}{}");A("\\ngeqq","\\html@mathml{\\@ngeqq}{}");A("\\ngeqslant","\\html@mathml{\\@ngeqslant}{}");A("\\nleqq","\\html@mathml{\\@nleqq}{}");A("\\nleqslant","\\html@mathml{\\@nleqslant}{}");A("\\nshortmid","\\html@mathml{\\@nshortmid}{}");A("\\nshortparallel","\\html@mathml{\\@nshortparallel}{}");A("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{}");A("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{}");A("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{}");A("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{}");A("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{}");A("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{}");A("\\imath","\\html@mathml{\\@imath}{}");A("\\jmath","\\html@mathml{\\@jmath}{}");A("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`}}");A("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`}}");A("","\\llbracket");A("","\\rrbracket");A("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`}}");A("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`}}");A("","\\lBrace");A("","\\rBrace");A("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`}}");A("","\\minuso");A("\\darr","\\downarrow");A("\\dArr","\\Downarrow");A("\\Darr","\\Downarrow");A("\\lang","\\langle");A("\\rang","\\rangle");A("\\uarr","\\uparrow");A("\\uArr","\\Uparrow");A("\\Uarr","\\Uparrow");A("\\N","\\mathbb{N}");A("\\R","\\mathbb{R}");A("\\Z","\\mathbb{Z}");A("\\alef","\\aleph");A("\\alefsym","\\aleph");A("\\Alpha","\\mathrm{A}");A("\\Beta","\\mathrm{B}");A("\\bull","\\bullet");A("\\Chi","\\mathrm{X}");A("\\clubs","\\clubsuit");A("\\cnums","\\mathbb{C}");A("\\Complex","\\mathbb{C}");A("\\Dagger","\\ddagger");A("\\diamonds","\\diamondsuit");A("\\empty","\\emptyset");A("\\Epsilon","\\mathrm{E}");A("\\Eta","\\mathrm{H}");A("\\exist","\\exists");A("\\harr","\\leftrightarrow");A("\\hArr","\\Leftrightarrow");A("\\Harr","\\Leftrightarrow");A("\\hearts","\\heartsuit");A("\\image","\\Im");A("\\infin","\\infty");A("\\Iota","\\mathrm{I}");A("\\isin","\\in");A("\\Kappa","\\mathrm{K}");A("\\larr","\\leftarrow");A("\\lArr","\\Leftarrow");A("\\Larr","\\Leftarrow");A("\\lrarr","\\leftrightarrow");A("\\lrArr","\\Leftrightarrow");A("\\Lrarr","\\Leftrightarrow");A("\\Mu","\\mathrm{M}");A("\\natnums","\\mathbb{N}");A("\\Nu","\\mathrm{N}");A("\\Omicron","\\mathrm{O}");A("\\plusmn","\\pm");A("\\rarr","\\rightarrow");A("\\rArr","\\Rightarrow");A("\\Rarr","\\Rightarrow");A("\\real","\\Re");A("\\reals","\\mathbb{R}");A("\\Reals","\\mathbb{R}");A("\\Rho","\\mathrm{P}");A("\\sdot","\\cdot");A("\\sect","\\S");A("\\spades","\\spadesuit");A("\\sub","\\subset");A("\\sube","\\subseteq");A("\\supe","\\supseteq");A("\\Tau","\\mathrm{T}");A("\\thetasym","\\vartheta");A("\\weierp","\\wp");A("\\Zeta","\\mathrm{Z}");A("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");A("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");A("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");A("\\bra","\\mathinner{\\langle{#1}|}");A("\\ket","\\mathinner{|{#1}\\rangle}");A("\\braket","\\mathinner{\\langle{#1}\\rangle}");A("\\Bra","\\left\\langle#1\\right|");A("\\Ket","\\left|#1\\right\\rangle");var a7=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,a=e.consumeArg().tokens,s=e.macros.get("|"),o=e.macros.get("\\|");e.macros.beginGroup();var l=f=>p=>{t&&(p.macros.set("|",s),i.length&&p.macros.set("\\|",o));var m=f;if(!f&&i.length){var y=p.future();y.text==="|"&&(p.popToken(),m=!0)}return{tokens:m?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,c=e.expandTokens([...a,...u,...n]);return e.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};A("\\bra@ket",a7(!1));A("\\bra@set",a7(!0));A("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");A("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");A("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");A("\\angln","{\\angl n}");A("\\blue","\\textcolor{##6495ed}{#1}");A("\\orange","\\textcolor{##ffa500}{#1}");A("\\pink","\\textcolor{##ff00af}{#1}");A("\\red","\\textcolor{##df0030}{#1}");A("\\green","\\textcolor{##28ae7b}{#1}");A("\\gray","\\textcolor{gray}{#1}");A("\\purple","\\textcolor{##9d38bd}{#1}");A("\\blueA","\\textcolor{##ccfaff}{#1}");A("\\blueB","\\textcolor{##80f6ff}{#1}");A("\\blueC","\\textcolor{##63d9ea}{#1}");A("\\blueD","\\textcolor{##11accd}{#1}");A("\\blueE","\\textcolor{##0c7f99}{#1}");A("\\tealA","\\textcolor{##94fff5}{#1}");A("\\tealB","\\textcolor{##26edd5}{#1}");A("\\tealC","\\textcolor{##01d1c1}{#1}");A("\\tealD","\\textcolor{##01a995}{#1}");A("\\tealE","\\textcolor{##208170}{#1}");A("\\greenA","\\textcolor{##b6ffb0}{#1}");A("\\greenB","\\textcolor{##8af281}{#1}");A("\\greenC","\\textcolor{##74cf70}{#1}");A("\\greenD","\\textcolor{##1fab54}{#1}");A("\\greenE","\\textcolor{##0d923f}{#1}");A("\\goldA","\\textcolor{##ffd0a9}{#1}");A("\\goldB","\\textcolor{##ffbb71}{#1}");A("\\goldC","\\textcolor{##ff9c39}{#1}");A("\\goldD","\\textcolor{##e07d10}{#1}");A("\\goldE","\\textcolor{##a75a05}{#1}");A("\\redA","\\textcolor{##fca9a9}{#1}");A("\\redB","\\textcolor{##ff8482}{#1}");A("\\redC","\\textcolor{##f9685d}{#1}");A("\\redD","\\textcolor{##e84d39}{#1}");A("\\redE","\\textcolor{##bc2612}{#1}");A("\\maroonA","\\textcolor{##ffbde0}{#1}");A("\\maroonB","\\textcolor{##ff92c6}{#1}");A("\\maroonC","\\textcolor{##ed5fa6}{#1}");A("\\maroonD","\\textcolor{##ca337c}{#1}");A("\\maroonE","\\textcolor{##9e034e}{#1}");A("\\purpleA","\\textcolor{##ddd7ff}{#1}");A("\\purpleB","\\textcolor{##c6b9fc}{#1}");A("\\purpleC","\\textcolor{##aa87ff}{#1}");A("\\purpleD","\\textcolor{##7854ab}{#1}");A("\\purpleE","\\textcolor{##543b78}{#1}");A("\\mintA","\\textcolor{##f5f9e8}{#1}");A("\\mintB","\\textcolor{##edf2df}{#1}");A("\\mintC","\\textcolor{##e0e5cc}{#1}");A("\\grayA","\\textcolor{##f6f7f7}{#1}");A("\\grayB","\\textcolor{##f0f1f2}{#1}");A("\\grayC","\\textcolor{##e3e5e6}{#1}");A("\\grayD","\\textcolor{##d6d8da}{#1}");A("\\grayE","\\textcolor{##babec2}{#1}");A("\\grayF","\\textcolor{##888d93}{#1}");A("\\grayG","\\textcolor{##626569}{#1}");A("\\grayH","\\textcolor{##3b3e40}{#1}");A("\\grayI","\\textcolor{##21242c}{#1}");A("\\kaBlue","\\textcolor{##314453}{#1}");A("\\kaGreen","\\textcolor{##71B307}{#1}");var s7={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class BN{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new LN(PN,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new nv(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new zn("EOF",r.loc)),this.pushTokens(i),new zn("",dn.range(n,r))}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),a,s=0,o=0;do{if(a=this.popToken(),n.push(a),a.text==="{")++s;else if(a.text==="}"){if(--s,s===-1)throw new X("Extra }",a)}else if(a.text==="EOF")throw new X("Unexpected end of input in a macro argument, expected '"+(e&&r?e[o]:"}")+"'",a);if(e&&r)if((s===0||s===1&&e[o]==="{")&&a.text===e[o]){if(++o,o===e.length){n.splice(-o,o);break}}else o=0}while(s!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:a}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new X("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var a=this.popToken();if(r[i]!==a.text)throw new X("Use of the macro doesn't match its definition",a)}}for(var s=[],o=0;o<e;o++)s.push(this.consumeArg(n&&n[o+1]).tokens);return s}countExpansion(e){if(this.expansionCount+=e,this.expansionCount>this.settings.maxExpand)throw new X("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new X("Undefined control sequence: "+r);return this.pushToken(n),!1}this.countExpansion(1);var a=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){a=a.slice();for(var o=a.length-1;o>=0;--o){var l=a[o];if(l.text==="#"){if(o===0)throw new X("Incomplete placeholder at end of macro body",l);if(l=a[--o],l.text==="#")a.splice(o+1,1);else if(/^[1-9]$/.test(l.text))a.splice(o,2,...s[+l.text-1]);else throw new X("Not a valid argument number",l)}}}return this.pushTokens(a),a.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){var e=this.stack.pop();return e.treatAsRelax&&(e.text="\\relax"),e}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new zn(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;)if(this.expandOnce(!0)===!1){var i=this.stack.pop();i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(i)}return this.countExpansion(n.length),n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var a=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(a+1))!==-1;)++a;for(var o=new nv(i,this.settings),l=[],u=o.lex();u.text!=="EOF";)l.push(u),u=o.lex();l.reverse();var c={tokens:l,numArgs:a};return c}return i}isDefined(e){return this.macros.has(e)||Di.hasOwnProperty(e)||We.math.hasOwnProperty(e)||We.text.hasOwnProperty(e)||s7.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Di.hasOwnProperty(e)&&!Di[e].primitive}}var av=/^[]/,vu=Object.freeze({"":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"a","":"e","":"h","":"i","":"j","":"k","":"l","":"m","":"n","":"o","":"p","":"r","":"s","":"t","":"u","":"v","":"x","":"","":"","":"","":"","":"","":"+","":"-","":"=","":"(","":")","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"A","":"B","":"D","":"E","":"G","":"H","":"I","":"J","":"K","":"L","":"M","":"N","":"O","":"P","":"R","":"T","":"U","":"V","":"W","":"a","":"b","":"c","":"d","":"e","":"f","":"g",:"h","":"i",:"j","":"k",:"l","":"m",:"n","":"o","":"p",:"r",:"s","":"t","":"u","":"v",:"w",:"x",:"y","":"z","":"","":"","":"","":"","":"","":""}),Jd={"":{text:"\\'",math:"\\acute"},"":{text:"\\`",math:"\\grave"},"":{text:'\\"',math:"\\ddot"},"":{text:"\\~",math:"\\tilde"},"":{text:"\\=",math:"\\bar"},"":{text:"\\u",math:"\\breve"},"":{text:"\\v",math:"\\check"},"":{text:"\\^",math:"\\hat"},"":{text:"\\.",math:"\\dot"},"":{text:"\\r",math:"\\mathring"},"":{text:"\\H"},"":{text:"\\c"}},sv={:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"a",:"b",:"c",:"c",:"c",:"c",:"c",:"c",:"d",:"d",:"d",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"e",:"f",:"g",:"g",:"g",:"g",:"g",:"g",:"g",:"h",:"h",:"h",:"h",:"h",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"i",:"j",:"j",:"k",:"k",:"k",:"l",:"l",:"l",:"m",:"m",:"n",:"n",:"n",:"n",:"n",:"n",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"o",:"p",:"p",:"r",:"r",:"r",:"r",:"s",:"s",:"s",:"s",:"s",:"s",:"s",:"t",:"t",:"t",:"t",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"u",:"v",:"w",:"w",:"w",:"w",:"w",:"w",:"x",:"x",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"y",:"z",:"z",:"z",:"z",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"A",:"B",:"C",:"C",:"C",:"C",:"C",:"C",:"D",:"D",:"D",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"E",:"F",:"G",:"G",:"G",:"G",:"G",:"G",:"G",:"H",:"H",:"H",:"H",:"H",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"I",:"J",:"K",:"K",:"K",:"L",:"L",:"L",:"M",:"M",:"N",:"N",:"N",:"N",:"N",:"N",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"O",:"P",:"P",:"R",:"R",:"R",:"R",:"S",:"S",:"S",:"S",:"S",:"S",:"S",:"T",:"T",:"T",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"U",:"V",:"W",:"W",:"W",:"W",:"W",:"X",:"X",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Y",:"Z",:"Z",:"Z",:"Z",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:"",:""};class N0{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new BN(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new X("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new zn("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(N0.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&Di[i.text]&&Di[i.text].infix)break;var a=this.parseAtom(n);if(a){if(a.type==="internal")continue}else break;r.push(a)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new X("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var a,s,o=e.slice(0,n),l=e.slice(n+1);o.length===1&&o[0].type==="ordgroup"?a=o[0]:a={type:"ordgroup",mode:this.mode,body:o},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[a,e[n],s],[]):u=this.callFunction(r,[a,s],[]),[u]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i;do{var a;i=this.parseGroup(e)}while(((a=i)==null?void 0:a.type)==="internal");if(!i)throw new X("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},a={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return a}parseAtom(e){var n=this.parseGroup("atom",e);if((n==null?void 0:n.type)==="internal"||this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var a=this.fetch();if(a.text==="\\limits"||a.text==="\\nolimits"){if(n&&n.type==="op"){var s=a.text==="\\limits";n.limits=s,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=a.text==="\\limits");else throw new X("Limit controls must follow a math operator",a);this.consume()}else if(a.text==="^"){if(r)throw new X("Double superscript",a);r=this.handleSupSubscript("superscript")}else if(a.text==="_"){if(i)throw new X("Double subscript",a);i=this.handleSupSubscript("subscript")}else if(a.text==="'"){if(r)throw new X("Double superscript",a);var o={type:"textord",mode:this.mode,text:"\\prime"},l=[o];for(this.consume();this.fetch().text==="'";)l.push(o),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(vu[a.text]){var u=av.test(a.text),c=[];for(c.push(new zn(vu[a.text])),this.consume();;){var f=this.fetch().text;if(!vu[f]||av.test(f)!==u)break;c.unshift(new zn(vu[f])),this.consume()}var p=this.subparse(c);u?i={type:"ordgroup",mode:"math",body:p}:r={type:"ordgroup",mode:"math",body:p}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,a=Di[i];if(!a)return null;if(this.consume(),n&&n!=="atom"&&!a.allowedInArgument)throw new X("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!a.allowedInText)throw new X("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&a.allowedInMath===!1)throw new X("Can't use function '"+i+"' in math mode",r);var{args:s,optArgs:o}=this.parseArguments(i,a);return this.callFunction(i,s,o,r,e)}callFunction(e,n,r,i,a){var s={funcName:e,parser:this,token:i,breakOnTokenText:a},o=Di[e];if(o&&o.handler)return o.handler(s,n,r);throw new X("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],a=[],s=0;s<r;s++){var o=n.argTypes&&n.argTypes[s],l=s<n.numOptionalArgs;(n.primitive&&o==null||n.type==="sqrt"&&s===1&&a[0]==null)&&(o="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",o,l);if(l)a.push(u);else if(u!=null)i.push(u);else throw new X("Null argument, please report this as a bug")}return{args:i,optArgs:a}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var a=this.parseStringGroup("raw",r);return a!=null?{type:"raw",mode:"text",string:a.text}:null}case"primitive":{if(r)throw new X("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new X("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new X("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",a;(a=this.fetch()).text!=="EOF";)i+=a.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,a="",s;(s=this.fetch()).text!=="EOF"&&e.test(a+s.text);)i=s,a+=i.text,this.consume();if(a==="")throw new X("Invalid "+n+": '"+r.text+"'",r);return r.range(i,a)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3,4}|#[a-f0-9]{6}|#[a-f0-9]{8}|[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new X("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new X("Invalid size: '"+n.text+"'",n);var a={number:+(i[1]+i[2]),unit:i[3]};if(!gb(a))throw new X("Invalid unit: '"+a.unit+"'",n);return{type:"size",mode:this.mode,value:a,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var a=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:r.loc,body:a};return n&&this.switchMode(i),s}parseGroup(e,n){var r=this.fetch(),i=r.text,a;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var o=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),a={type:"ordgroup",mode:this.mode,loc:dn.range(r,l),body:o,semisimple:i==="\\begingroup"||void 0}}else if(a=this.parseFunction(n,e)||this.parseSymbol(),a==null&&i[0]==="\\"&&!s7.hasOwnProperty(i)){if(this.settings.throwOnError)throw new X("Undefined control sequence: "+i,r);a=this.formatUnsupportedCmd(i),this.consume()}return a}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],a=i.text;a==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:dn.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:dn.range(i,e[r+1]),text:"--"}),n-=1)),(a==="'"||a==="`")&&e[r+1].text===a&&(e.splice(r,2,{type:"textord",mode:"text",loc:dn.range(i,e[r+1]),text:a+a}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new X(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}sv.hasOwnProperty(n[0])&&!We[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=sv[n[0]]+n.slice(1));var a=UN.exec(n);a&&(n=n.substring(0,a.index),n==="i"?n="":n==="j"&&(n=""));var s;if(We[this.mode][n]){this.settings.strict&&this.mode==="math"&&_f.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var o=We[this.mode][n].group,l=dn.range(e),u;if(Ck.hasOwnProperty(o)){var c=o;u={type:"atom",mode:this.mode,family:c,loc:l,text:n}}else u={type:o,mode:this.mode,loc:l,text:n};s=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(mb(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:dn.range(e),text:n};else return null;if(this.consume(),a)for(var f=0;f<a[0].length;f++){var p=a[0][f];if(!Jd[p])throw new X("Unknown accent ' "+p+"'",e);var m=Jd[p][this.mode]||Jd[p].text;if(!m)throw new X("Accent "+p+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:dn.range(e),label:m,isStretchy:!1,isShifty:!0,base:s}}return s}}N0.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var Pm=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new N0(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new X("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new zn("\\df@tag")])}]}return i},o7=function(e,n,r){n.textContent="";var i=Bm(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),o7=function(){throw new X("KaTeX doesn't work in quirks mode.")});var qN=function(e,n){var r=Bm(e,n).toMarkup();return r},HN=function(e,n){var r=new wm(n);return Pm(e,r)},l7=function(e,n,r){if(r.throwOnError||!(e instanceof X))throw e;var i=L.makeSpan(["katex-error"],[new Qn(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},Bm=function(e,n){var r=new wm(n);try{var i=Pm(e,r);return Xk(i,e,r)}catch(a){return l7(a,e,r)}},FN=function(e,n){var r=new wm(n);try{var i=Pm(e,r);return Wk(i,e,r)}catch(a){return l7(a,e,r)}},GN="0.16.27",VN={Span:ql,Anchor:_m,SymbolNode:Qn,SvgNode:ri,PathNode:Xi,LineNode:Sf},ov={version:GN,render:o7,renderToString:qN,ParseError:X,SETTINGS_SCHEMA:Xu,__parse:HN,__renderToDomTree:Bm,__renderToHTMLTree:FN,__setFontMetrics:bk,__defineSymbol:g,__defineFunction:ne,__defineMacro:A,__domTree:VN};const $N={};function YN(t){const e=this,n=t||$N,r=e.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push($C(n)),a.push(LC()),s.push(PC(n))}const lv=/[#.]/g;function KN(t,e){const n=t||"",r={};let i=0,a,s;for(;i<n.length;){lv.lastIndex=i;const o=lv.exec(n),l=n.slice(i,o?o.index:n.length);l&&(a?a==="#"?r.id=l:Array.isArray(r.className)?r.className.push(l):r.className=[l]:s=l,i+=l.length),o&&(a=o[0],i++)}return{type:"element",tagName:s||e||"div",properties:r,children:[]}}function u7(t,e,n){const r=n?WN(n):void 0;function i(a,s,...o){let l;if(a==null){l={type:"root",children:[]};const u=s;o.unshift(u)}else{l=KN(a,e);const u=l.tagName.toLowerCase(),c=r?r.get(u):void 0;if(l.tagName=c||u,JN(s))o.unshift(s);else for(const[f,p]of Object.entries(s))jN(t,l.properties,f,p)}for(const u of o)Nf(l.children,u);return l.type==="element"&&l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}return i}function JN(t){if(t===null||typeof t!="object"||Array.isArray(t))return!0;if(typeof t.type!="string")return!1;const e=t,n=Object.keys(t);for(const r of n){const i=e[r];if(i&&typeof i=="object"){if(!Array.isArray(i))return!0;const a=i;for(const s of a)if(typeof s!="number"&&typeof s!="string")return!0}}return!!("children"in t&&Array.isArray(t.children))}function jN(t,e,n,r){const i=O6(t,n);let a;if(r!=null){if(typeof r=="number"){if(Number.isNaN(r))return;a=r}else typeof r=="boolean"?a=r:typeof r=="string"?i.spaceSeparated?a=Bg(r):i.commaSeparated?a=zg(r):i.commaOrSpaceSeparated?a=Bg(zg(r).join(" ")):a=uv(i,i.property,r):Array.isArray(r)?a=[...r]:a=i.property==="style"?XN(r):String(r);if(Array.isArray(a)){const s=[];for(const o of a)s.push(uv(i,i.property,o));a=s}i.property==="className"&&Array.isArray(e.className)&&(a=e.className.concat(a)),e[i.property]=a}}function Nf(t,e){if(e!=null)if(typeof e=="number"||typeof e=="string")t.push({type:"text",value:String(e)});else if(Array.isArray(e))for(const n of e)Nf(t,n);else if(typeof e=="object"&&"type"in e)e.type==="root"?Nf(t,e.children):t.push(e);else throw new Error("Expected node, nodes, or string, got `"+e+"`")}function uv(t,e,n){if(typeof n=="string"){if(t.number&&n&&!Number.isNaN(Number(n)))return Number(n);if((t.boolean||t.overloadedBoolean)&&(n===""||pl(n)===pl(e)))return!0}return n}function XN(t){const e=[];for(const[n,r]of Object.entries(t))e.push([n,r].join(": "));return e.join("; ")}function WN(t){const e=new Map;for(const n of t)e.set(n.toLowerCase(),n);return e}const QN=["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","solidColor","textArea","textPath"],ZN=u7(L6,"div"),eR=u7(v0,"g",QN),jd={html:"http://www.w3.org/1999/xhtml",svg:"http://www.w3.org/2000/svg"};function tR(t,e){return c7(t,{})||{type:"root",children:[]}}function c7(t,e){const n=nR(t,e);return n&&e.afterTransform&&e.afterTransform(t,n),n}function nR(t,e){switch(t.nodeType){case 1:return sR(t,e);case 3:return iR(t);case 8:return aR(t);case 9:return cv(t,e);case 10:return rR();case 11:return cv(t,e);default:return}}function cv(t,e){return{type:"root",children:d7(t,e)}}function rR(){return{type:"doctype"}}function iR(t){return{type:"text",value:t.nodeValue||""}}function aR(t){return{type:"comment",value:t.nodeValue||""}}function sR(t,e){const n=t.namespaceURI,r=n===jd.svg?eR:ZN,i=n===jd.html?t.tagName.toLowerCase():t.tagName,a=n===jd.html&&i==="template"?t.content:t,s=t.getAttributeNames(),o={};let l=-1;for(;++l<s.length;)o[s[l]]=t.getAttribute(s[l])||"";return r(i,o,d7(a,e))}function d7(t,e){const n=t.childNodes,r=[];let i=-1;for(;++i<n.length;){const a=c7(n[i],e);a!==void 0&&r.push(a)}return r}new DOMParser;function oR(t,e){const n=lR(t);return tR(n)}function lR(t){const e=document.createElement("template");return e.innerHTML=t,e.content}const dv=function(t,e,n){const r=vm(n);if(!t||!t.type||!t.children)throw new Error("Expected parent node");if(typeof e=="number"){if(e<0||e===Number.POSITIVE_INFINITY)throw new Error("Expected positive finite number as index")}else if(e=t.children.indexOf(e),e<0)throw new Error("Expected child node or index");for(;++e<t.children.length;)if(r(t.children[e],e,t))return t.children[e]},La=function(t){if(t==null)return dR;if(typeof t=="string")return cR(t);if(typeof t=="object")return uR(t);if(typeof t=="function")return qm(t);throw new Error("Expected function, string, or array as `test`")};function uR(t){const e=[];let n=-1;for(;++n<t.length;)e[n]=La(t[n]);return qm(r);function r(...i){let a=-1;for(;++a<e.length;)if(e[a].apply(this,i))return!0;return!1}}function cR(t){return qm(e);function e(n){return n.tagName===t}}function qm(t){return e;function e(n,r,i){return!!(hR(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function dR(t){return!!(t&&typeof t=="object"&&"type"in t&&t.type==="element"&&"tagName"in t&&typeof t.tagName=="string")}function hR(t){return t!==null&&typeof t=="object"&&"type"in t&&"tagName"in t}const hv=/\n/g,fv=/[\t ]+/g,Rf=La("br"),pv=La(wR),fR=La("p"),mv=La("tr"),pR=La(["datalist","head","noembed","noframes","noscript","rp","script","style","template","title",bR,xR]),h7=La(["address","article","aside","blockquote","body","caption","center","dd","dialog","dir","dl","dt","div","figure","figcaption","footer","form,","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","legend","li","listing","main","menu","nav","ol","p","plaintext","pre","section","ul","xmp"]);function mR(t,e){const n=e||{},r="children"in t?t.children:[],i=h7(t),a=m7(t,{whitespace:n.whitespace||"normal"}),s=[];(t.type==="text"||t.type==="comment")&&s.push(...p7(t,{breakBefore:!0,breakAfter:!0}));let o=-1;for(;++o<r.length;)s.push(...f7(r[o],t,{whitespace:a,breakBefore:o?void 0:i,breakAfter:o<r.length-1?Rf(r[o+1]):i}));const l=[];let u;for(o=-1;++o<s.length;){const c=s[o];typeof c=="number"?u!==void 0&&c>u&&(u=c):c&&(u!==void 0&&u>-1&&l.push(`
`.repeat(u)||" "),u=-1,l.push(c))}return l.join("")}function f7(t,e,n){return t.type==="element"?gR(t,e,n):t.type==="text"?n.whitespace==="normal"?p7(t,n):yR(t):[]}function gR(t,e,n){const r=m7(t,n),i=t.children||[];let a=-1,s=[];if(pR(t))return s;let o,l;for(Rf(t)||mv(t)&&dv(e,t,mv)?l=`
`:fR(t)?(o=2,l=2):h7(t)&&(o=1,l=1);++a<i.length;)s=s.concat(f7(i[a],t,{whitespace:r,breakBefore:a?void 0:o,breakAfter:a<i.length-1?Rf(i[a+1]):l}));return pv(t)&&dv(e,t,pv)&&s.push("	"),o&&s.unshift(o),l&&s.push(l),s}function p7(t,e){const n=String(t.value),r=[],i=[];let a=0;for(;a<=n.length;){hv.lastIndex=a;const l=hv.exec(n),u=l&&"index"in l?l.index:n.length;r.push(vR(n.slice(a,u).replace(/[\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,""),a===0?e.breakBefore:!0,u===n.length?e.breakAfter:!0)),a=u+1}let s=-1,o;for(;++s<r.length;)r[s].charCodeAt(r[s].length-1)===8203||s<r.length-1&&r[s+1].charCodeAt(0)===8203?(i.push(r[s]),o=void 0):r[s]?(typeof o=="number"&&i.push(o),i.push(r[s]),o=0):(s===0||s===r.length-1)&&i.push(0);return i}function yR(t){return[String(t.value)]}function vR(t,e,n){const r=[];let i=0,a;for(;i<t.length;){fv.lastIndex=i;const s=fv.exec(t);a=s?s.index:t.length,!i&&!a&&s&&!e&&r.push(""),i!==a&&r.push(t.slice(i,a)),i=s?a+s[0].length:a}return i!==a&&!n&&r.push(""),r.join(" ")}function m7(t,e){if(t.type==="element"){const n=t.properties||{};switch(t.tagName){case"listing":case"plaintext":case"xmp":return"pre";case"nobr":return"nowrap";case"pre":return n.wrap?"pre-wrap":"pre";case"td":case"th":return n.noWrap?"nowrap":e.whitespace;case"textarea":return"pre-wrap"}}return e.whitespace}function bR(t){return!!(t.properties||{}).hidden}function wR(t){return t.tagName==="td"||t.tagName==="th"}function xR(t){return t.tagName==="dialog"&&!(t.properties||{}).open}const SR={},_R=[];function TR(t){const e=t||SR;return function(n,r){cb(n,"element",function(i,a){const s=Array.isArray(i.properties.className)?i.properties.className:_R,o=s.includes("language-math"),l=s.includes("math-display"),u=s.includes("math-inline");let c=l;if(!o&&!l&&!u)return;let f=a[a.length-1],p=i;if(i.tagName==="code"&&o&&f&&f.type==="element"&&f.tagName==="pre"&&(p=f,f=a[a.length-2],c=!0),!f)return;const m=mR(p,{whitespace:"pre"});let y;try{y=ov.renderToString(m,{...e,displayMode:c,throwOnError:!0})}catch(E){const b=E,S=b.name.toLowerCase();r.message("Could not render math with KaTeX",{ancestors:[...a,i],cause:b,place:i.position,ruleId:S,source:"rehype-katex"});try{y=ov.renderToString(m,{...e,displayMode:c,strict:"ignore",throwOnError:!1})}catch{y=[{type:"element",tagName:"span",properties:{className:["katex-error"],style:"color:"+(e.errorColor||"#cc0000"),title:String(E)},children:[{type:"text",value:m}]}]}}typeof y=="string"&&(y=oR(y).children);const w=f.children.indexOf(p);return f.children.splice(w,1,...y),ub})}}const ER=({src:t})=>{const[e,n]=ee.useState(!1);return e?x.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center bg-slate-100 text-slate-300 gap-2",children:[x.jsx(S9,{size:32}),x.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:""})]}):x.jsx("img",{src:t,loading:"lazy",decoding:"async",onError:()=>n(!0),className:"w-full h-full object-cover transition-transform duration-500 group-hover/card:scale-105",alt:"Mistake Thumbnail"})},AR=({mistakes:t,onAddNew:e,onEdit:n,onDelete:r,onUpdateMistake:i,language:a,viewState:s,setViewState:o,selectedSemester:l,setSelectedSemester:u,selectedSubject:c,setSelectedSubject:f,onCustomAnalyze:p})=>{var oe;const m=fl.zh,[y,w]=ee.useState(""),[E,b]=ee.useState(new Set),[S,_]=ee.useState(null),[C,I]=ee.useState(null),k=H=>H.trim(),D=ee.useMemo(()=>{const H=new Set;return t.forEach(q=>H.add(k(q.semester||""))),Array.from(H).sort((q,V)=>V.localeCompare(q))},[t]),B=ee.useMemo(()=>{if(!l)return[];const H=new Set,q=k(l);return t.forEach(V=>{k(V.semester||"")===q&&H.add(V.subject)}),Array.from(H).sort()},[t,l]),O=ee.useMemo(()=>{let H=t;s==="subjects"?H=t.filter(V=>k(V.semester||"")===k(l||"")):s==="review"&&(H=t.filter(V=>k(V.semester||"")===k(l||"")&&V.subject===c));const q=new Set;return H.forEach(V=>{var P;(P=V.tags)==null||P.forEach(le=>q.add(le))}),Array.from(q).sort()},[t,s,l,c]),F=ee.useMemo(()=>{let H=t;s==="subjects"?H=t.filter(V=>k(V.semester||"")===k(l||"")):s==="review"&&(H=t.filter(V=>k(V.semester||"")===k(l||"")&&V.subject===c));const q=y.trim().toLowerCase();return H.filter(V=>{var Fe,nt;if(!q)return!0;const P=(Fe=V.tags)==null?void 0:Fe.some(rt=>rt.toLowerCase().includes(q)),le=(nt=V.semester)==null?void 0:nt.toLowerCase().includes(q),R=V.subject.toLowerCase(),Me=(fl[a][`subj_${V.subject}`]||"").toLowerCase(),Re=R.includes(q)||Me.includes(q),z=V.questionText&&V.questionText.toLowerCase().includes(q)||V.aiAnalysis&&V.aiAnalysis.toLowerCase().includes(q);return P||le||Re||z})},[t,s,l,c,y,a]),Y=async(H,q=!1)=>{b(V=>new Set(V).add(H.id));try{const V=await p(H);if(V){const P={...H,aiAnalysis:V};i(P),(S==null?void 0:S.id)===H.id?_(P):q||_(P)}}catch(V){alert(": "+V.message)}finally{b(V=>{const P=new Set(V);return P.delete(H.id),P})}},J=(H,q)=>{H.preventDefault(),H.stopPropagation(),q()},ie=H=>{w(y===H?"":H)};return x.jsxs("div",{className:"flex-1 flex flex-col min-h-0 animate-soft",children:[x.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[x.jsxs("div",{className:"flex flex-col gap-1",children:[x.jsxs("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:[s==="semesters"&&"",s==="subjects"&&l,s==="review"&&`${l}  ${m[`subj_${c}`]}`,s==="all"&&""]}),x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsxs("span",{className:"text-[10px] font-bold text-blue-500 bg-blue-50 px-2 py-0.5 rounded uppercase tracking-widest",children:[" ",F.length," "]}),s!=="semesters"&&s!=="all"&&x.jsxs("button",{onClick:()=>{w(""),o(s==="review"?"subjects":"semesters")},className:"text-[10px] font-bold text-slate-400 hover:text-blue-600 uppercase flex items-center gap-1 p-1",children:[x.jsx(CR,{size:10})," "]})]})]}),x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsxs("div",{className:"relative w-full md:w-64",children:[x.jsx(q9,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300",size:14}),x.jsx("input",{type:"text",placeholder:"...",value:y,onChange:H=>w(H.target.value),className:"w-full bg-white border border-slate-100 rounded-xl py-2.5 pl-9 pr-4 text-xs focus:ring-1 focus:ring-blue-100 transition-all outline-none text-slate-600 shadow-sm"}),y&&x.jsx("button",{onClick:()=>w(""),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-300 hover:text-slate-500 p-1","aria-label":"",children:x.jsx(Cs,{size:12})})]}),x.jsxs("div",{className:"flex p-1 bg-slate-100/50 rounded-xl shrink-0",children:[x.jsxs("button",{onClick:()=>{w(""),o("all")},className:`px-4 py-1.5 rounded-lg text-[11px] font-bold transition-all ${s==="all"?"bg-white text-blue-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[x.jsx(i9,{size:14,className:"inline mr-1.5"})," "]}),x.jsxs("button",{onClick:()=>{w(""),o("semesters")},className:`px-4 py-1.5 rounded-lg text-[11px] font-bold transition-all ${s!=="all"?"bg-white text-blue-600 shadow-sm":"text-slate-400 hover:text-slate-600"}`,children:[x.jsx(of,{size:14,className:"inline mr-1.5"})," "]})]})]})]}),(s==="review"||s==="all")&&O.length>0&&x.jsxs("div",{className:"flex items-center gap-3 mb-6 bg-slate-50/50 p-3 rounded-2xl border border-slate-100 overflow-hidden",children:[x.jsxs("div",{className:"flex items-center gap-1.5 text-slate-400 shrink-0",children:[x.jsx(y9,{size:12}),x.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:""})]}),x.jsx("div",{className:"flex flex-wrap gap-2 overflow-x-auto no-scrollbar",children:O.map(H=>x.jsx("button",{onClick:()=>ie(H),className:`px-3 py-1 rounded-lg text-[10px] font-bold whitespace-nowrap transition-all border ${y===H?"bg-blue-600 border-blue-600 text-white shadow-sm":"bg-white border-slate-100 text-slate-500 hover:border-blue-200"}`,children:H},H))})]}),x.jsxs("div",{className:"flex-1 overflow-y-auto pr-1",children:[s==="semesters"&&x.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:[D.map(H=>x.jsxs(Ii,{onClick:()=>{u(H),o("subjects")},className:"p-7 flex items-center justify-between group hover:border-blue-200 transition-all",children:[x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"w-12 h-12 flex items-center justify-center rounded-2xl bg-blue-50 text-blue-500 group-hover:bg-blue-600 group-hover:text-white transition-all",children:x.jsx(of,{size:22})}),x.jsxs("div",{className:"flex flex-col text-left",children:[x.jsx("span",{className:"font-bold text-slate-700",children:H}),x.jsxs("span",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:[t.filter(q=>k(q.semester||"")===k(H)).length," "]})]})]}),x.jsx(QS,{className:"text-slate-200 group-hover:text-blue-500 transition-colors",size:20})]},H)),D.length===0&&x.jsxs("div",{className:"col-span-full py-20 flex flex-col items-center text-slate-300",children:[x.jsx(Vo,{size:48,className:"mb-4 opacity-20"}),x.jsx("p",{className:"text-sm font-bold uppercase tracking-widest",children:""})]})]}),s==="subjects"&&x.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:B.map(H=>x.jsxs(Ii,{onClick:()=>{f(H),o("review")},className:"p-6 flex flex-col items-center text-center gap-3 hover:border-blue-300",children:[x.jsx("div",{className:"w-14 h-14 flex items-center justify-center rounded-full bg-slate-50 text-blue-600 mb-2",children:x.jsx(lf,{size:24})}),x.jsx("span",{className:"font-bold text-slate-700",children:m[`subj_${H}`]||H}),x.jsxs("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:[t.filter(q=>k(q.semester||"")===k(l)&&q.subject===H).length," "]})]},H))}),(s==="review"||s==="all")&&x.jsxs(x.Fragment,{children:[x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-24",children:F.map((H,q)=>{var V;return x.jsxs("div",{className:"group/card flex flex-col bg-white border border-slate-100 rounded-2xl overflow-hidden shadow-sm hover:shadow-xl transition-all duration-300 animate-in fade-in slide-in-from-bottom-2",children:[x.jsxs("div",{className:"relative aspect-[4/3] bg-slate-50 cursor-pointer overflow-hidden",onClick:()=>H.imageUrl&&I(H.imageUrl),children:[x.jsxs("div",{className:"absolute top-3 left-3 z-10 text-[9px] font-bold text-blue-500 bg-white/90 px-2 py-1 rounded-lg border border-blue-50",children:["# ",String(q+1).padStart(2,"0")]}),x.jsx("div",{className:"absolute inset-0 bg-slate-900/0 group-hover/card:bg-slate-900/20 transition-all flex items-center justify-center opacity-0 group-hover/card:opacity-100",children:x.jsx(D9,{className:"text-white",size:24})}),H.imageUrl?x.jsx(ER,{src:H.imageUrl}):x.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-200",children:x.jsx(Vo,{size:40})})]}),x.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[x.jsxs("div",{className:"flex items-center justify-between mb-4",children:[x.jsx("div",{className:"flex flex-wrap gap-1 flex-1",children:(V=H.tags)==null?void 0:V.map(P=>x.jsx("span",{onClick:le=>J(le,()=>ie(P)),className:"text-[9px] font-bold text-blue-500 bg-blue-50/50 px-2 py-0.5 rounded cursor-pointer hover:bg-blue-100 transition-colors",children:P},P))}),x.jsxs("div",{className:"flex gap-1 ml-2",children:[x.jsx("button",{onClick:P=>J(P,()=>n(H)),className:"p-2 text-slate-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-all","aria-label":"",children:x.jsx(U9,{size:15})}),x.jsx("button",{onClick:P=>J(P,()=>r(H.id)),className:"p-2 text-slate-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-all","aria-label":"",children:x.jsx(hl,{size:15})})]})]}),x.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[x.jsx("span",{className:"text-[10px] font-bold text-slate-400 px-2 py-1 bg-slate-50 rounded-md",children:m[`subj_${H.subject}`]}),x.jsx("span",{className:"text-[9px] font-bold text-slate-300 uppercase truncate",children:H.semester})]}),x.jsx("div",{className:"mt-auto",children:x.jsxs("button",{onClick:()=>H.aiAnalysis?_(H):Y(H),className:"w-full py-2.5 rounded-xl text-[11px] font-bold transition-all flex items-center justify-center gap-2 border border-slate-100 bg-white text-slate-500 hover:border-blue-300 hover:text-blue-600 hover:bg-blue-50/30 shadow-sm",children:[E.has(H.id)?x.jsx(Dc,{size:14,className:"animate-spin"}):x.jsx(Sd,{size:14}),H.aiAnalysis?"":"AI "]})})]})]},H.id)})}),F.length===0&&y&&x.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-slate-400 animate-in fade-in",children:[x.jsx(e9,{size:40,className:"mb-4 text-slate-300"}),x.jsx("p",{className:"text-sm font-bold text-slate-500",children:""}),x.jsx("button",{onClick:()=>w(""),className:"mt-4 text-xs font-bold text-blue-600 hover:underline",children:""})]})]})]}),S&&x.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4 md:p-8 animate-in fade-in duration-200",children:[x.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:()=>_(null)}),x.jsxs("div",{className:"relative bg-white w-full max-w-4xl max-h-full rounded-3xl shadow-2xl overflow-hidden flex flex-col animate-in zoom-in-95 duration-300",children:[x.jsx("div",{className:"absolute top-4 right-4 z-50 flex gap-2",children:x.jsx("button",{onClick:()=>_(null),className:"p-2 bg-white/90 rounded-full shadow-lg text-slate-400 hover:text-slate-800 transition-colors focus:outline-none","aria-label":"",children:x.jsx(Cs,{size:20})})}),x.jsxs("div",{className:"flex-1 overflow-y-auto no-scrollbar flex flex-col",children:[x.jsx("div",{className:"sticky top-0 z-20 bg-slate-50 flex items-center justify-center p-6 border-b border-slate-100 min-h-[300px] shrink-0",children:S.imageUrl?x.jsx("img",{src:S.imageUrl,className:"max-w-full max-h-[50vh] object-contain rounded-xl shadow-lg border-4 border-white",alt:"Question"}):x.jsxs("div",{className:"text-slate-300 flex flex-col items-center gap-2",children:[x.jsx(Vo,{size:48}),x.jsx("span",{className:"text-xs font-bold uppercase tracking-widest",children:""})]})}),x.jsxs("div",{className:"p-8 md:p-12 relative flex-1",children:[E.has(S.id)&&x.jsxs("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[2px] z-10 flex flex-col items-center justify-center",children:[x.jsx("div",{className:"w-12 h-12 rounded-2xl bg-blue-50 flex items-center justify-center text-blue-600 animate-bounce mb-4",children:x.jsx(Sd,{size:24})}),x.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase tracking-widest animate-pulse",children:"..."})]}),x.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[x.jsx("div",{className:"bg-blue-600 text-white p-2 rounded-xl shadow-lg shadow-blue-100",children:x.jsx(Sd,{size:20})}),x.jsxs("div",{className:"flex items-center gap-3",children:[x.jsxs("div",{children:[x.jsx("h2",{className:"text-lg font-bold text-slate-800",children:""}),x.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"AI Expert Analysis"})]}),S.aiAnalysis&&!E.has(S.id)&&x.jsxs("button",{onClick:()=>Y(S,!0),className:"p-1.5 text-blue-600 bg-blue-50 hover:bg-blue-600 hover:text-white rounded-lg transition-all shadow-sm flex items-center gap-1.5 ml-2","aria-label":"",children:[x.jsx(Dc,{size:14}),x.jsx("span",{className:"text-[10px] font-bold px-1",children:""})]})]})]}),x.jsx("div",{className:"prose prose-slate max-w-none text-sm leading-relaxed text-slate-600 font-serif-content",children:x.jsx(MC,{remarkPlugins:[YN],rehypePlugins:[TR],children:S.aiAnalysis||""})})]})]}),x.jsxs("div",{className:"bg-slate-50 px-8 py-4 flex items-center justify-between border-t border-slate-100 text-[10px] font-bold text-slate-400 uppercase tracking-widest shrink-0",children:[x.jsxs("div",{className:"flex gap-4",children:[x.jsx("span",{children:m[`subj_${S.subject}`]}),x.jsx("span",{children:S.semester})]}),x.jsx("div",{className:"flex gap-2",children:(oe=S.tags)==null?void 0:oe.map(H=>x.jsxs("span",{className:"bg-blue-50 text-blue-600 px-2 py-0.5 rounded-md",children:["#",H]},H))})]})]})]}),C&&x.jsx("div",{className:"fixed inset-0 z-[110] bg-slate-900/95 backdrop-blur-md flex items-center justify-center p-6",onClick:()=>I(null),children:x.jsxs("div",{className:"relative max-w-5xl w-full h-full flex items-center justify-center",children:[x.jsx("button",{className:"absolute top-4 right-4 text-white p-4","aria-label":"",children:x.jsx(Cs,{size:32})}),x.jsx("img",{src:C,className:"max-w-full max-h-full object-contain rounded-xl shadow-2xl",alt:"Fullscreen Preview"})]})})]})},CR=({size:t=14})=>x.jsx("svg",{width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:x.jsx("path",{d:"m15 18-6-6 6-6"})});var kR=Object.defineProperty,NR=(t,e,n)=>e in t?kR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,st=(t,e,n)=>NR(t,typeof e!="symbol"?e+"":e,n);const Fc={x:0,y:0,width:0,height:0,unit:"px"},Va=(t,e,n)=>Math.min(Math.max(t,e),n),RR=(...t)=>t.filter(e=>e&&typeof e=="string").join(" "),gv=(t,e)=>t===e||t.width===e.width&&t.height===e.height&&t.x===e.x&&t.y===e.y&&t.unit===e.unit;function MR(t,e,n,r){const i=mr(t,n,r);return t.width&&(i.height=i.width/e),t.height&&(i.width=i.height*e),i.y+i.height>r&&(i.height=r-i.y,i.width=i.height*e),i.x+i.width>n&&(i.width=n-i.x,i.height=i.width/e),t.unit==="%"?wi(i,n,r):i}function IR(t,e,n){const r=mr(t,e,n);return r.x=(e-r.width)/2,r.y=(n-r.height)/2,t.unit==="%"?wi(r,e,n):r}function wi(t,e,n){return t.unit==="%"?{...Fc,...t,unit:"%"}:{unit:"%",x:t.x?t.x/e*100:0,y:t.y?t.y/n*100:0,width:t.width?t.width/e*100:0,height:t.height?t.height/n*100:0}}function mr(t,e,n){return t.unit?t.unit==="px"?{...Fc,...t,unit:"px"}:{unit:"px",x:t.x?t.x*e/100:0,y:t.y?t.y*n/100:0,width:t.width?t.width*e/100:0,height:t.height?t.height*n/100:0}:{...Fc,...t,unit:"px"}}function yv(t,e,n,r,i,a=0,s=0,o=r,l=i){const u={...t};let c=Math.min(a,r),f=Math.min(s,i),p=Math.min(o,r),m=Math.min(l,i);e&&(e>1?(c=s?s*e:c,f=c/e,p=o*e):(f=a?a/e:f,c=f*e,m=l/e)),u.y<0&&(u.height=Math.max(u.height+u.y,f),u.y=0),u.x<0&&(u.width=Math.max(u.width+u.x,c),u.x=0);const y=r-(u.x+u.width);y<0&&(u.x=Math.min(u.x,r-c),u.width+=y);const w=i-(u.y+u.height);if(w<0&&(u.y=Math.min(u.y,i-f),u.height+=w),u.width<c&&((n==="sw"||n=="nw")&&(u.x-=c-u.width),u.width=c),u.height<f&&((n==="nw"||n=="ne")&&(u.y-=f-u.height),u.height=f),u.width>p&&((n==="sw"||n=="nw")&&(u.x-=p-u.width),u.width=p),u.height>m&&((n==="nw"||n=="ne")&&(u.y-=m-u.height),u.height=m),e){const E=u.width/u.height;if(E<e){const b=Math.max(u.width/e,f);(n==="nw"||n=="ne")&&(u.y-=b-u.height),u.height=b}else if(E>e){const b=Math.max(u.height*e,c);(n==="sw"||n=="nw")&&(u.x-=b-u.width),u.width=b}}return u}function DR(t,e,n,r){const i={...t};return e==="ArrowLeft"?r==="nw"?(i.x-=n,i.y-=n,i.width+=n,i.height+=n):r==="w"?(i.x-=n,i.width+=n):r==="sw"?(i.x-=n,i.width+=n,i.height+=n):r==="ne"?(i.y+=n,i.width-=n,i.height-=n):r==="e"?i.width-=n:r==="se"&&(i.width-=n,i.height-=n):e==="ArrowRight"&&(r==="nw"?(i.x+=n,i.y+=n,i.width-=n,i.height-=n):r==="w"?(i.x+=n,i.width-=n):r==="sw"?(i.x+=n,i.width-=n,i.height-=n):r==="ne"?(i.y-=n,i.width+=n,i.height+=n):r==="e"?i.width+=n:r==="se"&&(i.width+=n,i.height+=n)),e==="ArrowUp"?r==="nw"?(i.x-=n,i.y-=n,i.width+=n,i.height+=n):r==="n"?(i.y-=n,i.height+=n):r==="ne"?(i.y-=n,i.width+=n,i.height+=n):r==="sw"?(i.x+=n,i.width-=n,i.height-=n):r==="s"?i.height-=n:r==="se"&&(i.width-=n,i.height-=n):e==="ArrowDown"&&(r==="nw"?(i.x+=n,i.y+=n,i.width-=n,i.height-=n):r==="n"?(i.y+=n,i.height-=n):r==="ne"?(i.y+=n,i.width-=n,i.height-=n):r==="sw"?(i.x-=n,i.width+=n,i.height+=n):r==="s"?i.height+=n:r==="se"&&(i.width+=n,i.height+=n)),i}const $a={capture:!0,passive:!1};let zR=0;const yi=class ir extends ee.PureComponent{constructor(){super(...arguments),st(this,"docMoveBound",!1),st(this,"mouseDownOnCrop",!1),st(this,"dragStarted",!1),st(this,"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),st(this,"componentRef",ee.createRef()),st(this,"mediaRef",ee.createRef()),st(this,"resizeObserver"),st(this,"initChangeCalled",!1),st(this,"instanceId",`rc-${zR++}`),st(this,"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),st(this,"onCropPointerDown",e=>{const{crop:n,disabled:r}=this.props,i=this.getBox();if(!n)return;const a=mr(n,i.width,i.height);if(r)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const s=e.target.dataset.ord,o=!!s;let l=e.clientX,u=e.clientY,c=a.x,f=a.y;if(s){const p=e.clientX-i.x,m=e.clientY-i.y;let y=0,w=0;s==="ne"||s=="e"?(y=p-(a.x+a.width),w=m-a.y,c=a.x,f=a.y+a.height):s==="se"||s==="s"?(y=p-(a.x+a.width),w=m-(a.y+a.height),c=a.x,f=a.y):s==="sw"||s=="w"?(y=p-a.x,w=m-(a.y+a.height),c=a.x+a.width,f=a.y):(s==="nw"||s=="n")&&(y=p-a.x,w=m-a.y,c=a.x+a.width,f=a.y+a.height),l=c+i.x+y,u=f+i.y+w}this.evData={startClientX:l,startClientY:u,startCropX:c,startCropY:f,clientX:e.clientX,clientY:e.clientY,isResize:o,ord:s},this.mouseDownOnCrop=!0,this.setState({cropIsActive:!0})}),st(this,"onComponentPointerDown",e=>{const{crop:n,disabled:r,locked:i,keepSelection:a,onChange:s}=this.props,o=this.getBox();if(r||i||a&&n)return;e.cancelable&&e.preventDefault(),this.bindDocMove(),this.componentRef.current.focus({preventScroll:!0});const l=e.clientX-o.x,u=e.clientY-o.y,c={unit:"px",x:l,y:u,width:0,height:0};this.evData={startClientX:e.clientX,startClientY:e.clientY,startCropX:l,startCropY:u,clientX:e.clientX,clientY:e.clientY,isResize:!0},this.mouseDownOnCrop=!0,s(mr(c,o.width,o.height),wi(c,o.width,o.height)),this.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}),st(this,"onDocPointerMove",e=>{const{crop:n,disabled:r,onChange:i,onDragStart:a}=this.props,s=this.getBox();if(r||!n||!this.mouseDownOnCrop)return;e.cancelable&&e.preventDefault(),this.dragStarted||(this.dragStarted=!0,a&&a(e));const{evData:o}=this;o.clientX=e.clientX,o.clientY=e.clientY;let l;o.isResize?l=this.resizeCrop():l=this.dragCrop(),gv(n,l)||i(mr(l,s.width,s.height),wi(l,s.width,s.height))}),st(this,"onComponentKeyDown",e=>{const{crop:n,disabled:r,onChange:i,onComplete:a}=this.props;if(r)return;const s=e.key;let o=!1;if(!n)return;const l=this.getBox(),u=this.makePixelCrop(l),c=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?ir.nudgeStepLarge:e.shiftKey?ir.nudgeStepMedium:ir.nudgeStep;if(s==="ArrowLeft"?(u.x-=c,o=!0):s==="ArrowRight"?(u.x+=c,o=!0):s==="ArrowUp"?(u.y-=c,o=!0):s==="ArrowDown"&&(u.y+=c,o=!0),o){e.cancelable&&e.preventDefault(),u.x=Va(u.x,0,l.width-u.width),u.y=Va(u.y,0,l.height-u.height);const f=mr(u,l.width,l.height),p=wi(u,l.width,l.height);i(f,p),a&&a(f,p)}}),st(this,"onHandlerKeyDown",(e,n)=>{const{aspect:r=0,crop:i,disabled:a,minWidth:s=0,minHeight:o=0,maxWidth:l,maxHeight:u,onChange:c,onComplete:f}=this.props,p=this.getBox();if(a||!i)return;if(e.key==="ArrowUp"||e.key==="ArrowDown"||e.key==="ArrowLeft"||e.key==="ArrowRight")e.stopPropagation(),e.preventDefault();else return;const m=(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)?ir.nudgeStepLarge:e.shiftKey?ir.nudgeStepMedium:ir.nudgeStep,y=mr(i,p.width,p.height),w=DR(y,e.key,m,n),E=yv(w,r,n,p.width,p.height,s,o,l,u);if(!gv(i,E)){const b=wi(E,p.width,p.height);c(E,b),f&&f(E,b)}}),st(this,"onDocPointerDone",e=>{const{crop:n,disabled:r,onComplete:i,onDragEnd:a}=this.props,s=this.getBox();this.unbindDocMove(),!(r||!n)&&this.mouseDownOnCrop&&(this.mouseDownOnCrop=!1,this.dragStarted=!1,a&&a(e),i&&i(mr(n,s.width,s.height),wi(n,s.width,s.height)),this.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))}),st(this,"onDragFocus",()=>{var e;(e=this.componentRef.current)==null||e.scrollTo(0,0)})}get document(){return document}getBox(){const e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};const{x:n,y:r,width:i,height:a}=e.getBoundingClientRect();return{x:n,y:r,width:i,height:a}}componentDidUpdate(e){const{crop:n,onComplete:r}=this.props;if(r&&!e.crop&&n){const{width:i,height:a}=this.getBox();i&&a&&r(mr(n,i,a),wi(n,i,a))}}componentWillUnmount(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}bindDocMove(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,$a),this.document.addEventListener("pointerup",this.onDocPointerDone,$a),this.document.addEventListener("pointercancel",this.onDocPointerDone,$a),this.docMoveBound=!0)}unbindDocMove(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,$a),this.document.removeEventListener("pointerup",this.onDocPointerDone,$a),this.document.removeEventListener("pointercancel",this.onDocPointerDone,$a),this.docMoveBound=!1)}getCropStyle(){const{crop:e}=this.props;if(e)return{top:`${e.y}${e.unit}`,left:`${e.x}${e.unit}`,width:`${e.width}${e.unit}`,height:`${e.height}${e.unit}`}}dragCrop(){const{evData:e}=this,n=this.getBox(),r=this.makePixelCrop(n),i=e.clientX-e.startClientX,a=e.clientY-e.startClientY;return r.x=Va(e.startCropX+i,0,n.width-r.width),r.y=Va(e.startCropY+a,0,n.height-r.height),r}getPointRegion(e,n,r,i){const{evData:a}=this,s=a.clientX-e.x,o=a.clientY-e.y;let l;i&&n?l=n==="nw"||n==="n"||n==="ne":l=o<a.startCropY;let u;return r&&n?u=n==="nw"||n==="w"||n==="sw":u=s<a.startCropX,u?l?"nw":"sw":l?"ne":"se"}resolveMinDimensions(e,n,r=0,i=0){const a=Math.min(r,e.width),s=Math.min(i,e.height);return!n||!a&&!s?[a,s]:n>1?a?[a,a/n]:[s*n,s]:s?[s*n,s]:[a,a/n]}resizeCrop(){const{evData:e}=this,{aspect:n=0,maxWidth:r,maxHeight:i}=this.props,a=this.getBox(),[s,o]=this.resolveMinDimensions(a,n,this.props.minWidth,this.props.minHeight);let l=this.makePixelCrop(a);const u=this.getPointRegion(a,e.ord,s,o),c=e.ord||u;let f=e.clientX-e.startClientX,p=e.clientY-e.startClientY;(s&&c==="nw"||c==="w"||c==="sw")&&(f=Math.min(f,-s)),(o&&c==="nw"||c==="n"||c==="ne")&&(p=Math.min(p,-o));const m={unit:"px",x:0,y:0,width:0,height:0};u==="ne"?(m.x=e.startCropX,m.width=f,n?(m.height=m.width/n,m.y=e.startCropY-m.height):(m.height=Math.abs(p),m.y=e.startCropY-m.height)):u==="se"?(m.x=e.startCropX,m.y=e.startCropY,m.width=f,n?m.height=m.width/n:m.height=p):u==="sw"?(m.x=e.startCropX+f,m.y=e.startCropY,m.width=Math.abs(f),n?m.height=m.width/n:m.height=p):u==="nw"&&(m.x=e.startCropX+f,m.width=Math.abs(f),n?(m.height=m.width/n,m.y=e.startCropY-m.height):(m.height=Math.abs(p),m.y=e.startCropY+p));const y=yv(m,n,u,a.width,a.height,s,o,r,i);return n||ir.xyOrds.indexOf(c)>-1?l=y:ir.xOrds.indexOf(c)>-1?(l.x=y.x,l.width=y.width):ir.yOrds.indexOf(c)>-1&&(l.y=y.y,l.height=y.height),l.x=Va(l.x,0,a.width-l.width),l.y=Va(l.y,0,a.height-l.height),l}renderCropSelection(){const{ariaLabels:e=ir.defaultProps.ariaLabels,disabled:n,locked:r,renderSelectionAddon:i,ruleOfThirds:a,crop:s}=this.props,o=this.getCropStyle();if(s)return Be.createElement("div",{style:o,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":e.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!n&&!r&&Be.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},Be.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),Be.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),Be.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),Be.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),Be.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":e.nwDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"nw"),role:"button"}),Be.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":e.nDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"n"),role:"button"}),Be.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":e.neDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"ne"),role:"button"}),Be.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":e.eDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"e"),role:"button"}),Be.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":e.seDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"se"),role:"button"}),Be.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":e.sDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"s"),role:"button"}),Be.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":e.swDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"sw"),role:"button"}),Be.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":e.wDragHandle,onKeyDown:l=>this.onHandlerKeyDown(l,"w"),role:"button"})),i&&Be.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:l=>l.stopPropagation()},i(this.state)),a&&Be.createElement(Be.Fragment,null,Be.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),Be.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}makePixelCrop(e){const n={...Fc,...this.props.crop||{}};return mr(n,e.width,e.height)}render(){const{aspect:e,children:n,circularCrop:r,className:i,crop:a,disabled:s,locked:o,style:l,ruleOfThirds:u}=this.props,{cropIsActive:c,newCropIsBeingDrawn:f}=this.state,p=a?this.renderCropSelection():null,m=RR("ReactCrop",i,c&&"ReactCrop--active",s&&"ReactCrop--disabled",o&&"ReactCrop--locked",f&&"ReactCrop--new-crop",a&&e&&"ReactCrop--fixed-aspect",a&&r&&"ReactCrop--circular-crop",a&&u&&"ReactCrop--rule-of-thirds",!this.dragStarted&&a&&!a.width&&!a.height&&"ReactCrop--invisible-crop",r&&"ReactCrop--no-animate");return Be.createElement("div",{ref:this.componentRef,className:m,style:l},Be.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),a?Be.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},Be.createElement("defs",null,Be.createElement("mask",{id:`hole-${this.instanceId}`},Be.createElement("rect",{width:"100%",height:"100%",fill:"white"}),r?Be.createElement("ellipse",{cx:`${a.x+a.width/2}${a.unit}`,cy:`${a.y+a.height/2}${a.unit}`,rx:`${a.width/2}${a.unit}`,ry:`${a.height/2}${a.unit}`,fill:"black"}):Be.createElement("rect",{x:`${a.x}${a.unit}`,y:`${a.y}${a.unit}`,width:`${a.width}${a.unit}`,height:`${a.height}${a.unit}`,fill:"black"}))),Be.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:`url(#hole-${this.instanceId})`})):void 0,p)}};st(yi,"xOrds",["e","w"]),st(yi,"yOrds",["n","s"]),st(yi,"xyOrds",["nw","ne","se","sw"]),st(yi,"nudgeStep",1),st(yi,"nudgeStepMedium",10),st(yi,"nudgeStepLarge",100),st(yi,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});let UR=yi;const OR={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1};var Qu=(t=>(t.MATH="Mathematics",t.ENGLISH="English",t.CHINESE="Chinese",t.SCIENCE="Science",t.PHYSICS="Physics",t.CHEMISTRY="Chemistry",t.OTHER="Other",t))(Qu||{});const gr=t=>{const e=OR;return e&&(e[`VITE_${t}`]||e[`NEXT_PUBLIC_${t}`]||e[t])||""},Mt={username:!!gr("ADMIN_USERNAME"),supabaseUrl:!!gr("SUPABASE_URL"),supabaseKey:!!gr("SUPABASE_KEY")},Vt={username:gr("ADMIN_USERNAME")||"",language:"zh",aiModel:"gemini-3-flash-preview",geminiApiKey:gr("GEMINI_API_KEY")||gr("API_KEY"),openRouterApiKey:gr("OPENROUTER_API_KEY"),openRouterBaseUrl:"https://openrouter.ai/api/v1",useSupabase:!!gr("SUPABASE_URL"),supabaseConfig:{url:gr("SUPABASE_URL"),anonKey:gr("SUPABASE_KEY")}},zi=({children:t,variant:e="primary",size:n="md",isLoading:r,fullWidth:i,className:a="",...s})=>{const o="inline-flex items-center justify-center rounded-lg font-semibold tracking-tight transition-all duration-300 disabled:opacity-40 disabled:cursor-not-allowed",l={primary:"bg-blue-600 hover:bg-blue-700 text-white shadow-sm border border-transparent",secondary:"bg-white text-blue-600 border border-blue-100 hover:border-blue-400 hover:bg-blue-50/30",danger:"bg-white text-red-500 border border-red-100 hover:bg-red-50 hover:border-red-200",ghost:"bg-transparent text-slate-400 hover:text-blue-600",glass:"bg-blue-50/40 backdrop-blur-sm text-blue-700 border border-blue-100 hover:bg-white hover:shadow-sm"},u={sm:"px-3 py-1.5 text-[11px]",md:"px-5 py-2.5 text-xs",lg:"px-8 py-3.5 text-sm"};return x.jsxs("button",{className:`${o} ${l[e]} ${u[n]} ${i?"w-full":""} ${a}`,disabled:r||s.disabled,...s,children:[r?x.jsx("span",{className:"mr-2",children:x.jsxs("svg",{className:"animate-spin h-3.5 w-3.5 text-current",viewBox:"0 0 24 24",children:[x.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"3",fill:"none"}),x.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}):null,t]})},LR=()=>{const t=new Date,e=t.getFullYear(),n=t.getMonth()+1;return n>=2&&n<=8?`${e} `:`${n===1?e-1:e} `};function PR(t,e,n){return IR(MR({unit:"%",width:90},n,t,e),t,e)}const Xd=async t=>new Promise(e=>{const n=new Image;t.startsWith("data:")||(n.crossOrigin="anonymous"),n.onload=()=>{try{const r=document.createElement("canvas"),i=1280;let a=n.width,s=n.height;a>i&&(s=Math.round(s*i/a),a=i),r.width=a,r.height=s;const o=r.getContext("2d");if(o){o.fillStyle="#FFFFFF",o.fillRect(0,0,a,s),o.drawImage(n,0,0,a,s);let l=r.toDataURL("image/webp",.8);l.indexOf("image/webp")===-1&&(l=r.toDataURL("image/jpeg",.8)),e(l)}else e(t)}catch{e(t)}},n.onerror=()=>e(t),n.src=t}),BR=({onSave:t,onCancel:e,existingTags:n,initialData:r})=>{const i=fl.zh,[a,s]=ee.useState((r==null?void 0:r.subject)||Qu.MATH),[o,l]=ee.useState((r==null?void 0:r.semester)||LR()),[u,c]=ee.useState((r==null?void 0:r.tags)||[]),[f,p]=ee.useState(""),[m,y]=ee.useState((r==null?void 0:r.imageUrl)||null),[w,E]=ee.useState(!1),[b,S]=ee.useState(!1),[_,C]=ee.useState(),[I,k]=ee.useState(),D=ee.useRef(null),[B,O]=ee.useState(!1),[F,Y]=ee.useState("100vh");ee.useLayoutEffect(()=>{const P=()=>{Y(`${window.innerHeight}px`)};return P(),window.addEventListener("resize",P),()=>window.removeEventListener("resize",P)},[]);const J=P=>{var R;const le=(R=P.target.files)==null?void 0:R[0];le&&(E(!0),setTimeout(()=>{const Me=new FileReader;Me.onload=async()=>{try{const Re=Me.result,z=await Xd(Re);y(z),O(!0),S(!0)}catch{alert("")}finally{E(!1)}},Me.readAsDataURL(le)},50))},ie=async()=>{if(I&&D.current&&m){const P=D.current;E(!0),setTimeout(async()=>{try{const le=await qR(P,I),R=await Xd(le);y(R),O(!0),S(!1)}catch(le){alert(": "+(le.message||""))}finally{E(!1)}},100)}else S(!1)},oe=async()=>{if(!a||!o){alert("");return}E(!0),setTimeout(async()=>{try{let P=m||void 0;B&&P&&P.startsWith("data:")&&(P=await Xd(P)),t({subject:a,semester:o.trim(),imageUrl:P,tags:u,aiAnalysis:r==null?void 0:r.aiAnalysis},r==null?void 0:r.id)}catch{alert(""),E(!1)}},50)},H=()=>{const P=f.trim();P&&!u.includes(P)&&(c([...u,P]),p(""))},q=()=>w?x.jsx(Mc,{size:20,className:"animate-spin text-blue-600"}):b?x.jsx("button",{onClick:ie,className:"p-2 bg-blue-600 text-white rounded-full shadow-md animate-in zoom-in",children:x.jsx(JS,{size:20})}):m?x.jsx("button",{onClick:oe,className:"p-2 bg-blue-600 text-white rounded-full shadow-md animate-in zoom-in",children:x.jsx(C6,{size:20})}):null,V=()=>b?x.jsx("button",{onClick:()=>S(!1),className:"p-2 text-slate-500",children:x.jsx(qS,{size:24})}):x.jsx("button",{onClick:e,className:"p-2 text-slate-400",children:x.jsx(Cs,{size:24})});return x.jsxs("div",{className:"fixed inset-0 z-[60] bg-white flex flex-col w-full overflow-hidden animate-soft",style:{height:F},children:[x.jsxs("div",{className:"shrink-0 h-16 border-b border-slate-100 flex items-center justify-between px-4 bg-white z-[70] shadow-sm md:shadow-none",children:[x.jsx("div",{className:"flex w-16 justify-start",children:V()}),x.jsxs("div",{className:"flex flex-col items-center text-center",children:[x.jsx("h1",{className:"text-sm font-extrabold text-slate-800 tracking-tight uppercase",children:b?"":r?"":""}),!b&&x.jsx("span",{className:"text-[9px] font-bold text-blue-500 uppercase tracking-widest",children:o})]}),x.jsx("div",{className:"flex w-16 justify-end",children:q()})]}),x.jsxs("div",{className:"flex-1 flex md:flex-row relative w-full overflow-hidden min-h-0",children:[x.jsx("div",{className:`
              w-full md:w-80 bg-white z-[80] md:z-auto border-r border-slate-100 shrink-0 overflow-y-auto
              hidden md:block
            `,children:x.jsxs("div",{className:"p-6 space-y-8 pb-32",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-3 tracking-widest",children:""}),x.jsx("input",{type:"text",value:o,onChange:P=>l(P.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-xl text-xs py-3.5 px-4 font-semibold text-slate-600 outline-none focus:ring-1 focus:ring-blue-100"})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-3 tracking-widest",children:""}),x.jsx("div",{className:"grid grid-cols-3 md:grid-cols-2 gap-2",children:Object.values(Qu).map(P=>x.jsx("button",{type:"button",onClick:()=>s(P),className:`px-2 py-3 text-[10px] font-bold rounded-xl border transition-all ${a===P?"bg-blue-600 border-blue-600 text-white shadow-md":"bg-white border-slate-100 text-slate-400"}`,children:i[`subj_${P}`]||P},P))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-3 tracking-widest",children:""}),x.jsxs("div",{className:"flex gap-2",children:[x.jsx("input",{type:"text",value:f,onChange:P=>p(P.target.value),className:"flex-1 bg-slate-50 border border-slate-100 rounded-xl text-xs py-3.5 px-4 font-semibold outline-none focus:ring-1 focus:ring-blue-100",onKeyDown:P=>P.key==="Enter"&&(P.preventDefault(),H())}),x.jsx("button",{type:"button",onClick:()=>H(),className:"bg-blue-600 text-white p-3.5 rounded-xl shadow-lg shadow-blue-100",children:x.jsx(Ic,{size:18})})]}),x.jsx("div",{className:"flex flex-wrap gap-1.5 mt-4",children:u.map(P=>x.jsxs("span",{className:"bg-blue-50 text-blue-600 px-3 py-1.5 rounded-lg text-[10px] font-bold flex items-center gap-2",children:[P," ",x.jsx(Cs,{size:12,onClick:()=>c(u.filter(le=>le!==P)),className:"cursor-pointer"})]},P))})]})]})}),x.jsxs("div",{className:"flex-1 w-full h-full bg-slate-50/50 relative flex flex-col min-h-0 overflow-hidden",children:[x.jsxs("div",{className:"flex-1 w-full h-full relative overflow-hidden flex flex-col items-center justify-center p-4",children:[!m&&x.jsxs("div",{className:"flex flex-col items-center justify-center w-full h-full animate-in fade-in zoom-in duration-300",children:[x.jsxs("div",{className:"md:hidden w-full max-w-sm mb-8 space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-[9px] font-bold text-slate-400 uppercase mb-2 tracking-widest",children:""}),x.jsx("div",{className:"grid grid-cols-4 gap-1.5",children:Object.values(Qu).map(P=>x.jsx("button",{type:"button",onClick:()=>s(P),className:`px-2 py-2 text-[8px] font-bold rounded-lg border transition-all ${a===P?"bg-blue-600 border-blue-600 text-white shadow-md":"bg-white border-slate-100 text-slate-400 text-center truncate"}`,children:i[`subj_${P}`]||P},P))})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[9px] font-bold text-slate-400 uppercase mb-2 tracking-widest",children:""}),x.jsx("div",{className:"flex flex-wrap gap-1",children:n.length>0?n.map(P=>x.jsx("button",{type:"button",onClick:()=>!u.includes(P)&&c([...u,P]),className:`px-2 py-1 text-[8px] font-bold rounded-lg border transition-all ${u.includes(P)?"bg-blue-600 border-blue-600 text-white shadow-md":"bg-slate-50 border-slate-100 text-slate-400"}`,children:P},P)):x.jsx("span",{className:"text-[8px] text-slate-300",children:""})})]}),x.jsxs("div",{className:"flex gap-1.5",children:[x.jsx("input",{type:"text",value:f,onChange:P=>p(P.target.value),placeholder:"",className:"flex-1 bg-slate-50 border border-slate-100 rounded-lg text-[10px] py-2 px-2 font-semibold outline-none focus:ring-1 focus:ring-blue-100",onKeyDown:P=>P.key==="Enter"&&(P.preventDefault(),H())}),x.jsx("button",{type:"button",onClick:()=>H(),className:"bg-blue-600 text-white p-2 rounded-lg shadow-md",children:x.jsx(Ic,{size:14})})]}),u.length>0&&x.jsx("div",{className:"flex flex-wrap gap-1",children:u.map(P=>x.jsxs("span",{className:"bg-blue-50 text-blue-600 px-2 py-1 rounded-md text-[8px] font-bold flex items-center gap-1",children:[P," ",x.jsx(Cs,{size:10,onClick:()=>c(u.filter(le=>le!==P)),className:"cursor-pointer"})]},P))})]}),x.jsxs("label",{className:"group flex flex-col items-center justify-center w-full max-w-sm aspect-square border-2 border-dashed border-slate-200 rounded-[2.5rem] bg-white hover:border-blue-400 cursor-pointer transition-all shadow-xl z-10 mx-4 active:scale-95",children:[x.jsx("input",{type:"file",className:"hidden",accept:"image/*",capture:"environment",onChange:J}),x.jsx("div",{className:"w-20 h-20 bg-blue-50 text-blue-500 rounded-3xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform",children:x.jsx(YS,{size:40})}),x.jsx("span",{className:"text-[14px] font-bold text-slate-600 tracking-tight",children:""}),x.jsx("span",{className:"text-[9px] font-bold text-slate-300 uppercase tracking-widest mt-1",children:"Automatic WebP Compression"})]})]}),m&&x.jsx("div",{className:`relative w-full h-full flex flex-col items-center justify-center ${b?"touch-none":""}`,children:b?x.jsx(UR,{crop:_,onChange:P=>C(P),onComplete:P=>k(P),className:"max-h-full",style:{maxHeight:"100%"},children:x.jsx("img",{ref:D,src:m,style:{maxHeight:"calc(100vh - 8rem)",maxWidth:"100%",objectFit:"contain"},onLoad:P=>C(PR(P.currentTarget.width,P.currentTarget.height,1)),alt:"Crop"})}):x.jsx("div",{className:"flex flex-col items-center justify-center gap-4 w-full h-full",children:x.jsx("img",{src:m,className:"max-h-[calc(100%-120px)] max-w-full object-contain rounded-xl shadow-lg border-2 border-white",alt:"Preview"})})}),m&&!b&&x.jsxs("div",{className:"md:hidden absolute bottom-6 left-0 right-0 flex justify-center gap-6 z-10",children:[x.jsx("button",{onClick:()=>{y(null),O(!1)},className:"p-3 bg-white/90 backdrop-blur rounded-full text-red-400 shadow-lg border border-red-50",children:x.jsx(hl,{size:20})}),x.jsx("button",{onClick:()=>S(!0),className:"p-3 bg-white/90 backdrop-blur rounded-full text-blue-600 shadow-lg border border-blue-50",children:x.jsx(Ig,{size:20})})]}),w&&x.jsxs("div",{className:"absolute inset-0 z-50 bg-white/90 backdrop-blur-sm flex flex-col items-center justify-center",children:[x.jsx(Mc,{className:"animate-spin text-blue-600 mb-4",size:48}),x.jsx("span",{className:"text-[11px] font-extrabold text-slate-500 uppercase tracking-widest",children:"..."})]})]}),m&&x.jsx("div",{className:"hidden md:block shrink-0 w-full bg-white border-t border-slate-100 p-6 z-[50]",children:x.jsx("div",{className:"max-w-xl mx-auto flex items-center justify-between gap-6",children:b?x.jsxs(x.Fragment,{children:[x.jsx("button",{onClick:()=>S(!1),className:"flex-1 py-4 text-xs font-bold text-slate-400 hover:text-slate-600 transition-colors",children:""}),x.jsx(zi,{onClick:ie,className:"flex-[3] h-14 rounded-2xl font-bold shadow-xl shadow-blue-100 text-sm",children:""})]}):x.jsxs(x.Fragment,{children:[x.jsxs("button",{onClick:()=>S(!0),disabled:w,className:"flex flex-col items-center gap-1 group w-16",children:[x.jsx("div",{className:"p-3.5 rounded-2xl bg-slate-50 text-slate-400 group-hover:bg-blue-50 group-hover:text-blue-600 transition-all shadow-sm",children:x.jsx(Ig,{size:22})}),x.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:""})]}),x.jsx(zi,{size:"lg",onClick:oe,isLoading:w,className:"flex-1 h-14 rounded-[1.25rem] font-bold shadow-2xl shadow-blue-200 text-base tracking-tight",children:""}),x.jsxs("button",{onClick:()=>{y(null),O(!1)},disabled:w,className:"flex flex-col items-center gap-1 group w-16",children:[x.jsx("div",{className:"p-3.5 rounded-2xl bg-red-50 text-red-300 group-hover:bg-red-500 group-hover:text-white transition-all shadow-sm",children:x.jsx(hl,{size:22})}),x.jsx("span",{className:"text-[9px] font-bold text-red-300 uppercase tracking-widest mt-1",children:""})]})]})})})]})]})]})};function qR(t,e){const n=document.createElement("canvas");if(!t.naturalWidth||!t.naturalHeight||!t.width||!t.height)return Promise.reject(new Error(""));const r=t.naturalWidth/t.width,i=t.naturalHeight/t.height;if(n.width=e.width*r,n.height=e.height*i,n.width<=0||n.height<=0)return Promise.reject(new Error(""));const a=n.getContext("2d");if(!a)return Promise.reject(new Error("Canvas Error"));a.fillStyle="#FFFFFF",a.fillRect(0,0,n.width,n.height);try{return a.drawImage(t,e.x*r,e.y*i,e.width*r,e.height*i,0,0,e.width*r,e.height*i),Promise.resolve(n.toDataURL("image/webp",.8))}catch(s){return Promise.reject(s)}}var HR={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let FR,GR;function VR(){return{geminiUrl:FR,vertexUrl:GR}}function $R(t,e,n,r){var i,a;if(!(t!=null&&t.baseUrl)){const s=VR();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(a=s.geminiUrl)!==null&&a!==void 0?a:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ui{}function te(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const a=e[i];return a!=null?String(a):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function h(t,e,n){for(let a=0;a<e.length-1;a++){const s=e[a];if(s.endsWith("[]")){const o=s.slice(0,-2);if(!(o in t))if(Array.isArray(n))t[o]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[o])){const l=t[o];if(Array.isArray(n))for(let u=0;u<l.length;u++){const c=l[u];h(c,e.slice(a+1),n[u])}else for(const u of l)h(u,e.slice(a+1),n)}return}else if(s.endsWith("[0]")){const o=s.slice(0,-3);o in t||(t[o]=[{}]);const l=t[o];h(l[0],e.slice(a+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function d(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const a=i.slice(0,-2);if(a in t){const s=t[a];return Array.isArray(s)?s.map(o=>d(o,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function YR(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),a=r.split("."),s=new Set;let o=-1;for(let l=0;l<i.length;l++)if(i[l]==="*"){o=l;break}if(o!==-1&&a.length>o)for(let l=o;l<a.length;l++){const u=a[l];u!=="*"&&!u.endsWith("[]")&&!u.endsWith("[0]")&&s.add(u)}Mf(t,i,a,0,s)}}function Mf(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const a=e[r];if(a.endsWith("[]")){const s=a.slice(0,-2),o=t;if(s in o&&Array.isArray(o[s]))for(const l of o[s])Mf(l,e,n,r+1,i)}else if(a==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,o=Object.keys(s).filter(u=>!u.startsWith("_")&&!i.has(u)),l={};for(const u of o)l[u]=s[u];for(const[u,c]of Object.entries(l)){const f=[];for(const p of n.slice(r))p==="*"?f.push(u):f.push(p);h(s,f,c)}for(const u of o)delete s[u]}}else{const s=t;a in s&&Mf(s[a],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hm(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KR(t){const e={},n=d(t,["operationName"]);n!=null&&h(e,["operationName"],n);const r=d(t,["resourceName"]);return r!=null&&h(e,["_url","resourceName"],r),e}function JR(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const i=d(t,["done"]);i!=null&&h(e,["done"],i);const a=d(t,["error"]);a!=null&&h(e,["error"],a);const s=d(t,["response","generateVideoResponse"]);return s!=null&&h(e,["response"],XR(s)),e}function jR(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const i=d(t,["done"]);i!=null&&h(e,["done"],i);const a=d(t,["error"]);a!=null&&h(e,["error"],a);const s=d(t,["response"]);return s!=null&&h(e,["response"],WR(s)),e}function XR(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>QR(s))),h(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&h(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&h(e,["raiMediaFilteredReasons"],i),e}function WR(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>ZR(s))),h(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&h(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&h(e,["raiMediaFilteredReasons"],i),e}function QR(t){const e={},n=d(t,["video"]);return n!=null&&h(e,["video"],aM(n)),e}function ZR(t){const e={},n=d(t,["_self"]);return n!=null&&h(e,["video"],sM(n)),e}function eM(t){const e={},n=d(t,["operationName"]);return n!=null&&h(e,["_url","operationName"],n),e}function tM(t){const e={},n=d(t,["operationName"]);return n!=null&&h(e,["_url","operationName"],n),e}function nM(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const i=d(t,["done"]);i!=null&&h(e,["done"],i);const a=d(t,["error"]);a!=null&&h(e,["error"],a);const s=d(t,["response"]);return s!=null&&h(e,["response"],rM(s)),e}function rM(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&h(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&h(e,["documentName"],i),e}function g7(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const i=d(t,["done"]);i!=null&&h(e,["done"],i);const a=d(t,["error"]);a!=null&&h(e,["error"],a);const s=d(t,["response"]);return s!=null&&h(e,["response"],iM(s)),e}function iM(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&h(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&h(e,["documentName"],i),e}function aM(t){const e={},n=d(t,["uri"]);n!=null&&h(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&h(e,["videoBytes"],Hm(r));const i=d(t,["encoding"]);return i!=null&&h(e,["mimeType"],i),e}function sM(t){const e={},n=d(t,["gcsUri"]);n!=null&&h(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&h(e,["videoBytes"],Hm(r));const i=d(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vv;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(vv||(vv={}));var bv;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(bv||(bv={}));var wv;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(wv||(wv={}));var Ui;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(Ui||(Ui={}));var xv;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(xv||(xv={}));var Sv;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(Sv||(Sv={}));var _v;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(_v||(_v={}));var Tv;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Tv||(Tv={}));var Ev;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(Ev||(Ev={}));var Av;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(Av||(Av={}));var Cv;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})(Cv||(Cv={}));var kv;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH",t.MINIMAL="MINIMAL"})(kv||(kv={}));var Nv;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Nv||(Nv={}));var Rv;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(Rv||(Rv={}));var Mv;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(Mv||(Mv={}));var Iv;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE",t.IMAGE_RECITATION="IMAGE_RECITATION",t.IMAGE_OTHER="IMAGE_OTHER"})(Iv||(Iv={}));var Dv;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(Dv||(Dv={}));var zv;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(zv||(zv={}));var Uv;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Uv||(Uv={}));var Ov;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(Ov||(Ov={}));var Lv;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Lv||(Lv={}));var Gc;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Gc||(Gc={}));var Pv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Pv||(Pv={}));var Bv;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Bv||(Bv={}));var qv;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(qv||(qv={}));var If;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(If||(If={}));var Hv;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Hv||(Hv={}));var Fv;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",t.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Fv||(Fv={}));var Df;(function(t){t.COLLECTION="COLLECTION"})(Df||(Df={}));var Gv;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(Gv||(Gv={}));var Vv;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Vv||(Vv={}));var $v;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})($v||($v={}));var Yv;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(Yv||(Yv={}));var Kv;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(Kv||(Kv={}));var Jv;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Jv||(Jv={}));var jv;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(jv||(jv={}));var Xv;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Xv||(Xv={}));var Wv;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Wv||(Wv={}));var Qv;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(Qv||(Qv={}));var Zv;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(Zv||(Zv={}));var e4;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(e4||(e4={}));var t4;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(t4||(t4={}));var n4;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(n4||(n4={}));var r4;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(r4||(r4={}));var i4;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(i4||(i4={}));var a4;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED",t.REGISTERED="REGISTERED"})(a4||(a4={}));var s4;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(s4||(s4={}));var o4;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(o4||(o4={}));var l4;(function(t){t.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",t.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",t.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(l4||(l4={}));var u4;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.ACTIVITY_START="ACTIVITY_START",t.ACTIVITY_END="ACTIVITY_END"})(u4||(u4={}));var c4;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(c4||(c4={}));var d4;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(d4||(d4={}));var h4;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(h4||(h4={}));var f4;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(f4||(f4={}));var p4;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(p4||(p4={}));var m4;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(m4||(m4={}));var ys;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(ys||(ys={}));class zf{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class bo{get text(){var e,n,r,i,a,s,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let u="",c=!1;const f=[];for(const p of(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[m,y]of Object.entries(p))m!=="text"&&m!=="thought"&&m!=="thoughtSignature"&&(y!==null||y!==void 0)&&f.push(m);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;c=!0,u+=p.text}}return f.length>0&&console.warn(`there are non-text parts ${f} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?u:void 0}get data(){var e,n,r,i,a,s,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let u="";const c=[];for(const f of(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[p,m]of Object.entries(f))p!=="inlineData"&&(m!==null||m!==void 0)&&c.push(p);f.inlineData&&typeof f.inlineData.data=="string"&&(u+=atob(f.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}get functionCalls(){var e,n,r,i,a,s,o,l;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const u=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(c=>c.functionCall).map(c=>c.functionCall).filter(c=>c!==void 0);if((u==null?void 0:u.length)!==0)return u}get executableCode(){var e,n,r,i,a,s,o,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const c=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.executableCode).map(f=>f.executableCode).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.code}get codeExecutionResult(){var e,n,r,i,a,s,o,l,u;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const c=(l=(o=(s=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content)===null||o===void 0?void 0:o.parts)===null||l===void 0?void 0:l.filter(f=>f.codeExecutionResult).map(f=>f.codeExecutionResult).filter(f=>f!==void 0);if((c==null?void 0:c.length)!==0)return(u=c==null?void 0:c[0])===null||u===void 0?void 0:u.output}}class g4{}class y4{}class oM{}class lM{}class uM{}class cM{}class v4{}class b4{}class w4{}class dM{}class Vc{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Vc;let i;const a=e;return n?i=jR(a):i=JR(a),Object.assign(r,i),r}}class x4{}class S4{}class _4{}class T4{}class hM{}class fM{}class pM{}class Fm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Fm,a=nM(e);return Object.assign(r,a),r}}class mM{}class gM{}class yM{}class E4{}class vM{get text(){var e,n,r;let i="",a=!1;const s=[];for(const o of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[l,u]of Object.entries(o))l!=="text"&&l!=="thought"&&u!==null&&s.push(l);if(typeof o.text=="string"){if(typeof o.thought=="boolean"&&o.thought)continue;a=!0,i+=o.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?i:void 0}get data(){var e,n,r;let i="";const a=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[o,l]of Object.entries(s))o!=="inlineData"&&l!==null&&a.push(o);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class bM{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Gm{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Gm,a=g7(e);return Object.assign(r,a),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ze(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function y7(t,e){const n=ze(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function v7(t){return Array.isArray(t)?t.map(e=>$c(e)):[$c(t)]}function $c(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function b7(t){const e=$c(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function w7(t){const e=$c(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function A4(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function x7(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>A4(e)):[A4(t)]}function Uf(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function C4(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function k4(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function $t(t){if(t==null)throw new Error("ContentUnion is required");return Uf(t)?t:{role:"user",parts:x7(t)}}function Vm(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=$t(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=$t(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>$t(n)):[$t(e)]}function Xn(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(C4(t)||k4(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[$t(t)]}const e=[],n=[],r=Uf(t[0]);for(const i of t){const a=Uf(i);if(a!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)e.push(i);else{if(C4(i)||k4(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:x7(n)}),e}function wM(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(Ui).includes(n[0].toUpperCase())?n[0].toUpperCase():Ui.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(Ui).includes(r.toUpperCase())?r.toUpperCase():Ui.TYPE_UNSPECIFIED})}}function Ms(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=t.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(e.nullable=!0,t=a[1]):a[1].type==="null"&&(e.nullable=!0,t=a[0])),t.type instanceof Array&&wM(t.type,e);for(const[s,o]of Object.entries(t))if(o!=null)if(s=="type"){if(o==="null")throw new Error("type: null can not be the only possible type for the field.");if(o instanceof Array)continue;e.type=Object.values(Ui).includes(o.toUpperCase())?o.toUpperCase():Ui.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Ms(o);else if(r.includes(s)){const l=[];for(const u of o){if(u.type=="null"){e.nullable=!0;continue}l.push(Ms(u))}e[s]=l}else if(i.includes(s)){const l={};for(const[u,c]of Object.entries(o))l[u]=Ms(c);e[s]=l}else{if(s==="additionalProperties")continue;e[s]=o}return e}function $m(t){return Ms(t)}function Ym(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function Km(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function io(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Ms(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Ms(e.response));return t}function ao(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function xM(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function ci(t,e){if(typeof e!="string")throw new Error("name must be a string");return xM(t,e,"cachedContents")}function S7(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function na(t){return Hm(t)}function SM(t){return t!=null&&typeof t=="object"&&"name"in t}function _M(t){return t!=null&&typeof t=="object"&&"video"in t}function TM(t){return t!=null&&typeof t=="object"&&"uri"in t}function _7(t){var e;let n;if(SM(t)&&(n=t.name),!(TM(t)&&(n=t.uri,n===void 0))&&!(_M(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function T7(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function E7(t){for(const e of["models","tunedModels","publisherModels"])if(EM(t,e))return t[e];return[]}function EM(t,e){return t!==null&&typeof t=="object"&&e in t}function AM(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function CM(t,e={}){const n=[],r=new Set;for(const i of t){const a=i.name;if(r.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);r.add(a);const s=AM(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function A7(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function kM(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function C7(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let a=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const l=s.response;if(typeof l!="object"||l===null)continue;if(l.embedding!==void 0){a=!0;break}}return a&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function so(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function k7(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NM(t){const e={},n=d(t,["responsesFile"]);n!=null&&h(e,["fileName"],n);const r=d(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>uI(s))),h(e,["inlinedResponses"],a)}const i=d(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),h(e,["inlinedEmbedContentResponses"],a)}return e}function RM(t){const e={},n=d(t,["predictionsFormat"]);n!=null&&h(e,["format"],n);const r=d(t,["gcsDestination","outputUriPrefix"]);r!=null&&h(e,["gcsUri"],r);const i=d(t,["bigqueryDestination","outputUri"]);return i!=null&&h(e,["bigqueryUri"],i),e}function MM(t){const e={},n=d(t,["format"]);n!=null&&h(e,["predictionsFormat"],n);const r=d(t,["gcsUri"]);r!=null&&h(e,["gcsDestination","outputUriPrefix"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&h(e,["bigqueryDestination","outputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(d(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Zu(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["metadata","displayName"]);r!=null&&h(e,["displayName"],r);const i=d(t,["metadata","state"]);i!=null&&h(e,["state"],k7(i));const a=d(t,["metadata","createTime"]);a!=null&&h(e,["createTime"],a);const s=d(t,["metadata","endTime"]);s!=null&&h(e,["endTime"],s);const o=d(t,["metadata","updateTime"]);o!=null&&h(e,["updateTime"],o);const l=d(t,["metadata","model"]);l!=null&&h(e,["model"],l);const u=d(t,["metadata","output"]);return u!=null&&h(e,["dest"],NM(C7(u))),e}function Of(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["displayName"]);r!=null&&h(e,["displayName"],r);const i=d(t,["state"]);i!=null&&h(e,["state"],k7(i));const a=d(t,["error"]);a!=null&&h(e,["error"],a);const s=d(t,["createTime"]);s!=null&&h(e,["createTime"],s);const o=d(t,["startTime"]);o!=null&&h(e,["startTime"],o);const l=d(t,["endTime"]);l!=null&&h(e,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&h(e,["updateTime"],u);const c=d(t,["model"]);c!=null&&h(e,["model"],c);const f=d(t,["inputConfig"]);f!=null&&h(e,["src"],IM(f));const p=d(t,["outputConfig"]);p!=null&&h(e,["dest"],RM(C7(p)));const m=d(t,["completionStats"]);return m!=null&&h(e,["completionStats"],m),e}function IM(t){const e={},n=d(t,["instancesFormat"]);n!=null&&h(e,["format"],n);const r=d(t,["gcsSource","uris"]);r!=null&&h(e,["gcsUri"],r);const i=d(t,["bigquerySource","inputUri"]);return i!=null&&h(e,["bigqueryUri"],i),e}function DM(t,e){const n={};if(d(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(d(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=d(e,["fileName"]);r!=null&&h(n,["fileName"],r);const i=d(e,["inlinedRequests"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>lI(t,s))),h(n,["requests","requests"],a)}return n}function zM(t){const e={},n=d(t,["format"]);n!=null&&h(e,["instancesFormat"],n);const r=d(t,["gcsUri"]);r!=null&&h(e,["gcsSource","uris"],r);const i=d(t,["bigqueryUri"]);if(i!=null&&h(e,["bigquerySource","inputUri"],i),d(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(d(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function UM(t){const e={},n=d(t,["data"]);if(n!=null&&h(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function OM(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],so(t,r)),n}function LM(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],so(t,r)),n}function PM(t){const e={},n=d(t,["content"]);n!=null&&h(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&h(e,["citationMetadata"],BM(r));const i=d(t,["tokenCount"]);i!=null&&h(e,["tokenCount"],i);const a=d(t,["finishReason"]);a!=null&&h(e,["finishReason"],a);const s=d(t,["avgLogprobs"]);s!=null&&h(e,["avgLogprobs"],s);const o=d(t,["groundingMetadata"]);o!=null&&h(e,["groundingMetadata"],o);const l=d(t,["index"]);l!=null&&h(e,["index"],l);const u=d(t,["logprobsResult"]);u!=null&&h(e,["logprobsResult"],u);const c=d(t,["safetyRatings"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>m)),h(e,["safetyRatings"],p)}const f=d(t,["urlContextMetadata"]);return f!=null&&h(e,["urlContextMetadata"],f),e}function BM(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),h(e,["citations"],r)}return e}function N7(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>gI(a))),h(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&h(e,["role"],r),e}function qM(t,e){const n={},r=d(t,["displayName"]);if(e!==void 0&&r!=null&&h(e,["batch","displayName"],r),d(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function HM(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const i=d(t,["dest"]);return e!==void 0&&i!=null&&h(e,["outputConfig"],MM(kM(i))),n}function N4(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["src"]);i!=null&&h(n,["batch","inputConfig"],DM(t,A7(t,i)));const a=d(e,["config"]);return a!=null&&qM(a,n),n}function FM(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["model"],ze(t,r));const i=d(e,["src"]);i!=null&&h(n,["inputConfig"],zM(A7(t,i)));const a=d(e,["config"]);return a!=null&&HM(a,n),n}function GM(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&h(e,["batch","displayName"],r),n}function VM(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["src"]);i!=null&&h(n,["batch","inputConfig"],WM(t,i));const a=d(e,["config"]);return a!=null&&GM(a,n),n}function $M(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],so(t,r)),n}function YM(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],so(t,r)),n}function KM(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&h(e,["name"],r);const i=d(t,["done"]);i!=null&&h(e,["done"],i);const a=d(t,["error"]);return a!=null&&h(e,["error"],a),e}function JM(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["name"]);r!=null&&h(e,["name"],r);const i=d(t,["done"]);i!=null&&h(e,["done"],i);const a=d(t,["error"]);return a!=null&&h(e,["error"],a),e}function jM(t,e){const n={},r=d(e,["contents"]);if(r!=null){let a=Vm(t,r);Array.isArray(a)&&(a=a.map(s=>s)),h(n,["requests[]","request","content"],a)}const i=d(e,["config"]);return i!=null&&(h(n,["_self"],XM(i,n)),YR(n,{"requests[].*":"requests[].request.*"})),n}function XM(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&h(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&h(e,["requests[]","title"],i);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&h(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function WM(t,e){const n={},r=d(e,["fileName"]);r!=null&&h(n,["file_name"],r);const i=d(e,["inlinedRequests"]);return i!=null&&h(n,["requests"],jM(t,i)),n}function QM(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function ZM(t){const e={},n=d(t,["id"]);n!=null&&h(e,["id"],n);const r=d(t,["args"]);r!=null&&h(e,["args"],r);const i=d(t,["name"]);if(i!=null&&h(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function eI(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&h(e,["allowedFunctionNames"],n);const r=d(t,["mode"]);if(r!=null&&h(e,["mode"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function tI(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&h(n,["systemInstruction"],N7($t(i)));const a=d(e,["temperature"]);a!=null&&h(r,["temperature"],a);const s=d(e,["topP"]);s!=null&&h(r,["topP"],s);const o=d(e,["topK"]);o!=null&&h(r,["topK"],o);const l=d(e,["candidateCount"]);l!=null&&h(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&h(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&h(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&h(r,["responseLogprobs"],f);const p=d(e,["logprobs"]);p!=null&&h(r,["logprobs"],p);const m=d(e,["presencePenalty"]);m!=null&&h(r,["presencePenalty"],m);const y=d(e,["frequencyPenalty"]);y!=null&&h(r,["frequencyPenalty"],y);const w=d(e,["seed"]);w!=null&&h(r,["seed"],w);const E=d(e,["responseMimeType"]);E!=null&&h(r,["responseMimeType"],E);const b=d(e,["responseSchema"]);b!=null&&h(r,["responseSchema"],$m(b));const S=d(e,["responseJsonSchema"]);if(S!=null&&h(r,["responseJsonSchema"],S),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=d(e,["safetySettings"]);if(n!==void 0&&_!=null){let ie=_;Array.isArray(ie)&&(ie=ie.map(oe=>yI(oe))),h(n,["safetySettings"],ie)}const C=d(e,["tools"]);if(n!==void 0&&C!=null){let ie=ao(C);Array.isArray(ie)&&(ie=ie.map(oe=>bI(io(oe)))),h(n,["tools"],ie)}const I=d(e,["toolConfig"]);if(n!==void 0&&I!=null&&h(n,["toolConfig"],vI(I)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=d(e,["cachedContent"]);n!==void 0&&k!=null&&h(n,["cachedContent"],ci(t,k));const D=d(e,["responseModalities"]);D!=null&&h(r,["responseModalities"],D);const B=d(e,["mediaResolution"]);B!=null&&h(r,["mediaResolution"],B);const O=d(e,["speechConfig"]);if(O!=null&&h(r,["speechConfig"],Ym(O)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=d(e,["thinkingConfig"]);F!=null&&h(r,["thinkingConfig"],F);const Y=d(e,["imageConfig"]);Y!=null&&h(r,["imageConfig"],oI(Y));const J=d(e,["enableEnhancedCivicAnswers"]);if(J!=null&&h(r,["enableEnhancedCivicAnswers"],J),d(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function nI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>PM(u))),h(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&h(e,["modelVersion"],i);const a=d(t,["promptFeedback"]);a!=null&&h(e,["promptFeedback"],a);const s=d(t,["responseId"]);s!=null&&h(e,["responseId"],s);const o=d(t,["usageMetadata"]);return o!=null&&h(e,["usageMetadata"],o),e}function rI(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],so(t,r)),n}function iI(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],so(t,r)),n}function aI(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function sI(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function oI(t){const e={},n=d(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&h(e,["imageSize"],r),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function lI(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["request","model"],ze(t,r));const i=d(e,["contents"]);if(i!=null){let o=Xn(i);Array.isArray(o)&&(o=o.map(l=>N7(l))),h(n,["request","contents"],o)}const a=d(e,["metadata"]);a!=null&&h(n,["metadata"],a);const s=d(e,["config"]);return s!=null&&h(n,["request","generationConfig"],tI(t,s,d(n,["request"],{}))),n}function uI(t){const e={},n=d(t,["response"]);n!=null&&h(e,["response"],nI(n));const r=d(t,["error"]);return r!=null&&h(e,["error"],r),e}function cI(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);if(e!==void 0&&i!=null&&h(e,["_query","pageToken"],i),d(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function dI(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);e!==void 0&&i!=null&&h(e,["_query","pageToken"],i);const a=d(t,["filter"]);return e!==void 0&&a!=null&&h(e,["_query","filter"],a),n}function hI(t){const e={},n=d(t,["config"]);return n!=null&&cI(n,e),e}function fI(t){const e={},n=d(t,["config"]);return n!=null&&dI(n,e),e}function pI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const i=d(t,["operations"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Zu(s))),h(e,["batchJobs"],a)}return e}function mI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const i=d(t,["batchPredictionJobs"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>Of(s))),h(e,["batchJobs"],a)}return e}function gI(t){const e={},n=d(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&h(e,["executableCode"],i);const a=d(t,["fileData"]);a!=null&&h(e,["fileData"],QM(a));const s=d(t,["functionCall"]);s!=null&&h(e,["functionCall"],ZM(s));const o=d(t,["functionResponse"]);o!=null&&h(e,["functionResponse"],o);const l=d(t,["inlineData"]);l!=null&&h(e,["inlineData"],UM(l));const u=d(t,["text"]);u!=null&&h(e,["text"],u);const c=d(t,["thought"]);c!=null&&h(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&h(e,["thoughtSignature"],f);const p=d(t,["videoMetadata"]);return p!=null&&h(e,["videoMetadata"],p),e}function yI(t){const e={},n=d(t,["category"]);if(n!=null&&h(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&h(e,["threshold"],r),e}function vI(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&h(e,["retrievalConfig"],n);const r=d(t,["functionCallingConfig"]);return r!=null&&h(e,["functionCallingConfig"],eI(r)),e}function bI(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&h(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&h(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&h(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["functionDeclarations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),h(e,["functionDeclarations"],c)}const s=d(t,["googleMaps"]);s!=null&&h(e,["googleMaps"],aI(s));const o=d(t,["googleSearch"]);o!=null&&h(e,["googleSearch"],sI(o));const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&h(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var si;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(si||(si={}));class Pa{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,a;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(a=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class wI extends ui{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Pa(si.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(e){const n=N4(this.apiClient,e),r=n._url,i=te("{model}:batchGenerateContent",r),o=n.batch.inputConfig.requests,l=o.requests,u=[];for(const c of l){const f=Object.assign({},c);if(f.systemInstruction){const p=f.systemInstruction;delete f.systemInstruction;const m=f.request;m.systemInstruction=p,f.request=m}u.push(f)}return o.requests=u,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const a=this.getGcsUri(e),s=this.getBigqueryUri(e);if(a)a.endsWith(".jsonl")?r.dest=`${a.slice(0,-6)}/dest`:r.dest=`${a}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=FM(this.apiClient,e);return o=te("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Of(c))}else{const u=N4(this.apiClient,e);return o=te("{model}:batchGenerateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s.then(c=>Zu(c))}}async createEmbeddingsInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=VM(this.apiClient,e);return a=te("{model}:asyncBatchEmbedContent",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>Zu(l))}}async get(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=iI(this.apiClient,e);return o=te("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Of(c))}else{const u=rI(this.apiClient,e);return o=te("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s.then(c=>Zu(c))}}async cancel(e){var n,r,i,a;let s="",o={};if(this.apiClient.isVertexAI()){const l=LM(this.apiClient,e);s=te("batchPredictionJobs/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const l=OM(this.apiClient,e);s=te("batches/{name}:cancel",l._url),o=l._query,delete l._url,delete l._query,await this.apiClient.request({path:s,queryParams:o,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=fI(e);return o=te("batchPredictionJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=mI(c),p=new E4;return Object.assign(p,f),p})}else{const u=hI(e);return o=te("batches",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=pI(c),p=new E4;return Object.assign(p,f),p})}}async delete(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=YM(this.apiClient,e);return o=te("batchPredictionJobs/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>JM(c))}else{const u=$M(this.apiClient,e);return o=te("batches/{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>KM(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xI(t){const e={},n=d(t,["data"]);if(n!=null&&h(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function R4(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>VI(a))),h(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&h(e,["role"],r),e}function SI(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&h(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&h(e,["expireTime"],i);const a=d(t,["displayName"]);e!==void 0&&a!=null&&h(e,["displayName"],a);const s=d(t,["contents"]);if(e!==void 0&&s!=null){let c=Xn(s);Array.isArray(c)&&(c=c.map(f=>R4(f))),h(e,["contents"],c)}const o=d(t,["systemInstruction"]);e!==void 0&&o!=null&&h(e,["systemInstruction"],R4($t(o)));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(f=>YI(f))),h(e,["tools"],c)}const u=d(t,["toolConfig"]);if(e!==void 0&&u!=null&&h(e,["toolConfig"],$I(u)),d(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function _I(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&h(e,["ttl"],r);const i=d(t,["expireTime"]);e!==void 0&&i!=null&&h(e,["expireTime"],i);const a=d(t,["displayName"]);e!==void 0&&a!=null&&h(e,["displayName"],a);const s=d(t,["contents"]);if(e!==void 0&&s!=null){let f=Xn(s);Array.isArray(f)&&(f=f.map(p=>p)),h(e,["contents"],f)}const o=d(t,["systemInstruction"]);e!==void 0&&o!=null&&h(e,["systemInstruction"],$t(o));const l=d(t,["tools"]);if(e!==void 0&&l!=null){let f=l;Array.isArray(f)&&(f=f.map(p=>KI(p))),h(e,["tools"],f)}const u=d(t,["toolConfig"]);e!==void 0&&u!=null&&h(e,["toolConfig"],u);const c=d(t,["kmsKeyName"]);return e!==void 0&&c!=null&&h(e,["encryption_spec","kmsKeyName"],c),n}function TI(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["model"],y7(t,r));const i=d(e,["config"]);return i!=null&&SI(i,n),n}function EI(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["model"],y7(t,r));const i=d(e,["config"]);return i!=null&&_I(i,n),n}function AI(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],ci(t,r)),n}function CI(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],ci(t,r)),n}function kI(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function NI(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function RI(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function MI(t){const e={},n=d(t,["id"]);n!=null&&h(e,["id"],n);const r=d(t,["args"]);r!=null&&h(e,["args"],r);const i=d(t,["name"]);if(i!=null&&h(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function II(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&h(e,["allowedFunctionNames"],n);const r=d(t,["mode"]);if(r!=null&&h(e,["mode"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function DI(t){const e={},n=d(t,["description"]);n!=null&&h(e,["description"],n);const r=d(t,["name"]);r!=null&&h(e,["name"],r);const i=d(t,["parameters"]);i!=null&&h(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&h(e,["parametersJsonSchema"],a);const s=d(t,["response"]);s!=null&&h(e,["response"],s);const o=d(t,["responseJsonSchema"]);if(o!=null&&h(e,["responseJsonSchema"],o),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function zI(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],ci(t,r)),n}function UI(t,e){const n={},r=d(e,["name"]);return r!=null&&h(n,["_url","name"],ci(t,r)),n}function OI(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function LI(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function PI(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&h(e,["_query","pageToken"],i),n}function BI(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&h(e,["_query","pageToken"],i),n}function qI(t){const e={},n=d(t,["config"]);return n!=null&&PI(n,e),e}function HI(t){const e={},n=d(t,["config"]);return n!=null&&BI(n,e),e}function FI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),h(e,["cachedContents"],a)}return e}function GI(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const i=d(t,["cachedContents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),h(e,["cachedContents"],a)}return e}function VI(t){const e={},n=d(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&h(e,["executableCode"],i);const a=d(t,["fileData"]);a!=null&&h(e,["fileData"],RI(a));const s=d(t,["functionCall"]);s!=null&&h(e,["functionCall"],MI(s));const o=d(t,["functionResponse"]);o!=null&&h(e,["functionResponse"],o);const l=d(t,["inlineData"]);l!=null&&h(e,["inlineData"],xI(l));const u=d(t,["text"]);u!=null&&h(e,["text"],u);const c=d(t,["thought"]);c!=null&&h(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&h(e,["thoughtSignature"],f);const p=d(t,["videoMetadata"]);return p!=null&&h(e,["videoMetadata"],p),e}function $I(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&h(e,["retrievalConfig"],n);const r=d(t,["functionCallingConfig"]);return r!=null&&h(e,["functionCallingConfig"],II(r)),e}function YI(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&h(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&h(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&h(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["functionDeclarations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),h(e,["functionDeclarations"],c)}const s=d(t,["googleMaps"]);s!=null&&h(e,["googleMaps"],OI(s));const o=d(t,["googleSearch"]);o!=null&&h(e,["googleSearch"],LI(o));const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&h(e,["urlContext"],u),e}function KI(t){const e={},n=d(t,["retrieval"]);n!=null&&h(e,["retrieval"],n);const r=d(t,["computerUse"]);if(r!=null&&h(e,["computerUse"],r),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(t,["codeExecution"]);i!=null&&h(e,["codeExecution"],i);const a=d(t,["enterpriseWebSearch"]);a!=null&&h(e,["enterpriseWebSearch"],a);const s=d(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>DI(p))),h(e,["functionDeclarations"],f)}const o=d(t,["googleMaps"]);o!=null&&h(e,["googleMaps"],o);const l=d(t,["googleSearch"]);l!=null&&h(e,["googleSearch"],l);const u=d(t,["googleSearchRetrieval"]);u!=null&&h(e,["googleSearchRetrieval"],u);const c=d(t,["urlContext"]);return c!=null&&h(e,["urlContext"],c),e}function JI(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&h(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&h(e,["expireTime"],i),n}function jI(t,e){const n={},r=d(t,["ttl"]);e!==void 0&&r!=null&&h(e,["ttl"],r);const i=d(t,["expireTime"]);return e!==void 0&&i!=null&&h(e,["expireTime"],i),n}function XI(t,e){const n={},r=d(e,["name"]);r!=null&&h(n,["_url","name"],ci(t,r));const i=d(e,["config"]);return i!=null&&JI(i,n),n}function WI(t,e){const n={},r=d(e,["name"]);r!=null&&h(n,["_url","name"],ci(t,r));const i=d(e,["config"]);return i!=null&&jI(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class QI extends ui{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Pa(si.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=EI(this.apiClient,e);return o=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=TI(this.apiClient,e);return o=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async get(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=UI(this.apiClient,e);return o=te("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=zI(this.apiClient,e);return o=te("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async delete(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=CI(this.apiClient,e);return o=te("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=NI(c),p=new _4;return Object.assign(p,f),p})}else{const u=AI(this.apiClient,e);return o=te("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=kI(c),p=new _4;return Object.assign(p,f),p})}}async update(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=WI(this.apiClient,e);return o=te("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>c)}else{const u=XI(this.apiClient,e);return o=te("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s.then(c=>c)}}async listInternal(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=HI(e);return o=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=GI(c),p=new T4;return Object.assign(p,f),p})}else{const u=qI(e);return o=te("cachedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=FI(c),p=new T4;return Object.assign(p,f),p})}}}function Yc(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function M4(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ve(t){return this instanceof ve?(this.v=t,this):new ve(t)}function cr(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,a=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(m){return function(y){return Promise.resolve(y).then(m,f)}}function o(m,y){r[m]&&(i[m]=function(w){return new Promise(function(E,b){a.push([m,w,E,b])>1||l(m,w)})},y&&(i[m]=y(i[m])))}function l(m,y){try{u(r[m](y))}catch(w){p(a[0][3],w)}}function u(m){m.value instanceof ve?Promise.resolve(m.value.v).then(c,f):p(a[0][2],m)}function c(m){l("next",m)}function f(m){l("throw",m)}function p(m,y){m(y),a.shift(),a.length&&l(a[0][0],a[0][1])}}function dr(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof M4=="function"?M4(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(a){n[a]=t[a]&&function(s){return new Promise(function(o,l){s=t[a](s),i(o,l,s.done,s.value)})}}function i(a,s,o,l){Promise.resolve(l).then(function(u){a({value:u,done:o})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ZI(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:R7(n)}function R7(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function eD(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function I4(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let a=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),a&&!R7(t[r])&&(a=!1),r++;a?e.push(...i):e.pop()}return e}class tD{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new nD(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class nD{constructor(e,n,r,i={},a=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=a,this.sendPromise=Promise.resolve(),eD(a)}async sendMessage(e){var n;await this.sendPromise;const r=$t(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,s,o;const l=await i,u=(s=(a=l.candidates)===null||a===void 0?void 0:a[0])===null||s===void 0?void 0:s.content,c=l.automaticFunctionCallingHistory,f=this.getHistory(!0).length;let p=[];c!=null&&(p=(o=c.slice(f))!==null&&o!==void 0?o:[]);const m=u?[u]:[];this.recordHistory(r,m,p)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=$t(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const a=await i;return this.processStreamResponse(a,r)}getHistory(e=!1){const n=e?I4(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){return cr(this,arguments,function*(){var i,a,s,o,l,u;const c=[];try{for(var f=!0,p=dr(e),m;m=yield ve(p.next()),i=m.done,!i;f=!0){o=m.value,f=!1;const y=o;if(ZI(y)){const w=(u=(l=y.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;w!==void 0&&c.push(w)}yield yield ve(y)}}catch(y){a={error:y}}finally{try{!f&&!i&&(s=p.return)&&(yield ve(s.call(p)))}finally{if(a)throw a.error}}this.recordHistory(n,c)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(a=>a.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...I4(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vl extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,vl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rD(t){const e={},n=d(t,["file"]);return n!=null&&h(e,["file"],n),e}function iD(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function aD(t){const e={},n=d(t,["name"]);return n!=null&&h(e,["_url","file"],_7(n)),e}function sD(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function oD(t){const e={},n=d(t,["name"]);return n!=null&&h(e,["_url","file"],_7(n)),e}function lD(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&h(e,["_query","pageToken"],i),n}function uD(t){const e={},n=d(t,["config"]);return n!=null&&lD(n,e),e}function cD(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const i=d(t,["files"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),h(e,["files"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dD extends ui{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Pa(si.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=uD(e);return a=te("files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=cD(l),c=new mM;return Object.assign(c,u),c})}}async createInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=rD(e);return a=te("upload/v1beta/files",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=iD(l),c=new gM;return Object.assign(c,u),c})}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=oD(e);return a=te("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=aD(e);return a=te("files/{file}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=sD(l),c=new yM;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ec(t){const e={},n=d(t,["data"]);if(n!=null&&h(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function hD(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>kD(a))),h(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&h(e,["role"],r),e}function fD(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function pD(t){const e={},n=d(t,["id"]);n!=null&&h(e,["id"],n);const r=d(t,["args"]);r!=null&&h(e,["args"],r);const i=d(t,["name"]);if(i!=null&&h(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function mD(t){const e={},n=d(t,["description"]);n!=null&&h(e,["description"],n);const r=d(t,["name"]);r!=null&&h(e,["name"],r);const i=d(t,["parameters"]);i!=null&&h(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&h(e,["parametersJsonSchema"],a);const s=d(t,["response"]);s!=null&&h(e,["response"],s);const o=d(t,["responseJsonSchema"]);if(o!=null&&h(e,["responseJsonSchema"],o),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function gD(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&h(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&h(e,["responseJsonSchema"],r);const i=d(t,["audioTimestamp"]);i!=null&&h(e,["audioTimestamp"],i);const a=d(t,["candidateCount"]);a!=null&&h(e,["candidateCount"],a);const s=d(t,["enableAffectiveDialog"]);s!=null&&h(e,["enableAffectiveDialog"],s);const o=d(t,["frequencyPenalty"]);o!=null&&h(e,["frequencyPenalty"],o);const l=d(t,["logprobs"]);l!=null&&h(e,["logprobs"],l);const u=d(t,["maxOutputTokens"]);u!=null&&h(e,["maxOutputTokens"],u);const c=d(t,["mediaResolution"]);c!=null&&h(e,["mediaResolution"],c);const f=d(t,["presencePenalty"]);f!=null&&h(e,["presencePenalty"],f);const p=d(t,["responseLogprobs"]);p!=null&&h(e,["responseLogprobs"],p);const m=d(t,["responseMimeType"]);m!=null&&h(e,["responseMimeType"],m);const y=d(t,["responseModalities"]);y!=null&&h(e,["responseModalities"],y);const w=d(t,["responseSchema"]);w!=null&&h(e,["responseSchema"],w);const E=d(t,["routingConfig"]);E!=null&&h(e,["routingConfig"],E);const b=d(t,["seed"]);b!=null&&h(e,["seed"],b);const S=d(t,["speechConfig"]);S!=null&&h(e,["speechConfig"],S);const _=d(t,["stopSequences"]);_!=null&&h(e,["stopSequences"],_);const C=d(t,["temperature"]);C!=null&&h(e,["temperature"],C);const I=d(t,["thinkingConfig"]);I!=null&&h(e,["thinkingConfig"],I);const k=d(t,["topK"]);k!=null&&h(e,["topK"],k);const D=d(t,["topP"]);if(D!=null&&h(e,["topP"],D),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function yD(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function vD(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function bD(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&h(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","temperature"],a);const s=d(t,["topP"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig","topP"],s);const o=d(t,["topK"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","topK"],o);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&h(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","speechConfig"],Km(f));const p=d(t,["thinkingConfig"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","thinkingConfig"],p);const m=d(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=d(t,["systemInstruction"]);e!==void 0&&y!=null&&h(e,["setup","systemInstruction"],hD($t(y)));const w=d(t,["tools"]);if(e!==void 0&&w!=null){let k=ao(w);Array.isArray(k)&&(k=k.map(D=>RD(io(D)))),h(e,["setup","tools"],k)}const E=d(t,["sessionResumption"]);e!==void 0&&E!=null&&h(e,["setup","sessionResumption"],ND(E));const b=d(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&h(e,["setup","inputAudioTranscription"],b);const S=d(t,["outputAudioTranscription"]);e!==void 0&&S!=null&&h(e,["setup","outputAudioTranscription"],S);const _=d(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&h(e,["setup","realtimeInputConfig"],_);const C=d(t,["contextWindowCompression"]);e!==void 0&&C!=null&&h(e,["setup","contextWindowCompression"],C);const I=d(t,["proactivity"]);if(e!==void 0&&I!=null&&h(e,["setup","proactivity"],I),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function wD(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig"],gD(r));const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&h(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","temperature"],a);const s=d(t,["topP"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig","topP"],s);const o=d(t,["topK"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","topK"],o);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&h(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","speechConfig"],Km(f));const p=d(t,["thinkingConfig"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","thinkingConfig"],p);const m=d(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=d(t,["systemInstruction"]);e!==void 0&&y!=null&&h(e,["setup","systemInstruction"],$t(y));const w=d(t,["tools"]);if(e!==void 0&&w!=null){let D=ao(w);Array.isArray(D)&&(D=D.map(B=>MD(io(B)))),h(e,["setup","tools"],D)}const E=d(t,["sessionResumption"]);e!==void 0&&E!=null&&h(e,["setup","sessionResumption"],E);const b=d(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&h(e,["setup","inputAudioTranscription"],b);const S=d(t,["outputAudioTranscription"]);e!==void 0&&S!=null&&h(e,["setup","outputAudioTranscription"],S);const _=d(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&h(e,["setup","realtimeInputConfig"],_);const C=d(t,["contextWindowCompression"]);e!==void 0&&C!=null&&h(e,["setup","contextWindowCompression"],C);const I=d(t,["proactivity"]);e!==void 0&&I!=null&&h(e,["setup","proactivity"],I);const k=d(t,["explicitVadSignal"]);return e!==void 0&&k!=null&&h(e,["setup","explicitVadSignal"],k),n}function xD(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["setup","model"],ze(t,r));const i=d(e,["config"]);return i!=null&&h(n,["config"],bD(i,n)),n}function SD(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["setup","model"],ze(t,r));const i=d(e,["config"]);return i!=null&&h(n,["config"],wD(i,n)),n}function _D(t){const e={},n=d(t,["musicGenerationConfig"]);return n!=null&&h(e,["musicGenerationConfig"],n),e}function TD(t){const e={},n=d(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),h(e,["weightedPrompts"],r)}return e}function ED(t){const e={},n=d(t,["media"]);if(n!=null){let u=v7(n);Array.isArray(u)&&(u=u.map(c=>ec(c))),h(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&h(e,["audio"],ec(w7(r)));const i=d(t,["audioStreamEnd"]);i!=null&&h(e,["audioStreamEnd"],i);const a=d(t,["video"]);a!=null&&h(e,["video"],ec(b7(a)));const s=d(t,["text"]);s!=null&&h(e,["text"],s);const o=d(t,["activityStart"]);o!=null&&h(e,["activityStart"],o);const l=d(t,["activityEnd"]);return l!=null&&h(e,["activityEnd"],l),e}function AD(t){const e={},n=d(t,["media"]);if(n!=null){let u=v7(n);Array.isArray(u)&&(u=u.map(c=>c)),h(e,["mediaChunks"],u)}const r=d(t,["audio"]);r!=null&&h(e,["audio"],w7(r));const i=d(t,["audioStreamEnd"]);i!=null&&h(e,["audioStreamEnd"],i);const a=d(t,["video"]);a!=null&&h(e,["video"],b7(a));const s=d(t,["text"]);s!=null&&h(e,["text"],s);const o=d(t,["activityStart"]);o!=null&&h(e,["activityStart"],o);const l=d(t,["activityEnd"]);return l!=null&&h(e,["activityEnd"],l),e}function CD(t){const e={},n=d(t,["setupComplete"]);n!=null&&h(e,["setupComplete"],n);const r=d(t,["serverContent"]);r!=null&&h(e,["serverContent"],r);const i=d(t,["toolCall"]);i!=null&&h(e,["toolCall"],i);const a=d(t,["toolCallCancellation"]);a!=null&&h(e,["toolCallCancellation"],a);const s=d(t,["usageMetadata"]);s!=null&&h(e,["usageMetadata"],ID(s));const o=d(t,["goAway"]);o!=null&&h(e,["goAway"],o);const l=d(t,["sessionResumptionUpdate"]);l!=null&&h(e,["sessionResumptionUpdate"],l);const u=d(t,["voiceActivityDetectionSignal"]);u!=null&&h(e,["voiceActivityDetectionSignal"],u);const c=d(t,["voiceActivity"]);return c!=null&&h(e,["voiceActivity"],DD(c)),e}function kD(t){const e={},n=d(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&h(e,["executableCode"],i);const a=d(t,["fileData"]);a!=null&&h(e,["fileData"],fD(a));const s=d(t,["functionCall"]);s!=null&&h(e,["functionCall"],pD(s));const o=d(t,["functionResponse"]);o!=null&&h(e,["functionResponse"],o);const l=d(t,["inlineData"]);l!=null&&h(e,["inlineData"],ec(l));const u=d(t,["text"]);u!=null&&h(e,["text"],u);const c=d(t,["thought"]);c!=null&&h(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&h(e,["thoughtSignature"],f);const p=d(t,["videoMetadata"]);return p!=null&&h(e,["videoMetadata"],p),e}function ND(t){const e={},n=d(t,["handle"]);if(n!=null&&h(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function RD(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&h(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&h(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&h(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["functionDeclarations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),h(e,["functionDeclarations"],c)}const s=d(t,["googleMaps"]);s!=null&&h(e,["googleMaps"],yD(s));const o=d(t,["googleSearch"]);o!=null&&h(e,["googleSearch"],vD(o));const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&h(e,["urlContext"],u),e}function MD(t){const e={},n=d(t,["retrieval"]);n!=null&&h(e,["retrieval"],n);const r=d(t,["computerUse"]);if(r!=null&&h(e,["computerUse"],r),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(t,["codeExecution"]);i!=null&&h(e,["codeExecution"],i);const a=d(t,["enterpriseWebSearch"]);a!=null&&h(e,["enterpriseWebSearch"],a);const s=d(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>mD(p))),h(e,["functionDeclarations"],f)}const o=d(t,["googleMaps"]);o!=null&&h(e,["googleMaps"],o);const l=d(t,["googleSearch"]);l!=null&&h(e,["googleSearch"],l);const u=d(t,["googleSearchRetrieval"]);u!=null&&h(e,["googleSearchRetrieval"],u);const c=d(t,["urlContext"]);return c!=null&&h(e,["urlContext"],c),e}function ID(t){const e={},n=d(t,["promptTokenCount"]);n!=null&&h(e,["promptTokenCount"],n);const r=d(t,["cachedContentTokenCount"]);r!=null&&h(e,["cachedContentTokenCount"],r);const i=d(t,["candidatesTokenCount"]);i!=null&&h(e,["responseTokenCount"],i);const a=d(t,["toolUsePromptTokenCount"]);a!=null&&h(e,["toolUsePromptTokenCount"],a);const s=d(t,["thoughtsTokenCount"]);s!=null&&h(e,["thoughtsTokenCount"],s);const o=d(t,["totalTokenCount"]);o!=null&&h(e,["totalTokenCount"],o);const l=d(t,["promptTokensDetails"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(y=>y)),h(e,["promptTokensDetails"],m)}const u=d(t,["cacheTokensDetails"]);if(u!=null){let m=u;Array.isArray(m)&&(m=m.map(y=>y)),h(e,["cacheTokensDetails"],m)}const c=d(t,["candidatesTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>y)),h(e,["responseTokensDetails"],m)}const f=d(t,["toolUsePromptTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>y)),h(e,["toolUsePromptTokensDetails"],m)}const p=d(t,["trafficType"]);return p!=null&&h(e,["trafficType"],p),e}function DD(t){const e={},n=d(t,["type"]);return n!=null&&h(e,["voiceActivityType"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function zD(t){const e={},n=d(t,["data"]);if(n!=null&&h(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function UD(t){const e={},n=d(t,["content"]);n!=null&&h(e,["content"],n);const r=d(t,["citationMetadata"]);r!=null&&h(e,["citationMetadata"],OD(r));const i=d(t,["tokenCount"]);i!=null&&h(e,["tokenCount"],i);const a=d(t,["finishReason"]);a!=null&&h(e,["finishReason"],a);const s=d(t,["avgLogprobs"]);s!=null&&h(e,["avgLogprobs"],s);const o=d(t,["groundingMetadata"]);o!=null&&h(e,["groundingMetadata"],o);const l=d(t,["index"]);l!=null&&h(e,["index"],l);const u=d(t,["logprobsResult"]);u!=null&&h(e,["logprobsResult"],u);const c=d(t,["safetyRatings"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>m)),h(e,["safetyRatings"],p)}const f=d(t,["urlContextMetadata"]);return f!=null&&h(e,["urlContextMetadata"],f),e}function OD(t){const e={},n=d(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),h(e,["citations"],r)}return e}function LD(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["contents"]);if(i!=null){let a=Xn(i);Array.isArray(a)&&(a=a.map(s=>s)),h(n,["contents"],a)}return n}function PD(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),h(e,["tokensInfo"],i)}return e}function BD(t){const e={},n=d(t,["values"]);n!=null&&h(e,["values"],n);const r=d(t,["statistics"]);return r!=null&&h(e,["statistics"],qD(r)),e}function qD(t){const e={},n=d(t,["truncated"]);n!=null&&h(e,["truncated"],n);const r=d(t,["token_count"]);return r!=null&&h(e,["tokenCount"],r),e}function R0(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>jz(a))),h(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&h(e,["role"],r),e}function HD(t){const e={},n=d(t,["controlType"]);n!=null&&h(e,["controlType"],n);const r=d(t,["enableControlImageComputation"]);return r!=null&&h(e,["computeControl"],r),e}function FD(t){const e={};if(d(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(d(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(d(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function GD(t,e){const n={},r=d(t,["systemInstruction"]);e!==void 0&&r!=null&&h(e,["systemInstruction"],$t(r));const i=d(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(o=>z7(o))),h(e,["tools"],s)}const a=d(t,["generationConfig"]);return e!==void 0&&a!=null&&h(e,["generationConfig"],zz(a)),n}function VD(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["contents"]);if(i!=null){let s=Xn(i);Array.isArray(s)&&(s=s.map(o=>R0(o))),h(n,["contents"],s)}const a=d(e,["config"]);return a!=null&&FD(a),n}function $D(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["contents"]);if(i!=null){let s=Xn(i);Array.isArray(s)&&(s=s.map(o=>o)),h(n,["contents"],s)}const a=d(e,["config"]);return a!=null&&GD(a,n),n}function YD(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);r!=null&&h(e,["totalTokens"],r);const i=d(t,["cachedContentTokenCount"]);return i!=null&&h(e,["cachedContentTokenCount"],i),e}function KD(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["totalTokens"]);return r!=null&&h(e,["totalTokens"],r),e}function JD(t,e){const n={},r=d(e,["model"]);return r!=null&&h(n,["_url","name"],ze(t,r)),n}function jD(t,e){const n={},r=d(e,["model"]);return r!=null&&h(n,["_url","name"],ze(t,r)),n}function XD(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function WD(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}function QD(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&h(e,["parameters","negativePrompt"],i);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&h(e,["parameters","sampleCount"],a);const s=d(t,["aspectRatio"]);e!==void 0&&s!=null&&h(e,["parameters","aspectRatio"],s);const o=d(t,["guidanceScale"]);e!==void 0&&o!=null&&h(e,["parameters","guidanceScale"],o);const l=d(t,["seed"]);e!==void 0&&l!=null&&h(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&h(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&h(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&h(e,["parameters","includeSafetyAttributes"],f);const p=d(t,["includeRaiReason"]);e!==void 0&&p!=null&&h(e,["parameters","includeRaiReason"],p);const m=d(t,["language"]);e!==void 0&&m!=null&&h(e,["parameters","language"],m);const y=d(t,["outputMimeType"]);e!==void 0&&y!=null&&h(e,["parameters","outputOptions","mimeType"],y);const w=d(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&h(e,["parameters","outputOptions","compressionQuality"],w);const E=d(t,["addWatermark"]);e!==void 0&&E!=null&&h(e,["parameters","addWatermark"],E);const b=d(t,["labels"]);e!==void 0&&b!=null&&h(e,["labels"],b);const S=d(t,["editMode"]);e!==void 0&&S!=null&&h(e,["parameters","editMode"],S);const _=d(t,["baseSteps"]);return e!==void 0&&_!=null&&h(e,["parameters","editConfig","baseSteps"],_),n}function ZD(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["prompt"]);i!=null&&h(n,["instances[0]","prompt"],i);const a=d(e,["referenceImages"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>tU(l))),h(n,["instances[0]","referenceImages"],o)}const s=d(e,["config"]);return s!=null&&QD(s,n),n}function ez(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>M0(a))),h(e,["generatedImages"],i)}return e}function tz(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&h(e,["requests[]","taskType"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&h(e,["requests[]","title"],i);const a=d(t,["outputDimensionality"]);if(e!==void 0&&a!=null&&h(e,["requests[]","outputDimensionality"],a),d(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(d(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function nz(t,e){const n={},r=d(t,["taskType"]);e!==void 0&&r!=null&&h(e,["instances[]","task_type"],r);const i=d(t,["title"]);e!==void 0&&i!=null&&h(e,["instances[]","title"],i);const a=d(t,["outputDimensionality"]);e!==void 0&&a!=null&&h(e,["parameters","outputDimensionality"],a);const s=d(t,["mimeType"]);e!==void 0&&s!=null&&h(e,["instances[]","mimeType"],s);const o=d(t,["autoTruncate"]);return e!==void 0&&o!=null&&h(e,["parameters","autoTruncate"],o),n}function rz(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["contents"]);if(i!=null){let o=Vm(t,i);Array.isArray(o)&&(o=o.map(l=>l)),h(n,["requests[]","content"],o)}const a=d(e,["config"]);a!=null&&tz(a,n);const s=d(e,["model"]);return s!==void 0&&h(n,["requests[]","model"],ze(t,s)),n}function iz(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["contents"]);if(i!=null){let s=Vm(t,i);Array.isArray(s)&&(s=s.map(o=>o)),h(n,["instances[]","content"],s)}const a=d(e,["config"]);return a!=null&&nz(a,n),n}function az(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),h(e,["embeddings"],a)}const i=d(t,["metadata"]);return i!=null&&h(e,["metadata"],i),e}function sz(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["predictions[]","embeddings"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>BD(s))),h(e,["embeddings"],a)}const i=d(t,["metadata"]);return i!=null&&h(e,["metadata"],i),e}function oz(t){const e={},n=d(t,["endpoint"]);n!=null&&h(e,["name"],n);const r=d(t,["deployedModelId"]);return r!=null&&h(e,["deployedModelId"],r),e}function lz(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function uz(t){const e={},n=d(t,["id"]);n!=null&&h(e,["id"],n);const r=d(t,["args"]);r!=null&&h(e,["args"],r);const i=d(t,["name"]);if(i!=null&&h(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function cz(t){const e={},n=d(t,["allowedFunctionNames"]);n!=null&&h(e,["allowedFunctionNames"],n);const r=d(t,["mode"]);if(r!=null&&h(e,["mode"],r),d(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function dz(t){const e={},n=d(t,["description"]);n!=null&&h(e,["description"],n);const r=d(t,["name"]);r!=null&&h(e,["name"],r);const i=d(t,["parameters"]);i!=null&&h(e,["parameters"],i);const a=d(t,["parametersJsonSchema"]);a!=null&&h(e,["parametersJsonSchema"],a);const s=d(t,["response"]);s!=null&&h(e,["response"],s);const o=d(t,["responseJsonSchema"]);if(o!=null&&h(e,["responseJsonSchema"],o),d(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return e}function hz(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&h(n,["systemInstruction"],R0($t(i)));const a=d(e,["temperature"]);a!=null&&h(r,["temperature"],a);const s=d(e,["topP"]);s!=null&&h(r,["topP"],s);const o=d(e,["topK"]);o!=null&&h(r,["topK"],o);const l=d(e,["candidateCount"]);l!=null&&h(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&h(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&h(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&h(r,["responseLogprobs"],f);const p=d(e,["logprobs"]);p!=null&&h(r,["logprobs"],p);const m=d(e,["presencePenalty"]);m!=null&&h(r,["presencePenalty"],m);const y=d(e,["frequencyPenalty"]);y!=null&&h(r,["frequencyPenalty"],y);const w=d(e,["seed"]);w!=null&&h(r,["seed"],w);const E=d(e,["responseMimeType"]);E!=null&&h(r,["responseMimeType"],E);const b=d(e,["responseSchema"]);b!=null&&h(r,["responseSchema"],$m(b));const S=d(e,["responseJsonSchema"]);if(S!=null&&h(r,["responseJsonSchema"],S),d(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(d(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const _=d(e,["safetySettings"]);if(n!==void 0&&_!=null){let ie=_;Array.isArray(ie)&&(ie=ie.map(oe=>nU(oe))),h(n,["safetySettings"],ie)}const C=d(e,["tools"]);if(n!==void 0&&C!=null){let ie=ao(C);Array.isArray(ie)&&(ie=ie.map(oe=>uU(io(oe)))),h(n,["tools"],ie)}const I=d(e,["toolConfig"]);if(n!==void 0&&I!=null&&h(n,["toolConfig"],lU(I)),d(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const k=d(e,["cachedContent"]);n!==void 0&&k!=null&&h(n,["cachedContent"],ci(t,k));const D=d(e,["responseModalities"]);D!=null&&h(r,["responseModalities"],D);const B=d(e,["mediaResolution"]);B!=null&&h(r,["mediaResolution"],B);const O=d(e,["speechConfig"]);if(O!=null&&h(r,["speechConfig"],Ym(O)),d(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=d(e,["thinkingConfig"]);F!=null&&h(r,["thinkingConfig"],F);const Y=d(e,["imageConfig"]);Y!=null&&h(r,["imageConfig"],Bz(Y));const J=d(e,["enableEnhancedCivicAnswers"]);if(J!=null&&h(r,["enableEnhancedCivicAnswers"],J),d(e,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return r}function fz(t,e,n){const r={},i=d(e,["systemInstruction"]);n!==void 0&&i!=null&&h(n,["systemInstruction"],$t(i));const a=d(e,["temperature"]);a!=null&&h(r,["temperature"],a);const s=d(e,["topP"]);s!=null&&h(r,["topP"],s);const o=d(e,["topK"]);o!=null&&h(r,["topK"],o);const l=d(e,["candidateCount"]);l!=null&&h(r,["candidateCount"],l);const u=d(e,["maxOutputTokens"]);u!=null&&h(r,["maxOutputTokens"],u);const c=d(e,["stopSequences"]);c!=null&&h(r,["stopSequences"],c);const f=d(e,["responseLogprobs"]);f!=null&&h(r,["responseLogprobs"],f);const p=d(e,["logprobs"]);p!=null&&h(r,["logprobs"],p);const m=d(e,["presencePenalty"]);m!=null&&h(r,["presencePenalty"],m);const y=d(e,["frequencyPenalty"]);y!=null&&h(r,["frequencyPenalty"],y);const w=d(e,["seed"]);w!=null&&h(r,["seed"],w);const E=d(e,["responseMimeType"]);E!=null&&h(r,["responseMimeType"],E);const b=d(e,["responseSchema"]);b!=null&&h(r,["responseSchema"],$m(b));const S=d(e,["responseJsonSchema"]);S!=null&&h(r,["responseJsonSchema"],S);const _=d(e,["routingConfig"]);_!=null&&h(r,["routingConfig"],_);const C=d(e,["modelSelectionConfig"]);C!=null&&h(r,["modelConfig"],C);const I=d(e,["safetySettings"]);if(n!==void 0&&I!=null){let V=I;Array.isArray(V)&&(V=V.map(P=>P)),h(n,["safetySettings"],V)}const k=d(e,["tools"]);if(n!==void 0&&k!=null){let V=ao(k);Array.isArray(V)&&(V=V.map(P=>z7(io(P)))),h(n,["tools"],V)}const D=d(e,["toolConfig"]);n!==void 0&&D!=null&&h(n,["toolConfig"],D);const B=d(e,["labels"]);n!==void 0&&B!=null&&h(n,["labels"],B);const O=d(e,["cachedContent"]);n!==void 0&&O!=null&&h(n,["cachedContent"],ci(t,O));const F=d(e,["responseModalities"]);F!=null&&h(r,["responseModalities"],F);const Y=d(e,["mediaResolution"]);Y!=null&&h(r,["mediaResolution"],Y);const J=d(e,["speechConfig"]);J!=null&&h(r,["speechConfig"],Ym(J));const ie=d(e,["audioTimestamp"]);ie!=null&&h(r,["audioTimestamp"],ie);const oe=d(e,["thinkingConfig"]);oe!=null&&h(r,["thinkingConfig"],oe);const H=d(e,["imageConfig"]);if(H!=null&&h(r,["imageConfig"],qz(H)),d(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const q=d(e,["modelArmorConfig"]);return n!==void 0&&q!=null&&h(n,["modelArmorConfig"],q),r}function D4(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["contents"]);if(i!=null){let s=Xn(i);Array.isArray(s)&&(s=s.map(o=>R0(o))),h(n,["contents"],s)}const a=d(e,["config"]);return a!=null&&h(n,["generationConfig"],hz(t,a,n)),n}function z4(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["contents"]);if(i!=null){let s=Xn(i);Array.isArray(s)&&(s=s.map(o=>o)),h(n,["contents"],s)}const a=d(e,["config"]);return a!=null&&h(n,["generationConfig"],fz(t,a,n)),n}function U4(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(u=>UD(u))),h(e,["candidates"],l)}const i=d(t,["modelVersion"]);i!=null&&h(e,["modelVersion"],i);const a=d(t,["promptFeedback"]);a!=null&&h(e,["promptFeedback"],a);const s=d(t,["responseId"]);s!=null&&h(e,["responseId"],s);const o=d(t,["usageMetadata"]);return o!=null&&h(e,["usageMetadata"],o),e}function O4(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["candidates"]);if(r!=null){let u=r;Array.isArray(u)&&(u=u.map(c=>c)),h(e,["candidates"],u)}const i=d(t,["createTime"]);i!=null&&h(e,["createTime"],i);const a=d(t,["modelVersion"]);a!=null&&h(e,["modelVersion"],a);const s=d(t,["promptFeedback"]);s!=null&&h(e,["promptFeedback"],s);const o=d(t,["responseId"]);o!=null&&h(e,["responseId"],o);const l=d(t,["usageMetadata"]);return l!=null&&h(e,["usageMetadata"],l),e}function pz(t,e){const n={};if(d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&h(e,["parameters","sampleCount"],r);const i=d(t,["aspectRatio"]);e!==void 0&&i!=null&&h(e,["parameters","aspectRatio"],i);const a=d(t,["guidanceScale"]);if(e!==void 0&&a!=null&&h(e,["parameters","guidanceScale"],a),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=d(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&h(e,["parameters","safetySetting"],s);const o=d(t,["personGeneration"]);e!==void 0&&o!=null&&h(e,["parameters","personGeneration"],o);const l=d(t,["includeSafetyAttributes"]);e!==void 0&&l!=null&&h(e,["parameters","includeSafetyAttributes"],l);const u=d(t,["includeRaiReason"]);e!==void 0&&u!=null&&h(e,["parameters","includeRaiReason"],u);const c=d(t,["language"]);e!==void 0&&c!=null&&h(e,["parameters","language"],c);const f=d(t,["outputMimeType"]);e!==void 0&&f!=null&&h(e,["parameters","outputOptions","mimeType"],f);const p=d(t,["outputCompressionQuality"]);if(e!==void 0&&p!=null&&h(e,["parameters","outputOptions","compressionQuality"],p),d(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const m=d(t,["imageSize"]);if(e!==void 0&&m!=null&&h(e,["parameters","sampleImageSize"],m),d(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function mz(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const i=d(t,["negativePrompt"]);e!==void 0&&i!=null&&h(e,["parameters","negativePrompt"],i);const a=d(t,["numberOfImages"]);e!==void 0&&a!=null&&h(e,["parameters","sampleCount"],a);const s=d(t,["aspectRatio"]);e!==void 0&&s!=null&&h(e,["parameters","aspectRatio"],s);const o=d(t,["guidanceScale"]);e!==void 0&&o!=null&&h(e,["parameters","guidanceScale"],o);const l=d(t,["seed"]);e!==void 0&&l!=null&&h(e,["parameters","seed"],l);const u=d(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&h(e,["parameters","safetySetting"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&h(e,["parameters","personGeneration"],c);const f=d(t,["includeSafetyAttributes"]);e!==void 0&&f!=null&&h(e,["parameters","includeSafetyAttributes"],f);const p=d(t,["includeRaiReason"]);e!==void 0&&p!=null&&h(e,["parameters","includeRaiReason"],p);const m=d(t,["language"]);e!==void 0&&m!=null&&h(e,["parameters","language"],m);const y=d(t,["outputMimeType"]);e!==void 0&&y!=null&&h(e,["parameters","outputOptions","mimeType"],y);const w=d(t,["outputCompressionQuality"]);e!==void 0&&w!=null&&h(e,["parameters","outputOptions","compressionQuality"],w);const E=d(t,["addWatermark"]);e!==void 0&&E!=null&&h(e,["parameters","addWatermark"],E);const b=d(t,["labels"]);e!==void 0&&b!=null&&h(e,["labels"],b);const S=d(t,["imageSize"]);e!==void 0&&S!=null&&h(e,["parameters","sampleImageSize"],S);const _=d(t,["enhancePrompt"]);return e!==void 0&&_!=null&&h(e,["parameters","enhancePrompt"],_),n}function gz(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["prompt"]);i!=null&&h(n,["instances[0]","prompt"],i);const a=d(e,["config"]);return a!=null&&pz(a,n),n}function yz(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["prompt"]);i!=null&&h(n,["instances[0]","prompt"],i);const a=d(e,["config"]);return a!=null&&mz(a,n),n}function vz(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>Rz(s))),h(e,["generatedImages"],a)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&h(e,["positivePromptSafetyAttributes"],I7(i)),e}function bz(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>M0(s))),h(e,["generatedImages"],a)}const i=d(t,["positivePromptSafetyAttributes"]);return i!=null&&h(e,["positivePromptSafetyAttributes"],D7(i)),e}function wz(t,e){const n={},r=d(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&h(e,["parameters","sampleCount"],r),d(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(d(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=d(t,["durationSeconds"]);if(e!==void 0&&i!=null&&h(e,["parameters","durationSeconds"],i),d(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=d(t,["aspectRatio"]);e!==void 0&&a!=null&&h(e,["parameters","aspectRatio"],a);const s=d(t,["resolution"]);e!==void 0&&s!=null&&h(e,["parameters","resolution"],s);const o=d(t,["personGeneration"]);if(e!==void 0&&o!=null&&h(e,["parameters","personGeneration"],o),d(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const l=d(t,["negativePrompt"]);e!==void 0&&l!=null&&h(e,["parameters","negativePrompt"],l);const u=d(t,["enhancePrompt"]);if(e!==void 0&&u!=null&&h(e,["parameters","enhancePrompt"],u),d(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const c=d(t,["lastFrame"]);e!==void 0&&c!=null&&h(e,["instances[0]","lastFrame"],I0(c));const f=d(t,["referenceImages"]);if(e!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>SU(m))),h(e,["instances[0]","referenceImages"],p)}if(d(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(d(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function xz(t,e){const n={},r=d(t,["numberOfVideos"]);e!==void 0&&r!=null&&h(e,["parameters","sampleCount"],r);const i=d(t,["outputGcsUri"]);e!==void 0&&i!=null&&h(e,["parameters","storageUri"],i);const a=d(t,["fps"]);e!==void 0&&a!=null&&h(e,["parameters","fps"],a);const s=d(t,["durationSeconds"]);e!==void 0&&s!=null&&h(e,["parameters","durationSeconds"],s);const o=d(t,["seed"]);e!==void 0&&o!=null&&h(e,["parameters","seed"],o);const l=d(t,["aspectRatio"]);e!==void 0&&l!=null&&h(e,["parameters","aspectRatio"],l);const u=d(t,["resolution"]);e!==void 0&&u!=null&&h(e,["parameters","resolution"],u);const c=d(t,["personGeneration"]);e!==void 0&&c!=null&&h(e,["parameters","personGeneration"],c);const f=d(t,["pubsubTopic"]);e!==void 0&&f!=null&&h(e,["parameters","pubsubTopic"],f);const p=d(t,["negativePrompt"]);e!==void 0&&p!=null&&h(e,["parameters","negativePrompt"],p);const m=d(t,["enhancePrompt"]);e!==void 0&&m!=null&&h(e,["parameters","enhancePrompt"],m);const y=d(t,["generateAudio"]);e!==void 0&&y!=null&&h(e,["parameters","generateAudio"],y);const w=d(t,["lastFrame"]);e!==void 0&&w!=null&&h(e,["instances[0]","lastFrame"],fr(w));const E=d(t,["referenceImages"]);if(e!==void 0&&E!=null){let _=E;Array.isArray(_)&&(_=_.map(C=>_U(C))),h(e,["instances[0]","referenceImages"],_)}const b=d(t,["mask"]);e!==void 0&&b!=null&&h(e,["instances[0]","mask"],xU(b));const S=d(t,["compressionQuality"]);return e!==void 0&&S!=null&&h(e,["parameters","compressionQuality"],S),n}function Sz(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const i=d(t,["done"]);i!=null&&h(e,["done"],i);const a=d(t,["error"]);a!=null&&h(e,["error"],a);const s=d(t,["response","generateVideoResponse"]);return s!=null&&h(e,["response"],Az(s)),e}function _z(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const i=d(t,["done"]);i!=null&&h(e,["done"],i);const a=d(t,["error"]);a!=null&&h(e,["error"],a);const s=d(t,["response"]);return s!=null&&h(e,["response"],Cz(s)),e}function Tz(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["prompt"]);i!=null&&h(n,["instances[0]","prompt"],i);const a=d(e,["image"]);a!=null&&h(n,["instances[0]","image"],I0(a));const s=d(e,["video"]);s!=null&&h(n,["instances[0]","video"],U7(s));const o=d(e,["source"]);o!=null&&kz(o,n);const l=d(e,["config"]);return l!=null&&wz(l,n),n}function Ez(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["prompt"]);i!=null&&h(n,["instances[0]","prompt"],i);const a=d(e,["image"]);a!=null&&h(n,["instances[0]","image"],fr(a));const s=d(e,["video"]);s!=null&&h(n,["instances[0]","video"],O7(s));const o=d(e,["source"]);o!=null&&Nz(o,n);const l=d(e,["config"]);return l!=null&&xz(l,n),n}function Az(t){const e={},n=d(t,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Iz(s))),h(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&h(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&h(e,["raiMediaFilteredReasons"],i),e}function Cz(t){const e={},n=d(t,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(s=>Dz(s))),h(e,["generatedVideos"],a)}const r=d(t,["raiMediaFilteredCount"]);r!=null&&h(e,["raiMediaFilteredCount"],r);const i=d(t,["raiMediaFilteredReasons"]);return i!=null&&h(e,["raiMediaFilteredReasons"],i),e}function kz(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&h(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&h(e,["instances[0]","image"],I0(i));const a=d(t,["video"]);return e!==void 0&&a!=null&&h(e,["instances[0]","video"],U7(a)),n}function Nz(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&h(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&h(e,["instances[0]","image"],fr(i));const a=d(t,["video"]);return e!==void 0&&a!=null&&h(e,["instances[0]","video"],O7(a)),n}function Rz(t){const e={},n=d(t,["_self"]);n!=null&&h(e,["image"],Hz(n));const r=d(t,["raiFilteredReason"]);r!=null&&h(e,["raiFilteredReason"],r);const i=d(t,["_self"]);return i!=null&&h(e,["safetyAttributes"],I7(i)),e}function M0(t){const e={},n=d(t,["_self"]);n!=null&&h(e,["image"],M7(n));const r=d(t,["raiFilteredReason"]);r!=null&&h(e,["raiFilteredReason"],r);const i=d(t,["_self"]);i!=null&&h(e,["safetyAttributes"],D7(i));const a=d(t,["prompt"]);return a!=null&&h(e,["enhancedPrompt"],a),e}function Mz(t){const e={},n=d(t,["_self"]);n!=null&&h(e,["mask"],M7(n));const r=d(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),h(e,["labels"],i)}return e}function Iz(t){const e={},n=d(t,["video"]);return n!=null&&h(e,["video"],bU(n)),e}function Dz(t){const e={},n=d(t,["_self"]);return n!=null&&h(e,["video"],wU(n)),e}function zz(t){const e={},n=d(t,["modelSelectionConfig"]);n!=null&&h(e,["modelConfig"],n);const r=d(t,["responseJsonSchema"]);r!=null&&h(e,["responseJsonSchema"],r);const i=d(t,["audioTimestamp"]);i!=null&&h(e,["audioTimestamp"],i);const a=d(t,["candidateCount"]);a!=null&&h(e,["candidateCount"],a);const s=d(t,["enableAffectiveDialog"]);s!=null&&h(e,["enableAffectiveDialog"],s);const o=d(t,["frequencyPenalty"]);o!=null&&h(e,["frequencyPenalty"],o);const l=d(t,["logprobs"]);l!=null&&h(e,["logprobs"],l);const u=d(t,["maxOutputTokens"]);u!=null&&h(e,["maxOutputTokens"],u);const c=d(t,["mediaResolution"]);c!=null&&h(e,["mediaResolution"],c);const f=d(t,["presencePenalty"]);f!=null&&h(e,["presencePenalty"],f);const p=d(t,["responseLogprobs"]);p!=null&&h(e,["responseLogprobs"],p);const m=d(t,["responseMimeType"]);m!=null&&h(e,["responseMimeType"],m);const y=d(t,["responseModalities"]);y!=null&&h(e,["responseModalities"],y);const w=d(t,["responseSchema"]);w!=null&&h(e,["responseSchema"],w);const E=d(t,["routingConfig"]);E!=null&&h(e,["routingConfig"],E);const b=d(t,["seed"]);b!=null&&h(e,["seed"],b);const S=d(t,["speechConfig"]);S!=null&&h(e,["speechConfig"],S);const _=d(t,["stopSequences"]);_!=null&&h(e,["stopSequences"],_);const C=d(t,["temperature"]);C!=null&&h(e,["temperature"],C);const I=d(t,["thinkingConfig"]);I!=null&&h(e,["thinkingConfig"],I);const k=d(t,["topK"]);k!=null&&h(e,["topK"],k);const D=d(t,["topP"]);if(D!=null&&h(e,["topP"],D),d(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Uz(t,e){const n={},r=d(e,["model"]);return r!=null&&h(n,["_url","name"],ze(t,r)),n}function Oz(t,e){const n={},r=d(e,["model"]);return r!=null&&h(n,["_url","name"],ze(t,r)),n}function Lz(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function Pz(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function Bz(t){const e={},n=d(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const r=d(t,["imageSize"]);if(r!=null&&h(e,["imageSize"],r),d(t,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(d(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(d(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function qz(t){const e={},n=d(t,["aspectRatio"]);n!=null&&h(e,["aspectRatio"],n);const r=d(t,["imageSize"]);r!=null&&h(e,["imageSize"],r);const i=d(t,["personGeneration"]);i!=null&&h(e,["personGeneration"],i);const a=d(t,["outputMimeType"]);a!=null&&h(e,["imageOutputOptions","mimeType"],a);const s=d(t,["outputCompressionQuality"]);return s!=null&&h(e,["imageOutputOptions","compressionQuality"],s),e}function Hz(t){const e={},n=d(t,["bytesBase64Encoded"]);n!=null&&h(e,["imageBytes"],na(n));const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function M7(t){const e={},n=d(t,["gcsUri"]);n!=null&&h(e,["gcsUri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&h(e,["imageBytes"],na(r));const i=d(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function I0(t){const e={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=d(t,["imageBytes"]);n!=null&&h(e,["bytesBase64Encoded"],na(n));const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function fr(t){const e={},n=d(t,["gcsUri"]);n!=null&&h(e,["gcsUri"],n);const r=d(t,["imageBytes"]);r!=null&&h(e,["bytesBase64Encoded"],na(r));const i=d(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function Fz(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&h(n,["_query","pageSize"],i);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&h(n,["_query","pageToken"],a);const s=d(e,["filter"]);n!==void 0&&s!=null&&h(n,["_query","filter"],s);const o=d(e,["queryBase"]);return n!==void 0&&o!=null&&h(n,["_url","models_url"],T7(t,o)),r}function Gz(t,e,n){const r={},i=d(e,["pageSize"]);n!==void 0&&i!=null&&h(n,["_query","pageSize"],i);const a=d(e,["pageToken"]);n!==void 0&&a!=null&&h(n,["_query","pageToken"],a);const s=d(e,["filter"]);n!==void 0&&s!=null&&h(n,["_query","filter"],s);const o=d(e,["queryBase"]);return n!==void 0&&o!=null&&h(n,["_url","models_url"],T7(t,o)),r}function Vz(t,e){const n={},r=d(e,["config"]);return r!=null&&Fz(t,r,n),n}function $z(t,e){const n={},r=d(e,["config"]);return r!=null&&Gz(t,r,n),n}function Yz(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let a=E7(i);Array.isArray(a)&&(a=a.map(s=>Lf(s))),h(e,["models"],a)}return e}function Kz(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const i=d(t,["_self"]);if(i!=null){let a=E7(i);Array.isArray(a)&&(a=a.map(s=>Pf(s))),h(e,["models"],a)}return e}function Jz(t){const e={},n=d(t,["maskMode"]);n!=null&&h(e,["maskMode"],n);const r=d(t,["segmentationClasses"]);r!=null&&h(e,["maskClasses"],r);const i=d(t,["maskDilation"]);return i!=null&&h(e,["dilation"],i),e}function Lf(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["displayName"]);r!=null&&h(e,["displayName"],r);const i=d(t,["description"]);i!=null&&h(e,["description"],i);const a=d(t,["version"]);a!=null&&h(e,["version"],a);const s=d(t,["_self"]);s!=null&&h(e,["tunedModelInfo"],cU(s));const o=d(t,["inputTokenLimit"]);o!=null&&h(e,["inputTokenLimit"],o);const l=d(t,["outputTokenLimit"]);l!=null&&h(e,["outputTokenLimit"],l);const u=d(t,["supportedGenerationMethods"]);u!=null&&h(e,["supportedActions"],u);const c=d(t,["temperature"]);c!=null&&h(e,["temperature"],c);const f=d(t,["maxTemperature"]);f!=null&&h(e,["maxTemperature"],f);const p=d(t,["topP"]);p!=null&&h(e,["topP"],p);const m=d(t,["topK"]);m!=null&&h(e,["topK"],m);const y=d(t,["thinking"]);return y!=null&&h(e,["thinking"],y),e}function Pf(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["displayName"]);r!=null&&h(e,["displayName"],r);const i=d(t,["description"]);i!=null&&h(e,["description"],i);const a=d(t,["versionId"]);a!=null&&h(e,["version"],a);const s=d(t,["deployedModels"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>oz(p))),h(e,["endpoints"],f)}const o=d(t,["labels"]);o!=null&&h(e,["labels"],o);const l=d(t,["_self"]);l!=null&&h(e,["tunedModelInfo"],dU(l));const u=d(t,["defaultCheckpointId"]);u!=null&&h(e,["defaultCheckpointId"],u);const c=d(t,["checkpoints"]);if(c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>p)),h(e,["checkpoints"],f)}return e}function jz(t){const e={},n=d(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&h(e,["executableCode"],i);const a=d(t,["fileData"]);a!=null&&h(e,["fileData"],lz(a));const s=d(t,["functionCall"]);s!=null&&h(e,["functionCall"],uz(s));const o=d(t,["functionResponse"]);o!=null&&h(e,["functionResponse"],o);const l=d(t,["inlineData"]);l!=null&&h(e,["inlineData"],zD(l));const u=d(t,["text"]);u!=null&&h(e,["text"],u);const c=d(t,["thought"]);c!=null&&h(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&h(e,["thoughtSignature"],f);const p=d(t,["videoMetadata"]);return p!=null&&h(e,["videoMetadata"],p),e}function Xz(t){const e={},n=d(t,["productImage"]);return n!=null&&h(e,["image"],fr(n)),e}function Wz(t,e){const n={},r=d(t,["numberOfImages"]);e!==void 0&&r!=null&&h(e,["parameters","sampleCount"],r);const i=d(t,["baseSteps"]);e!==void 0&&i!=null&&h(e,["parameters","baseSteps"],i);const a=d(t,["outputGcsUri"]);e!==void 0&&a!=null&&h(e,["parameters","storageUri"],a);const s=d(t,["seed"]);e!==void 0&&s!=null&&h(e,["parameters","seed"],s);const o=d(t,["safetyFilterLevel"]);e!==void 0&&o!=null&&h(e,["parameters","safetySetting"],o);const l=d(t,["personGeneration"]);e!==void 0&&l!=null&&h(e,["parameters","personGeneration"],l);const u=d(t,["addWatermark"]);e!==void 0&&u!=null&&h(e,["parameters","addWatermark"],u);const c=d(t,["outputMimeType"]);e!==void 0&&c!=null&&h(e,["parameters","outputOptions","mimeType"],c);const f=d(t,["outputCompressionQuality"]);e!==void 0&&f!=null&&h(e,["parameters","outputOptions","compressionQuality"],f);const p=d(t,["enhancePrompt"]);e!==void 0&&p!=null&&h(e,["parameters","enhancePrompt"],p);const m=d(t,["labels"]);return e!==void 0&&m!=null&&h(e,["labels"],m),n}function Qz(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["source"]);i!=null&&eU(i,n);const a=d(e,["config"]);return a!=null&&Wz(a,n),n}function Zz(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>M0(i))),h(e,["generatedImages"],r)}return e}function eU(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&h(e,["instances[0]","prompt"],r);const i=d(t,["personImage"]);e!==void 0&&i!=null&&h(e,["instances[0]","personImage","image"],fr(i));const a=d(t,["productImages"]);if(e!==void 0&&a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>Xz(o))),h(e,["instances[0]","productImages"],s)}return n}function tU(t){const e={},n=d(t,["referenceImage"]);n!=null&&h(e,["referenceImage"],fr(n));const r=d(t,["referenceId"]);r!=null&&h(e,["referenceId"],r);const i=d(t,["referenceType"]);i!=null&&h(e,["referenceType"],i);const a=d(t,["maskImageConfig"]);a!=null&&h(e,["maskImageConfig"],Jz(a));const s=d(t,["controlImageConfig"]);s!=null&&h(e,["controlImageConfig"],HD(s));const o=d(t,["styleImageConfig"]);o!=null&&h(e,["styleImageConfig"],o);const l=d(t,["subjectImageConfig"]);return l!=null&&h(e,["subjectImageConfig"],l),e}function I7(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&h(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&h(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&h(e,["contentType"],i),e}function D7(t){const e={},n=d(t,["safetyAttributes","categories"]);n!=null&&h(e,["categories"],n);const r=d(t,["safetyAttributes","scores"]);r!=null&&h(e,["scores"],r);const i=d(t,["contentType"]);return i!=null&&h(e,["contentType"],i),e}function nU(t){const e={},n=d(t,["category"]);if(n!=null&&h(e,["category"],n),d(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=d(t,["threshold"]);return r!=null&&h(e,["threshold"],r),e}function rU(t){const e={},n=d(t,["image"]);return n!=null&&h(e,["image"],fr(n)),e}function iU(t,e){const n={},r=d(t,["mode"]);e!==void 0&&r!=null&&h(e,["parameters","mode"],r);const i=d(t,["maxPredictions"]);e!==void 0&&i!=null&&h(e,["parameters","maxPredictions"],i);const a=d(t,["confidenceThreshold"]);e!==void 0&&a!=null&&h(e,["parameters","confidenceThreshold"],a);const s=d(t,["maskDilation"]);e!==void 0&&s!=null&&h(e,["parameters","maskDilation"],s);const o=d(t,["binaryColorThreshold"]);e!==void 0&&o!=null&&h(e,["parameters","binaryColorThreshold"],o);const l=d(t,["labels"]);return e!==void 0&&l!=null&&h(e,["labels"],l),n}function aU(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["source"]);i!=null&&oU(i,n);const a=d(e,["config"]);return a!=null&&iU(a,n),n}function sU(t){const e={},n=d(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>Mz(i))),h(e,["generatedMasks"],r)}return e}function oU(t,e){const n={},r=d(t,["prompt"]);e!==void 0&&r!=null&&h(e,["instances[0]","prompt"],r);const i=d(t,["image"]);e!==void 0&&i!=null&&h(e,["instances[0]","image"],fr(i));const a=d(t,["scribbleImage"]);return e!==void 0&&a!=null&&h(e,["instances[0]","scribble"],rU(a)),n}function lU(t){const e={},n=d(t,["retrievalConfig"]);n!=null&&h(e,["retrievalConfig"],n);const r=d(t,["functionCallingConfig"]);return r!=null&&h(e,["functionCallingConfig"],cz(r)),e}function uU(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&h(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&h(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&h(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["functionDeclarations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),h(e,["functionDeclarations"],c)}const s=d(t,["googleMaps"]);s!=null&&h(e,["googleMaps"],Lz(s));const o=d(t,["googleSearch"]);o!=null&&h(e,["googleSearch"],Pz(o));const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&h(e,["urlContext"],u),e}function z7(t){const e={},n=d(t,["retrieval"]);n!=null&&h(e,["retrieval"],n);const r=d(t,["computerUse"]);if(r!=null&&h(e,["computerUse"],r),d(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const i=d(t,["codeExecution"]);i!=null&&h(e,["codeExecution"],i);const a=d(t,["enterpriseWebSearch"]);a!=null&&h(e,["enterpriseWebSearch"],a);const s=d(t,["functionDeclarations"]);if(s!=null){let f=s;Array.isArray(f)&&(f=f.map(p=>dz(p))),h(e,["functionDeclarations"],f)}const o=d(t,["googleMaps"]);o!=null&&h(e,["googleMaps"],o);const l=d(t,["googleSearch"]);l!=null&&h(e,["googleSearch"],l);const u=d(t,["googleSearchRetrieval"]);u!=null&&h(e,["googleSearchRetrieval"],u);const c=d(t,["urlContext"]);return c!=null&&h(e,["urlContext"],c),e}function cU(t){const e={},n=d(t,["baseModel"]);n!=null&&h(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&h(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&h(e,["updateTime"],i),e}function dU(t){const e={},n=d(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&h(e,["baseModel"],n);const r=d(t,["createTime"]);r!=null&&h(e,["createTime"],r);const i=d(t,["updateTime"]);return i!=null&&h(e,["updateTime"],i),e}function hU(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&h(e,["description"],i);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&h(e,["defaultCheckpointId"],a),n}function fU(t,e){const n={},r=d(t,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const i=d(t,["description"]);e!==void 0&&i!=null&&h(e,["description"],i);const a=d(t,["defaultCheckpointId"]);return e!==void 0&&a!=null&&h(e,["defaultCheckpointId"],a),n}function pU(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","name"],ze(t,r));const i=d(e,["config"]);return i!=null&&hU(i,n),n}function mU(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["config"]);return i!=null&&fU(i,n),n}function gU(t,e){const n={},r=d(t,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const i=d(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&h(e,["parameters","safetySetting"],i);const a=d(t,["personGeneration"]);e!==void 0&&a!=null&&h(e,["parameters","personGeneration"],a);const s=d(t,["includeRaiReason"]);e!==void 0&&s!=null&&h(e,["parameters","includeRaiReason"],s);const o=d(t,["outputMimeType"]);e!==void 0&&o!=null&&h(e,["parameters","outputOptions","mimeType"],o);const l=d(t,["outputCompressionQuality"]);e!==void 0&&l!=null&&h(e,["parameters","outputOptions","compressionQuality"],l);const u=d(t,["enhanceInputImage"]);e!==void 0&&u!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=d(t,["imagePreservationFactor"]);e!==void 0&&c!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const f=d(t,["labels"]);e!==void 0&&f!=null&&h(e,["labels"],f);const p=d(t,["numberOfImages"]);e!==void 0&&p!=null&&h(e,["parameters","sampleCount"],p);const m=d(t,["mode"]);return e!==void 0&&m!=null&&h(e,["parameters","mode"],m),n}function yU(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["_url","model"],ze(t,r));const i=d(e,["image"]);i!=null&&h(n,["instances[0]","image"],fr(i));const a=d(e,["upscaleFactor"]);a!=null&&h(n,["parameters","upscaleConfig","upscaleFactor"],a);const s=d(e,["config"]);return s!=null&&gU(s,n),n}function vU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>M0(a))),h(e,["generatedImages"],i)}return e}function bU(t){const e={},n=d(t,["uri"]);n!=null&&h(e,["uri"],n);const r=d(t,["encodedVideo"]);r!=null&&h(e,["videoBytes"],na(r));const i=d(t,["encoding"]);return i!=null&&h(e,["mimeType"],i),e}function wU(t){const e={},n=d(t,["gcsUri"]);n!=null&&h(e,["uri"],n);const r=d(t,["bytesBase64Encoded"]);r!=null&&h(e,["videoBytes"],na(r));const i=d(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}function xU(t){const e={},n=d(t,["image"]);n!=null&&h(e,["_self"],fr(n));const r=d(t,["maskMode"]);return r!=null&&h(e,["maskMode"],r),e}function SU(t){const e={},n=d(t,["image"]);n!=null&&h(e,["image"],I0(n));const r=d(t,["referenceType"]);return r!=null&&h(e,["referenceType"],r),e}function _U(t){const e={},n=d(t,["image"]);n!=null&&h(e,["image"],fr(n));const r=d(t,["referenceType"]);return r!=null&&h(e,["referenceType"],r),e}function U7(t){const e={},n=d(t,["uri"]);n!=null&&h(e,["uri"],n);const r=d(t,["videoBytes"]);r!=null&&h(e,["encodedVideo"],na(r));const i=d(t,["mimeType"]);return i!=null&&h(e,["encoding"],i),e}function O7(t){const e={},n=d(t,["uri"]);n!=null&&h(e,["gcsUri"],n);const r=d(t,["videoBytes"]);r!=null&&h(e,["bytesBase64Encoded"],na(r));const i=d(t,["mimeType"]);return i!=null&&h(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TU(t,e){const n={},r=d(t,["displayName"]);return e!==void 0&&r!=null&&h(e,["displayName"],r),n}function EU(t){const e={},n=d(t,["config"]);return n!=null&&TU(n,e),e}function AU(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&h(e,["_query","force"],r),n}function CU(t){const e={},n=d(t,["name"]);n!=null&&h(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&AU(r,e),e}function kU(t){const e={},n=d(t,["name"]);return n!=null&&h(e,["_url","name"],n),e}function NU(t,e){const n={},r=d(t,["customMetadata"]);if(e!==void 0&&r!=null){let a=r;Array.isArray(a)&&(a=a.map(s=>s)),h(e,["customMetadata"],a)}const i=d(t,["chunkingConfig"]);return e!==void 0&&i!=null&&h(e,["chunkingConfig"],i),n}function RU(t){const e={},n=d(t,["name"]);n!=null&&h(e,["name"],n);const r=d(t,["metadata"]);r!=null&&h(e,["metadata"],r);const i=d(t,["done"]);i!=null&&h(e,["done"],i);const a=d(t,["error"]);a!=null&&h(e,["error"],a);const s=d(t,["response"]);return s!=null&&h(e,["response"],IU(s)),e}function MU(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&h(e,["_url","file_search_store_name"],n);const r=d(t,["fileName"]);r!=null&&h(e,["fileName"],r);const i=d(t,["config"]);return i!=null&&NU(i,e),e}function IU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["parent"]);r!=null&&h(e,["parent"],r);const i=d(t,["documentName"]);return i!=null&&h(e,["documentName"],i),e}function DU(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&h(e,["_query","pageToken"],i),n}function zU(t){const e={},n=d(t,["config"]);return n!=null&&DU(n,e),e}function UU(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const i=d(t,["fileSearchStores"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),h(e,["fileSearchStores"],a)}return e}function L7(t,e){const n={},r=d(t,["mimeType"]);e!==void 0&&r!=null&&h(e,["mimeType"],r);const i=d(t,["displayName"]);e!==void 0&&i!=null&&h(e,["displayName"],i);const a=d(t,["customMetadata"]);if(e!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(l=>l)),h(e,["customMetadata"],o)}const s=d(t,["chunkingConfig"]);return e!==void 0&&s!=null&&h(e,["chunkingConfig"],s),n}function OU(t){const e={},n=d(t,["fileSearchStoreName"]);n!=null&&h(e,["_url","file_search_store_name"],n);const r=d(t,["config"]);return r!=null&&L7(r,e),e}function LU(t){const e={},n=d(t,["sdkHttpResponse"]);return n!=null&&h(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const PU="Content-Type",BU="X-Server-Timeout",qU="User-Agent",Bf="x-goog-api-client",HU="1.38.0",FU=`google-genai-sdk/${HU}`,GU="v1beta1",VU="v1beta";class $U{constructor(e){var n,r,i;this.clientOptions=Object.assign({},e),this.customBaseUrl=(n=e.httpOptions)===null||n===void 0?void 0:n.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const a={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const o=e.project&&e.location||!!e.apiKey;this.customBaseUrl&&!o?(a.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?a.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(a.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),a.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:GU}else{if(!this.clientOptions.apiKey)throw new vl({message:"API key must be set when using the Gemini API.",status:403});a.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:VU,a.baseUrl="https://generativelanguage.googleapis.com/"}a.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=a,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(a,e.httpOptions))}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const e=new Headers;return await this.clientOptions.auth.addAuthHeaders(e),e}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e,n){return!(n.baseUrl&&n.baseUrlResourceScope===Df.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,o]of Object.entries(e.queryParams))i.searchParams.append(s,String(o));let a={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=e.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.unaryApiCall(i,a,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,a]of Object.entries(n))typeof a=="object"?r[i]=Object.assign(Object.assign({},r[i]),a):a!==void 0&&(r[i]=a);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e,n),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let a={};return a.body=e.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,i.toString(),e.abortSignal),this.streamApiCall(i,a,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const a=new AbortController,s=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const o=setTimeout(()=>a.abort(),n.timeout);o&&typeof o.unref=="function"&&o.unref()}i&&i.addEventListener("abort",()=>{a.abort()}),e.signal=s}return n&&n.extraBody!==null&&YU(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await L4(i),new zf(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await L4(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){return cr(this,arguments,function*(){var r;const i=(r=e==null?void 0:e.body)===null||r===void 0?void 0:r.getReader(),a=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";const o="data:",l=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:u,value:c}=yield ve(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const f=a.decode(c,{stream:!0});try{const y=JSON.parse(f);if("error"in y){const w=JSON.parse(JSON.stringify(y.error)),E=w.status,b=w.code,S=`got status: ${E}. ${JSON.stringify(y)}`;if(b>=400&&b<600)throw new vl({message:S,status:b})}}catch(y){if(y.name==="ApiError")throw y}s+=f;let p=-1,m=0;for(;;){p=-1,m=0;for(const E of l){const b=s.indexOf(E);b!==-1&&(p===-1||b<p)&&(p=b,m=E.length)}if(p===-1)break;const y=s.substring(0,p);s=s.substring(p+m);const w=y.trim();if(w.startsWith(o)){const E=w.substring(o.length).trim();try{const b=new Response(E,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield ve(new zf(b))}catch(b){throw new Error(`exception parsing stream chunk ${E}. ${b}`)}}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=FU+" "+this.clientOptions.userAgentExtra;return e[qU]=n,e[Bf]=n,e[PU]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,a]of Object.entries(e.headers))r.append(i,a);e.timeout&&e.timeout>0&&r.append(BU,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const a=this.clientOptions.uploader,s=await a.stat(e);i.sizeBytes=String(s.size);const o=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(o===void 0||o==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=o;const l={file:i},u=this.getFileName(e),c=te("upload/v1beta/files",l._url),f=await this.fetchUploadUrl(c,i.sizeBytes,i.mimeType,u,l,n==null?void 0:n.httpOptions);return a.upload(e,f,this)}async uploadFileToFileSearchStore(e,n,r){var i;const a=this.clientOptions.uploader,s=await a.stat(n),o=String(s.size),l=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(l===void 0||l==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const u=`upload/v1beta/${e}:uploadToFileSearchStore`,c=this.getFileName(n),f={};r!=null&&L7(r,f);const p=await this.fetchUploadUrl(u,o,l,c,f,r==null?void 0:r.httpOptions);return a.uploadToFileSearchStore(n,p,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,a,s){var o;let l={};s?l=s:l={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const u=await this.request({path:e,body:JSON.stringify(a),httpMethod:"POST",httpOptions:l});if(!u||!(u!=null&&u.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const c=(o=u==null?void 0:u.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(c===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return c}}async function L4(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new vl({message:i,status:n}):new Error(i)}}function YU(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const a=JSON.parse(t.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(a,s){const o=Object.assign({},a);for(const l in s)if(Object.prototype.hasOwnProperty.call(s,l)){const u=s[l],c=o[l];u&&typeof u=="object"&&!Array.isArray(u)&&c&&typeof c=="object"&&!Array.isArray(c)?o[l]=r(c,u):(c&&u&&typeof c!=typeof u&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${l}". Original type: ${typeof c}, New type: ${typeof u}. Overwriting.`),o[l]=u)}return o}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KU="mcp_used/unknown";let JU=!1;function P7(t){for(const e of t)if(jU(e)||typeof e=="object"&&"inputSchema"in e)return!0;return JU}function B7(t){var e;const n=(e=t[Bf])!==null&&e!==void 0?e:"";t[Bf]=(n+` ${KU}`).trimStart()}function jU(t){return t!==null&&typeof t=="object"&&t instanceof Jm}function XU(t){return cr(this,arguments,function*(n,r=100){let i,a=0;for(;a<r;){const s=yield ve(n.listTools({cursor:i}));for(const o of s.tools)yield yield ve(o),a++;if(!s.nextCursor)break;i=s.nextCursor}})}class Jm{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new Jm(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const a={},s=[];for(const c of this.mcpClients)try{for(var o=!0,l=(n=void 0,dr(XU(c))),u;u=await l.next(),e=u.done,!e;o=!0){i=u.value,o=!1;const f=i;s.push(f);const p=f.name;if(a[p])throw new Error(`Duplicate function name ${p} found in MCP tools. Please ensure function names are unique.`);a[p]=c}}catch(f){n={error:f}}finally{try{!o&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),CM(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,a);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function WU(t,e,n){const r=new bM;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class QU{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),s=tO(this.apiClient.getDefaultHeaders()),o=this.apiClient.getApiKey(),l=`${i}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${o}`;let u=()=>{};const c=new Promise(_=>{u=_}),f=e.callbacks,p=function(){u({})},m=this.apiClient,y={onopen:p,onmessage:_=>{WU(m,f.onmessage,_)},onerror:(n=f==null?void 0:f.onerror)!==null&&n!==void 0?n:function(_){},onclose:(r=f==null?void 0:f.onclose)!==null&&r!==void 0?r:function(_){}},w=this.webSocketFactory.create(l,eO(s),y);w.connect(),await c;const S={setup:{model:ze(this.apiClient,e.model)}};return w.send(JSON.stringify(S)),new ZU(w,this.apiClient)}}class ZU{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=TD(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=_D(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(ys.PLAY)}pause(){this.sendPlaybackControl(ys.PAUSE)}stop(){this.sendPlaybackControl(ys.STOP)}resetContext(){this.sendPlaybackControl(ys.RESET_CONTEXT)}close(){this.conn.close()}}function eO(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function tO(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const nO="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function rO(t,e,n){const r=new vM;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const a=JSON.parse(i);if(t.isVertexAI()){const s=CD(a);Object.assign(r,s)}else Object.assign(r,a);e(r)}class iO{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new QU(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,a,s,o;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const l=this.apiClient.getWebsocketBaseUrl(),u=this.apiClient.getApiVersion();let c;const f=this.apiClient.getHeaders();e.config&&e.config.tools&&P7(e.config.tools)&&B7(f);const p=lO(f);if(this.apiClient.isVertexAI()){const O=this.apiClient.getProject(),F=this.apiClient.getLocation(),Y=this.apiClient.getApiKey(),J=!!O&&!!F||!!Y;this.apiClient.getCustomBaseUrl()&&!J?c=l:(c=`${l}/ws/google.cloud.aiplatform.${u}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(p,c))}else{const O=this.apiClient.getApiKey();let F="BidiGenerateContent",Y="key";O!=null&&O.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),u!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",Y="access_token"),c=`${l}/ws/google.ai.generativelanguage.${u}.GenerativeService.${F}?${Y}=${O}`}let m=()=>{};const y=new Promise(O=>{m=O}),w=e.callbacks,E=function(){var O;(O=w==null?void 0:w.onopen)===null||O===void 0||O.call(w),m({})},b=this.apiClient,S={onopen:E,onmessage:O=>{rO(b,w.onmessage,O)},onerror:(n=w==null?void 0:w.onerror)!==null&&n!==void 0?n:function(O){},onclose:(r=w==null?void 0:w.onclose)!==null&&r!==void 0?r:function(O){}},_=this.webSocketFactory.create(c,oO(p),S);_.connect(),await y;let C=ze(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&C.startsWith("publishers/")){const O=this.apiClient.getProject(),F=this.apiClient.getLocation();O&&F&&(C=`projects/${O}/locations/${F}/`+C)}let I={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Gc.AUDIO]}:e.config.responseModalities=[Gc.AUDIO]),!((a=e.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const k=(o=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[],D=[];for(const O of k)if(this.isCallableTool(O)){const F=O;D.push(await F.tool())}else D.push(O);D.length>0&&(e.config.tools=D);const B={model:C,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?I=SD(this.apiClient,B):I=xD(this.apiClient,B),delete I.config,_.send(JSON.stringify(I)),new sO(_,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const aO={turnComplete:!0};class sO{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=Xn(n.turns),e.isVertexAI()||(r=r.map(i=>R0(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const a of r){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!e.isVertexAI()&&!("id"in a))throw new Error(nO)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},aO),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:AD(e)}:n={realtimeInput:ED(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function oO(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function lO(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const P4=10;function B4(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Is(s)){i=!0;break}if(!i)return!0;const a=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function Is(t){return"callTool"in t&&typeof t.callTool=="function"}function uO(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Is(i)))!==null&&r!==void 0?r:!1}function q4(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Is(r))return;const a=r;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(i)}),n}function H4(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cO extends ui{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,a,s,o;const l=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!uO(n)||B4(n.config))return await this.generateContentInternal(l);const u=q4(n);if(u.length>0){const w=u.map(E=>`tools[${E}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${w}.`)}let c,f;const p=Xn(l.contents),m=(a=(i=(r=l.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&a!==void 0?a:P4;let y=0;for(;y<m&&(c=await this.generateContentInternal(l),!(!c.functionCalls||c.functionCalls.length===0));){const w=c.candidates[0].content,E=[];for(const b of(o=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&o!==void 0?o:[])if(Is(b)){const _=await b.callTool(c.functionCalls);E.push(..._)}y++,f={role:"user",parts:E},l.contents=Xn(l.contents),l.contents.push(w),l.contents.push(f),H4(l.config)&&(p.push(w),p.push(f))}return H4(l.config)&&(c.automaticFunctionCallingHistory=p),c},this.generateContentStream=async n=>{var r,i,a,s,o;if(this.maybeMoveToResponseJsonSchem(n),B4(n.config)){const f=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(f)}const l=q4(n);if(l.length>0){const f=l.map(p=>`tools[${p}]`).join(", ");throw new Error(`Incompatible tools found at ${f}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const u=(a=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,c=(o=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||o===void 0?void 0:o.disable;if(u&&!c)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let a;const s=[];if(r!=null&&r.generatedImages)for(const l of r.generatedImages)l&&(l!=null&&l.safetyAttributes)&&((i=l==null?void 0:l.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?a=l==null?void 0:l.safetyAttributes:s.push(l);let o;return a?o={generatedImages:s,positivePromptSafetyAttributes:a,sdkHttpResponse:r.sdkHttpResponse}:o={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},o}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new Pa(si.PAGED_ITEM_MODELS,o=>this.listInternal(o),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,a,s,o,l;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(a=n.source)===null||a===void 0?void 0:a.video)===null||s===void 0)&&s.uri&&(!((l=(o=n.source)===null||o===void 0?void 0:o.video)===null||l===void 0)&&l.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const a=(n=e.config)===null||n===void 0?void 0:n.tools;if(!a)return e;const s=await Promise.all(a.map(async l=>Is(l)?await l.tool():l)),o={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(o.config.tools=s,e.config&&e.config.tools&&P7(e.config.tools)){const l=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let u=Object.assign({},l);Object.keys(u).length===0&&(u=this.apiClient.getDefaultHeaders()),B7(u),o.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:u})}return o}async initAfcToolsMap(e){var n,r,i;const a=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Is(s)){const o=s,l=await o.tool();for(const u of(i=l.functionDeclarations)!==null&&i!==void 0?i:[]){if(!u.name)throw new Error("Function declaration name is required.");if(a.has(u.name))throw new Error(`Duplicate tool declaration name: ${u.name}`);a.set(u.name,o)}}return a}async processAfcStream(e){var n,r,i;const a=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:P4;let s=!1,o=0;const l=await this.initAfcToolsMap(e);return function(u,c,f){return cr(this,arguments,function*(){for(var p,m,y,w,E,b;o<a;){s&&(o++,s=!1);const I=yield ve(u.processParamsMaybeAddMcpUsage(f)),k=yield ve(u.generateContentStreamInternal(I)),D=[],B=[];try{for(var S=!0,_=(m=void 0,dr(k)),C;C=yield ve(_.next()),p=C.done,!p;S=!0){w=C.value,S=!1;const O=w;if(yield yield ve(O),O.candidates&&(!((E=O.candidates[0])===null||E===void 0)&&E.content)){B.push(O.candidates[0].content);for(const F of(b=O.candidates[0].content.parts)!==null&&b!==void 0?b:[])if(o<a&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(c.has(F.functionCall.name)){const Y=yield ve(c.get(F.functionCall.name).callTool([F.functionCall]));D.push(...Y)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${c.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(O){m={error:O}}finally{try{!S&&!p&&(y=_.return)&&(yield ve(y.call(_)))}finally{if(m)throw m.error}}if(D.length>0){s=!0;const O=new bo;O.candidates=[{content:{role:"user",parts:D}}],yield yield ve(O);const F=[];F.push(...B),F.push({role:"user",parts:D});const Y=Xn(f.contents).concat(F);f.contents=Y}else break}})}(this,l,e)}async generateContentInternal(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=z4(this.apiClient,e);return o=te("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=O4(c),p=new bo;return Object.assign(p,f),p})}else{const u=D4(this.apiClient,e);return o=te("{model}:generateContent",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=U4(c),p=new bo;return Object.assign(p,f),p})}}async generateContentStreamInternal(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=z4(this.apiClient,e);return o=te("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(f){return cr(this,arguments,function*(){var p,m,y,w;try{for(var E=!0,b=dr(f),S;S=yield ve(b.next()),p=S.done,!p;E=!0){w=S.value,E=!1;const _=w,C=O4(yield ve(_.json()));C.sdkHttpResponse={headers:_.headers};const I=new bo;Object.assign(I,C),yield yield ve(I)}}catch(_){m={error:_}}finally{try{!E&&!p&&(y=b.return)&&(yield ve(y.call(b)))}finally{if(m)throw m.error}}})})}else{const u=D4(this.apiClient,e);return o=te("{model}:streamGenerateContent?alt=sse",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.requestStream({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}),s.then(function(f){return cr(this,arguments,function*(){var p,m,y,w;try{for(var E=!0,b=dr(f),S;S=yield ve(b.next()),p=S.done,!p;E=!0){w=S.value,E=!1;const _=w,C=U4(yield ve(_.json()));C.sdkHttpResponse={headers:_.headers};const I=new bo;Object.assign(I,C),yield yield ve(I)}}catch(_){m={error:_}}finally{try{!E&&!p&&(y=b.return)&&(yield ve(y.call(b)))}finally{if(m)throw m.error}}})})}}async embedContent(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=iz(this.apiClient,e);return o=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=sz(c),p=new g4;return Object.assign(p,f),p})}else{const u=rz(this.apiClient,e);return o=te("{model}:batchEmbedContents",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=az(c),p=new g4;return Object.assign(p,f),p})}}async generateImagesInternal(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=yz(this.apiClient,e);return o=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=bz(c),p=new y4;return Object.assign(p,f),p})}else{const u=gz(this.apiClient,e);return o=te("{model}:predict",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=vz(c),p=new y4;return Object.assign(p,f),p})}}async editImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=ZD(this.apiClient,e);return a=te("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=ez(l),c=new oM;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=yU(this.apiClient,e);return a=te("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=vU(l),c=new lM;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=Qz(this.apiClient,e);return a=te("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=Zz(l),c=new uM;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=aU(this.apiClient,e);return a=te("{model}:predict",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=sU(l),c=new cM;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=Oz(this.apiClient,e);return o=te("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Pf(c))}else{const u=Uz(this.apiClient,e);return o=te("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s.then(c=>Lf(c))}}async listInternal(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=$z(this.apiClient,e);return o=te("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=Kz(c),p=new v4;return Object.assign(p,f),p})}else{const u=Vz(this.apiClient,e);return o=te("{models_url}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=Yz(c),p=new v4;return Object.assign(p,f),p})}}async update(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=mU(this.apiClient,e);return o=te("{model}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>Pf(c))}else{const u=pU(this.apiClient,e);return o=te("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s.then(c=>Lf(c))}}async delete(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=jD(this.apiClient,e);return o=te("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=WD(c),p=new b4;return Object.assign(p,f),p})}else{const u=JD(this.apiClient,e);return o=te("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=XD(c),p=new b4;return Object.assign(p,f),p})}}async countTokens(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=$D(this.apiClient,e);return o=te("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=KD(c),p=new w4;return Object.assign(p,f),p})}else{const u=VD(this.apiClient,e);return o=te("{model}:countTokens",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=YD(c),p=new w4;return Object.assign(p,f),p})}}async computeTokens(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=LD(this.apiClient,e);return a=te("{model}:computeTokens",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>{const u=PD(l),c=new dM;return Object.assign(c,u),c})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=Ez(this.apiClient,e);return o=te("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s.then(c=>{const f=_z(c),p=new Vc;return Object.assign(p,f),p})}else{const u=Tz(this.apiClient,e);return o=te("{model}:predictLongRunning",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s.then(c=>{const f=Sz(c),p=new Vc;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class dO extends ui{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let a;r&&"httpOptions"in r&&(a=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=tM(e);return o=te("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),s}else{const u=eM(e);return o=te("{operationName}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=KR(e);return a=te("{resourceName}:fetchPredictOperation",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hO(t){const e={},n=d(t,["data"]);if(n!=null&&h(e,["data"],n),d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function fO(t){const e={},n=d(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(a=>SO(a))),h(e,["parts"],i)}const r=d(t,["role"]);return r!=null&&h(e,["role"],r),e}function pO(t,e,n){const r={},i=d(e,["expireTime"]);n!==void 0&&i!=null&&h(n,["expireTime"],i);const a=d(e,["newSessionExpireTime"]);n!==void 0&&a!=null&&h(n,["newSessionExpireTime"],a);const s=d(e,["uses"]);n!==void 0&&s!=null&&h(n,["uses"],s);const o=d(e,["liveConnectConstraints"]);n!==void 0&&o!=null&&h(n,["bidiGenerateContentSetup"],xO(t,o));const l=d(e,["lockAdditionalFields"]);return n!==void 0&&l!=null&&h(n,["fieldMask"],l),r}function mO(t,e){const n={},r=d(e,["config"]);return r!=null&&h(n,["config"],pO(t,r,n)),n}function gO(t){const e={};if(d(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=d(t,["fileUri"]);n!=null&&h(e,["fileUri"],n);const r=d(t,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function yO(t){const e={},n=d(t,["id"]);n!=null&&h(e,["id"],n);const r=d(t,["args"]);r!=null&&h(e,["args"],r);const i=d(t,["name"]);if(i!=null&&h(e,["name"],i),d(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(d(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function vO(t){const e={};if(d(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=d(t,["enableWidget"]);return n!=null&&h(e,["enableWidget"],n),e}function bO(t){const e={};if(d(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(d(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=d(t,["timeRangeFilter"]);return n!=null&&h(e,["timeRangeFilter"],n),e}function wO(t,e){const n={},r=d(t,["generationConfig"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig"],r);const i=d(t,["responseModalities"]);e!==void 0&&i!=null&&h(e,["setup","generationConfig","responseModalities"],i);const a=d(t,["temperature"]);e!==void 0&&a!=null&&h(e,["setup","generationConfig","temperature"],a);const s=d(t,["topP"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig","topP"],s);const o=d(t,["topK"]);e!==void 0&&o!=null&&h(e,["setup","generationConfig","topK"],o);const l=d(t,["maxOutputTokens"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","maxOutputTokens"],l);const u=d(t,["mediaResolution"]);e!==void 0&&u!=null&&h(e,["setup","generationConfig","mediaResolution"],u);const c=d(t,["seed"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","seed"],c);const f=d(t,["speechConfig"]);e!==void 0&&f!=null&&h(e,["setup","generationConfig","speechConfig"],Km(f));const p=d(t,["thinkingConfig"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","thinkingConfig"],p);const m=d(t,["enableAffectiveDialog"]);e!==void 0&&m!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=d(t,["systemInstruction"]);e!==void 0&&y!=null&&h(e,["setup","systemInstruction"],fO($t(y)));const w=d(t,["tools"]);if(e!==void 0&&w!=null){let k=ao(w);Array.isArray(k)&&(k=k.map(D=>TO(io(D)))),h(e,["setup","tools"],k)}const E=d(t,["sessionResumption"]);e!==void 0&&E!=null&&h(e,["setup","sessionResumption"],_O(E));const b=d(t,["inputAudioTranscription"]);e!==void 0&&b!=null&&h(e,["setup","inputAudioTranscription"],b);const S=d(t,["outputAudioTranscription"]);e!==void 0&&S!=null&&h(e,["setup","outputAudioTranscription"],S);const _=d(t,["realtimeInputConfig"]);e!==void 0&&_!=null&&h(e,["setup","realtimeInputConfig"],_);const C=d(t,["contextWindowCompression"]);e!==void 0&&C!=null&&h(e,["setup","contextWindowCompression"],C);const I=d(t,["proactivity"]);if(e!==void 0&&I!=null&&h(e,["setup","proactivity"],I),d(t,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function xO(t,e){const n={},r=d(e,["model"]);r!=null&&h(n,["setup","model"],ze(t,r));const i=d(e,["config"]);return i!=null&&h(n,["config"],wO(i,n)),n}function SO(t){const e={},n=d(t,["mediaResolution"]);n!=null&&h(e,["mediaResolution"],n);const r=d(t,["codeExecutionResult"]);r!=null&&h(e,["codeExecutionResult"],r);const i=d(t,["executableCode"]);i!=null&&h(e,["executableCode"],i);const a=d(t,["fileData"]);a!=null&&h(e,["fileData"],gO(a));const s=d(t,["functionCall"]);s!=null&&h(e,["functionCall"],yO(s));const o=d(t,["functionResponse"]);o!=null&&h(e,["functionResponse"],o);const l=d(t,["inlineData"]);l!=null&&h(e,["inlineData"],hO(l));const u=d(t,["text"]);u!=null&&h(e,["text"],u);const c=d(t,["thought"]);c!=null&&h(e,["thought"],c);const f=d(t,["thoughtSignature"]);f!=null&&h(e,["thoughtSignature"],f);const p=d(t,["videoMetadata"]);return p!=null&&h(e,["videoMetadata"],p),e}function _O(t){const e={},n=d(t,["handle"]);if(n!=null&&h(e,["handle"],n),d(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function TO(t){const e={};if(d(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=d(t,["computerUse"]);n!=null&&h(e,["computerUse"],n);const r=d(t,["fileSearch"]);r!=null&&h(e,["fileSearch"],r);const i=d(t,["codeExecution"]);if(i!=null&&h(e,["codeExecution"],i),d(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=d(t,["functionDeclarations"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(f=>f)),h(e,["functionDeclarations"],c)}const s=d(t,["googleMaps"]);s!=null&&h(e,["googleMaps"],vO(s));const o=d(t,["googleSearch"]);o!=null&&h(e,["googleSearch"],bO(o));const l=d(t,["googleSearchRetrieval"]);l!=null&&h(e,["googleSearchRetrieval"],l);const u=d(t,["urlContext"]);return u!=null&&h(e,["urlContext"],u),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EO(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(a=>`${n}.${a}`);e.push(...i)}else e.push(n)}return e.join(",")}function AO(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const a=r.setup;typeof a=="object"&&a!==null?(t.bidiGenerateContentSetup=a,n=a):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const a=EO(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)a?t.fieldMask=a:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let o=[];i.length>0&&(o=i.map(u=>s.includes(u)?`generationConfig.${u}`:u));const l=[];a&&l.push(a),o.length>0&&l.push(...o),l.length>0?t.fieldMask=l.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class CO extends ui{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const o=mO(this.apiClient,e);a=te("auth_tokens",o._url),s=o._query,delete o.config,delete o._url,delete o._query;const l=AO(o,e.config);return i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(l),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(u=>u.json()),i.then(u=>u)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kO(t,e){const n={},r=d(t,["force"]);return e!==void 0&&r!=null&&h(e,["_query","force"],r),n}function NO(t){const e={},n=d(t,["name"]);n!=null&&h(e,["_url","name"],n);const r=d(t,["config"]);return r!=null&&kO(r,e),e}function RO(t){const e={},n=d(t,["name"]);return n!=null&&h(e,["_url","name"],n),e}function MO(t,e){const n={},r=d(t,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const i=d(t,["pageToken"]);return e!==void 0&&i!=null&&h(e,["_query","pageToken"],i),n}function IO(t){const e={},n=d(t,["parent"]);n!=null&&h(e,["_url","parent"],n);const r=d(t,["config"]);return r!=null&&MO(r,e),e}function DO(t){const e={},n=d(t,["sdkHttpResponse"]);n!=null&&h(e,["sdkHttpResponse"],n);const r=d(t,["nextPageToken"]);r!=null&&h(e,["nextPageToken"],r);const i=d(t,["documents"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(s=>s)),h(e,["documents"],a)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zO extends ui{constructor(e){super(),this.apiClient=e,this.list=async n=>new Pa(si.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=RO(e);return a=te("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=NO(e);i=te("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=IO(e);return a=te("{parent}/documents",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=DO(l),c=new hM;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class UO extends ui{constructor(e,n=new zO(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new Pa(si.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=EU(e);return a=te("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async get(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=kU(e);return a=te("{name}",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>l)}}async delete(e){var n,r;let i="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=CU(e);i=te("{name}",s._url),a=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:a,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=zU(e);return a=te("fileSearchStores",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=UU(l),c=new fM;return Object.assign(c,u),c})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=OU(e);return a=te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=LU(l),c=new pM;return Object.assign(c,u),c})}}async importFile(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=MU(e);return a=te("{file_search_store_name}:importFile",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json()),i.then(l=>{const u=RU(l),c=new Fm;return Object.assign(c,u),c})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let q7=function(){const{crypto:t}=globalThis;if(t!=null&&t.randomUUID)return q7=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),n=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,r=>(+r^n()&15>>+r/4).toString(16))};const OO=()=>q7();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qf(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const Hf=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class er extends Error{}class Qt extends er{constructor(e,n,r,i){super(`${Qt.makeMessage(e,n,r)}`),this.status=e,this.headers=i,this.error=n}static makeMessage(e,n,r){const i=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):r;return e&&i?`${e} ${i}`:e?`${e} status code (no body)`:i||"(no status code or body)"}static generate(e,n,r,i){if(!e||!i)return new D0({message:r,cause:Hf(n)});const a=n;return e===400?new F7(e,a,r,i):e===401?new G7(e,a,r,i):e===403?new V7(e,a,r,i):e===404?new $7(e,a,r,i):e===409?new Y7(e,a,r,i):e===422?new K7(e,a,r,i):e===429?new J7(e,a,r,i):e>=500?new j7(e,a,r,i):new Qt(e,a,r,i)}}class Ff extends Qt{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class D0 extends Qt{constructor({message:e,cause:n}){super(void 0,void 0,e||"Connection error.",void 0),n&&(this.cause=n)}}class H7 extends D0{constructor({message:e}={}){super({message:e??"Request timed out."})}}class F7 extends Qt{}class G7 extends Qt{}class V7 extends Qt{}class $7 extends Qt{}class Y7 extends Qt{}class K7 extends Qt{}class J7 extends Qt{}class j7 extends Qt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const LO=/^[a-z][a-z0-9+.-]*:/i,PO=t=>LO.test(t);let Gf=t=>(Gf=Array.isArray,Gf(t));const BO=Gf;let qO=BO;const F4=qO;function HO(t){if(!t)return!0;for(const e in t)return!1;return!0}function FO(t,e){return Object.prototype.hasOwnProperty.call(t,e)}const GO=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new er(`${t} must be an integer`);if(e<0)throw new er(`${t} must be a positive integer`);return e},VO=t=>{try{return JSON.parse(t)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const $O=t=>new Promise(e=>setTimeout(e,t));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ts="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YO(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const KO=()=>{var t,e,n,r,i;const a=YO();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ts,"X-Stainless-OS":V4(Deno.build.os),"X-Stainless-Arch":G4(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(e=(t=Deno.version)===null||t===void 0?void 0:t.deno)!==null&&e!==void 0?e:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ts,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ts,"X-Stainless-OS":V4((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":G4((r=globalThis.process.arch)!==null&&r!==void 0?r:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(i=globalThis.process.version)!==null&&i!==void 0?i:"unknown"};const s=JO();return s?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ts,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${s.browser}`,"X-Stainless-Runtime-Version":s.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ts,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function JO(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:n}of t){const r=n.exec(navigator.userAgent);if(r){const i=r[1]||0,a=r[2]||0,s=r[3]||0;return{browser:e,version:`${i}.${a}.${s}`}}}return null}const G4=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",V4=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let bu;const jO=()=>bu??(bu=KO());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function XO(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function X7(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function WO(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return X7({start(){},async pull(n){const{done:r,value:i}=await e.next();r?n.close():n.enqueue(i)},async cancel(){var n;await((n=e.return)===null||n===void 0?void 0:n.call(e))}})}function W7(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const n=await e.read();return n!=null&&n.done&&e.releaseLock(),n}catch(n){throw e.releaseLock(),n}},async return(){const n=e.cancel();return e.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function QO(t){var e,n;if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await((n=(e=t[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(e));return}const r=t.getReader(),i=r.cancel();r.releaseLock(),await i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ZO=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Q7=()=>{var t;if(typeof File>"u"){const{process:e}=globalThis,n=typeof((t=e==null?void 0:e.versions)===null||t===void 0?void 0:t.node)=="string"&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Wd(t,e,n){return Q7(),new File(t,e??"unknown_file",n)}function eL(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const tL=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Z7=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",nL=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Z7(t),rL=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function iL(t,e,n){if(Q7(),t=await t,nL(t))return t instanceof File?t:Wd([await t.arrayBuffer()],t.name);if(rL(t)){const i=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),Wd(await Vf(i),e,n)}const r=await Vf(t);if(e||(e=eL(t)),!(n!=null&&n.type)){const i=r.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof i=="string"&&(n=Object.assign(Object.assign({},n),{type:i}))}return Wd(r,e,n)}async function Vf(t){var e,n,r,i,a;let s=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)s.push(t);else if(Z7(t))s.push(t instanceof Blob?t:await t.arrayBuffer());else if(tL(t))try{for(var o=!0,l=dr(t),u;u=await l.next(),e=u.done,!e;o=!0){i=u.value,o=!1;const c=i;s.push(...await Vf(c))}}catch(c){n={error:c}}finally{try{!o&&!e&&(r=l.return)&&await r.call(l)}finally{if(n)throw n.error}}else{const c=(a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof t}${c?`; constructor: ${c}`:""}${aL(t)}`)}return s}function aL(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ew{constructor(e){this._client=e}}ew._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tw(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const $4=Object.freeze(Object.create(null)),sL=(t=tw)=>function(n,...r){if(n.length===1)return n[0];let i=!1;const a=[],s=n.reduce((c,f,p)=>{var m,y,w;/[?#]/.test(f)&&(i=!0);const E=r[p];let b=(i?encodeURIComponent:t)(""+E);return p!==r.length&&(E==null||typeof E=="object"&&E.toString===((w=Object.getPrototypeOf((y=Object.getPrototypeOf((m=E.hasOwnProperty)!==null&&m!==void 0?m:$4))!==null&&y!==void 0?y:$4))===null||w===void 0?void 0:w.toString))&&(b=E+"",a.push({start:c.length+f.length,length:b.length,error:`Value of type ${Object.prototype.toString.call(E).slice(8,-1)} is not a valid path parameter`})),c+f+(p===r.length?"":b)},""),o=s.split(/[?#]/,1)[0],l=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let u;for(;(u=l.exec(o))!==null;)a.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(a.sort((c,f)=>c.start-f.start),a.length>0){let c=0;const f=a.reduce((p,m)=>{const y=" ".repeat(m.start-c),w="^".repeat(m.length);return c=m.start+m.length,p+y+w},"");throw new er(`Path parameters result in path with invalid segments:
${a.map(p=>p.error).join(`
`)}
${s}
${f}`)}return s},wu=sL(tw);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nw extends ew{create(e,n){var r;const{api_version:i=this._client.apiVersion}=e,a=Yc(e,["api_version"]);if("model"in a&&"agent_config"in a)throw new er("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new er("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(wu`/${i}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(r=e.stream)!==null&&r!==void 0?r:!1}))}delete(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.delete(wu`/${i}/interactions/${e}`,r)}cancel(e,n={},r){const{api_version:i=this._client.apiVersion}=n??{};return this._client.post(wu`/${i}/interactions/${e}/cancel`,r)}get(e,n={},r){var i;const a=n??{},{api_version:s=this._client.apiVersion}=a,o=Yc(a,["api_version"]);return this._client.get(wu`/${s}/interactions/${e}`,Object.assign(Object.assign({query:o},r),{stream:(i=n==null?void 0:n.stream)!==null&&i!==void 0?i:!1}))}}nw._key=Object.freeze(["interactions"]);class rw extends nw{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function oL(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}let xu;function jm(t){let e;return(xu??(e=new globalThis.TextEncoder,xu=e.encode.bind(e)))(t)}let Su;function Y4(t){let e;return(Su??(e=new globalThis.TextDecoder,Su=e.decode.bind(e)))(t)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z0{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(e){if(e==null)return[];const n=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?jm(e):e;this.buffer=oL([this.buffer,n]);const r=[];let i;for(;(i=lL(this.buffer,this.carriageReturnIndex))!=null;){if(i.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=i.index;continue}if(this.carriageReturnIndex!=null&&(i.index!==this.carriageReturnIndex+1||i.carriage)){r.push(Y4(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?i.preceding-1:i.preceding,s=Y4(this.buffer.subarray(0,a));r.push(s),this.buffer=this.buffer.subarray(i.index),this.carriageReturnIndex=null}return r}flush(){return this.buffer.length?this.decode(`
`):[]}}z0.NEWLINE_CHARS=new Set([`
`,"\r"]);z0.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function lL(t,e){for(let i=e??0;i<t.length;i++){if(t[i]===10)return{preceding:i,index:i+1,carriage:!1};if(t[i]===13)return{preceding:i,index:i+1,carriage:!0}}return null}function uL(t){for(let r=0;r<t.length-1;r++){if(t[r]===10&&t[r+1]===10||t[r]===13&&t[r+1]===13)return r+2;if(t[r]===13&&t[r+1]===10&&r+3<t.length&&t[r+2]===13&&t[r+3]===10)return r+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Kc={off:0,error:200,warn:300,info:400,debug:500},K4=(t,e,n)=>{if(t){if(FO(Kc,t))return t;jt(n).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(Kc))}`)}};function ko(){}function _u(t,e,n){return!e||Kc[t]>Kc[n]?ko:e[t].bind(e)}const cL={error:ko,warn:ko,info:ko,debug:ko};let J4=new WeakMap;function jt(t){var e;const n=t.logger,r=(e=t.logLevel)!==null&&e!==void 0?e:"off";if(!n)return cL;const i=J4.get(n);if(i&&i[0]===r)return i[1];const a={error:_u("error",n,r),warn:_u("warn",n,r),info:_u("info",n,r),debug:_u("debug",n,r)};return J4.set(n,[r,a]),a}const pa=t=>(t.options&&(t.options=Object.assign({},t.options),delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,n])=>[e,e.toLowerCase()==="x-goog-api-key"||e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vs{constructor(e,n,r){this.iterator=e,this.controller=n,this.client=r}static fromSSEResponse(e,n,r){let i=!1;const a=r?jt(r):console;function s(){return cr(this,arguments,function*(){var l,u,c,f;if(i)throw new er("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let p=!1;try{try{for(var m=!0,y=dr(dL(e,n)),w;w=yield ve(y.next()),l=w.done,!l;m=!0){f=w.value,m=!1;const E=f;if(!p)if(E.data.startsWith("[DONE]")){p=!0;continue}else try{yield yield ve(JSON.parse(E.data))}catch(b){throw a.error("Could not parse message into JSON:",E.data),a.error("From chunk:",E.raw),b}}}catch(E){u={error:E}}finally{try{!m&&!l&&(c=y.return)&&(yield ve(c.call(y)))}finally{if(u)throw u.error}}p=!0}catch(E){if(qf(E))return yield ve(void 0);throw E}finally{p||n.abort()}})}return new vs(s,n,r)}static fromReadableStream(e,n,r){let i=!1;function a(){return cr(this,arguments,function*(){var l,u,c,f;const p=new z0,m=W7(e);try{for(var y=!0,w=dr(m),E;E=yield ve(w.next()),l=E.done,!l;y=!0){f=E.value,y=!1;const b=f;for(const S of p.decode(b))yield yield ve(S)}}catch(b){u={error:b}}finally{try{!y&&!l&&(c=w.return)&&(yield ve(c.call(w)))}finally{if(u)throw u.error}}for(const b of p.flush())yield yield ve(b)})}function s(){return cr(this,arguments,function*(){var l,u,c,f;if(i)throw new er("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");i=!0;let p=!1;try{try{for(var m=!0,y=dr(a()),w;w=yield ve(y.next()),l=w.done,!l;m=!0){f=w.value,m=!1;const E=f;p||E&&(yield yield ve(JSON.parse(E)))}}catch(E){u={error:E}}finally{try{!m&&!l&&(c=y.return)&&(yield ve(c.call(y)))}finally{if(u)throw u.error}}p=!0}catch(E){if(qf(E))return yield ve(void 0);throw E}finally{p||n.abort()}})}return new vs(s,n,r)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],n=[],r=this.iterator(),i=a=>({next:()=>{if(a.length===0){const s=r.next();e.push(s),n.push(s)}return a.shift()}});return[new vs(()=>i(e),this.controller,this.client),new vs(()=>i(n),this.controller,this.client)]}toReadableStream(){const e=this;let n;return X7({async start(){n=e[Symbol.asyncIterator]()},async pull(r){try{const{value:i,done:a}=await n.next();if(a)return r.close();const s=jm(JSON.stringify(i)+`
`);r.enqueue(s)}catch(i){r.error(i)}},async cancel(){var r;await((r=n.return)===null||r===void 0?void 0:r.call(n))}})}}function dL(t,e){return cr(this,arguments,function*(){var r,i,a,s;if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new er("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new er("Attempted to iterate over a response with no body");const o=new fL,l=new z0,u=W7(t.body);try{for(var c=!0,f=dr(hL(u)),p;p=yield ve(f.next()),r=p.done,!r;c=!0){s=p.value,c=!1;const m=s;for(const y of l.decode(m)){const w=o.decode(y);w&&(yield yield ve(w))}}}catch(m){i={error:m}}finally{try{!c&&!r&&(a=f.return)&&(yield ve(a.call(f)))}finally{if(i)throw i.error}}for(const m of l.flush()){const y=o.decode(m);y&&(yield yield ve(y))}})}function hL(t){return cr(this,arguments,function*(){var n,r,i,a;let s=new Uint8Array;try{for(var o=!0,l=dr(t),u;u=yield ve(l.next()),n=u.done,!n;o=!0){a=u.value,o=!1;const c=a;if(c==null)continue;const f=c instanceof ArrayBuffer?new Uint8Array(c):typeof c=="string"?jm(c):c;let p=new Uint8Array(s.length+f.length);p.set(s),p.set(f,s.length),s=p;let m;for(;(m=uL(s))!==-1;)yield yield ve(s.slice(0,m)),s=s.slice(m)}}catch(c){r={error:c}}finally{try{!o&&!n&&(i=l.return)&&(yield ve(i.call(l)))}finally{if(r)throw r.error}}s.length>0&&(yield yield ve(s))})}class fL{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(e),e.startsWith(":"))return null;let[n,r,i]=pL(e,":");return i.startsWith(" ")&&(i=i.substring(1)),n==="event"?this.event=i:n==="data"&&this.data.push(i),null}}function pL(t,e){const n=t.indexOf(e);return n!==-1?[t.substring(0,n),e,t.substring(n+e.length)]:[t,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function mL(t,e){const{response:n,requestLogID:r,retryOfRequestLogID:i,startTime:a}=e,s=await(async()=>{var o;if(e.options.stream)return jt(t).debug("response",n.status,n.url,n.headers,n.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(n,e.controller,t):vs.fromSSEResponse(n,e.controller,t);if(n.status===204)return null;if(e.options.__binaryResponse)return n;const l=n.headers.get("content-type"),u=(o=l==null?void 0:l.split(";")[0])===null||o===void 0?void 0:o.trim();return(u==null?void 0:u.includes("application/json"))||(u==null?void 0:u.endsWith("+json"))?await n.json():await n.text()})();return jt(t).debug(`[${r}] response parsed`,pa({retryOfRequestLogID:i,url:n.url,status:n.status,body:s,durationMs:Date.now()-a})),s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Xm extends Promise{constructor(e,n,r=mL){super(i=>{i(null)}),this.responsePromise=n,this.parseResponse=r,this.client=e}_thenUnwrap(e){return new Xm(this.client,this.responsePromise,async(n,r)=>e(await this.parseResponse(n,r),r))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(this.client,e))),this.parsedPromise}then(e,n){return this.parse().then(e,n)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iw=Symbol("brand.privateNullableHeaders");function*gL(t){if(!t)return;if(iw in t){const{values:r,nulls:i}=t;yield*r.entries();for(const a of i)yield[a,null];return}let e=!1,n;t instanceof Headers?n=t.entries():F4(t)?n=t:(e=!0,n=Object.entries(t??{}));for(let r of n){const i=r[0];if(typeof i!="string")throw new TypeError("expected header name to be a string");const a=F4(r[1])?r[1]:[r[1]];let s=!1;for(const o of a)o!==void 0&&(e&&!s&&(s=!0,yield[i,null]),yield[i,o])}}const wo=t=>{const e=new Headers,n=new Set;for(const r of t){const i=new Set;for(const[a,s]of gL(r)){const o=a.toLowerCase();i.has(o)||(e.delete(a),i.add(o)),s===null?(e.delete(a),n.add(o)):(e.append(a,s),n.delete(o))}}return{[iw]:!0,values:e,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qd=t=>{var e,n,r,i,a,s;if(typeof globalThis.process<"u")return(r=(n=(e=HR)===null||e===void 0?void 0:e[t])===null||n===void 0?void 0:n.trim())!==null&&r!==void 0?r:void 0;if(typeof globalThis.Deno<"u")return(s=(a=(i=globalThis.Deno.env)===null||i===void 0?void 0:i.get)===null||a===void 0?void 0:a.call(i,t))===null||s===void 0?void 0:s.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var aw;class U0{constructor(e){var n,r,i,a,s,o,l,{baseURL:u=Qd("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:c=(n=Qd("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:f="v1beta"}=e,p=Yc(e,["baseURL","apiKey","apiVersion"]);const m=Object.assign(Object.assign({apiKey:c,apiVersion:f},p),{baseURL:u||"https://generativelanguage.googleapis.com"});this.baseURL=m.baseURL,this.timeout=(r=m.timeout)!==null&&r!==void 0?r:U0.DEFAULT_TIMEOUT,this.logger=(i=m.logger)!==null&&i!==void 0?i:console;const y="warn";this.logLevel=y,this.logLevel=(s=(a=K4(m.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:K4(Qd("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&s!==void 0?s:y,this.fetchOptions=m.fetchOptions,this.maxRetries=(o=m.maxRetries)!==null&&o!==void 0?o:2,this.fetch=(l=m.fetch)!==null&&l!==void 0?l:XO(),this.encoder=ZO,this._options=m,this.apiKey=c,this.apiVersion=f,this.clientAdapter=m.clientAdapter}withOptions(e){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),e))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:n}){if(!(e.has("authorization")||e.has("x-goog-api-key"))&&!(this.apiKey&&e.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(e){const n=wo([e.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return wo([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return wo([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(e){return Object.entries(e).filter(([n,r])=>typeof r<"u").map(([n,r])=>{if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(r)}`;if(r===null)return`${encodeURIComponent(n)}=`;throw new er(`Cannot stringify type ${typeof r}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ts}`}defaultIdempotencyKey(){return`stainless-node-retry-${OO()}`}makeStatusError(e,n,r,i){return Qt.generate(e,n,r,i)}buildURL(e,n,r){const i=!this.baseURLOverridden()&&r||this.baseURL,a=PO(e)?new URL(e):new URL(i+(i.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),s=this.defaultQuery();return HO(s)||(n=Object.assign(Object.assign({},s),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(e){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!e.path.startsWith(`/${this.apiVersion}/projects/`)){const n=e.path.slice(this.apiVersion.length+1);e.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(e,{url:n,options:r}){}get(e,n){return this.methodRequest("get",e,n)}post(e,n){return this.methodRequest("post",e,n)}patch(e,n){return this.methodRequest("patch",e,n)}put(e,n){return this.methodRequest("put",e,n)}delete(e,n){return this.methodRequest("delete",e,n)}methodRequest(e,n,r){return this.request(Promise.resolve(r).then(i=>Object.assign({method:e,path:n},i)))}request(e,n=null){return new Xm(this,this.makeRequest(e,n,void 0))}async makeRequest(e,n,r){var i,a,s;const o=await e,l=(i=o.maxRetries)!==null&&i!==void 0?i:this.maxRetries;n==null&&(n=l),await this.prepareOptions(o);const{req:u,url:c,timeout:f}=await this.buildRequest(o,{retryCount:l-n});await this.prepareRequest(u,{url:c,options:o});const p="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),m=r===void 0?"":`, retryOf: ${r}`,y=Date.now();if(jt(this).debug(`[${p}] sending request`,pa({retryOfRequestLogID:r,method:o.method,url:c,options:o,headers:u.headers})),!((a=o.signal)===null||a===void 0)&&a.aborted)throw new Ff;const w=new AbortController,E=await this.fetchWithTimeout(c,u,f,w).catch(Hf),b=Date.now();if(E instanceof globalThis.Error){const _=`retrying, ${n} attempts remaining`;if(!((s=o.signal)===null||s===void 0)&&s.aborted)throw new Ff;const C=qf(E)||/timed? ?out/i.test(String(E)+("cause"in E?String(E.cause):""));if(n)return jt(this).info(`[${p}] connection ${C?"timed out":"failed"} - ${_}`),jt(this).debug(`[${p}] connection ${C?"timed out":"failed"} (${_})`,pa({retryOfRequestLogID:r,url:c,durationMs:b-y,message:E.message})),this.retryRequest(o,n,r??p);throw jt(this).info(`[${p}] connection ${C?"timed out":"failed"} - error; no more retries left`),jt(this).debug(`[${p}] connection ${C?"timed out":"failed"} (error; no more retries left)`,pa({retryOfRequestLogID:r,url:c,durationMs:b-y,message:E.message})),C?new H7:new D0({cause:E})}const S=`[${p}${m}] ${u.method} ${c} ${E.ok?"succeeded":"failed"} with status ${E.status} in ${b-y}ms`;if(!E.ok){const _=await this.shouldRetry(E);if(n&&_){const O=`retrying, ${n} attempts remaining`;return await QO(E.body),jt(this).info(`${S} - ${O}`),jt(this).debug(`[${p}] response error (${O})`,pa({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:b-y})),this.retryRequest(o,n,r??p,E.headers)}const C=_?"error; no more retries left":"error; not retryable";jt(this).info(`${S} - ${C}`);const I=await E.text().catch(O=>Hf(O).message),k=VO(I),D=k?void 0:I;throw jt(this).debug(`[${p}] response error (${C})`,pa({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,message:D,durationMs:Date.now()-y})),this.makeStatusError(E.status,k,D,E.headers)}return jt(this).info(S),jt(this).debug(`[${p}] response start`,pa({retryOfRequestLogID:r,url:E.url,status:E.status,headers:E.headers,durationMs:b-y})),{response:E,options:o,controller:w,requestLogID:p,retryOfRequestLogID:r,startTime:y}}async fetchWithTimeout(e,n,r,i){const a=n||{},{signal:s,method:o}=a,l=Yc(a,["signal","method"]);s&&s.addEventListener("abort",()=>i.abort());const u=setTimeout(()=>i.abort(),r),c=globalThis.ReadableStream&&l.body instanceof globalThis.ReadableStream||typeof l.body=="object"&&l.body!==null&&Symbol.asyncIterator in l.body,f=Object.assign(Object.assign(Object.assign({signal:i.signal},c?{duplex:"half"}:{}),{method:"GET"}),l);o&&(f.method=o.toUpperCase());try{return await this.fetch.call(void 0,e,f)}finally{clearTimeout(u)}}async shouldRetry(e){const n=e.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,n,r,i){var a;let s;const o=i==null?void 0:i.get("retry-after-ms");if(o){const u=parseFloat(o);Number.isNaN(u)||(s=u)}const l=i==null?void 0:i.get("retry-after");if(l&&!s){const u=parseFloat(l);Number.isNaN(u)?s=Date.parse(l)-Date.now():s=u*1e3}if(!(s&&0<=s&&s<60*1e3)){const u=(a=e.maxRetries)!==null&&a!==void 0?a:this.maxRetries;s=this.calculateDefaultRetryTimeoutMillis(n,u)}return await $O(s),this.makeRequest(e,n-1,r)}calculateDefaultRetryTimeoutMillis(e,n){const a=n-e,s=Math.min(.5*Math.pow(2,a),8),o=1-Math.random()*.25;return s*o*1e3}async buildRequest(e,{retryCount:n=0}={}){var r,i,a;const s=Object.assign({},e),{method:o,path:l,query:u,defaultBaseURL:c}=s,f=this.buildURL(l,u,c);"timeout"in s&&GO("timeout",s.timeout),s.timeout=(r=s.timeout)!==null&&r!==void 0?r:this.timeout;const{bodyHeaders:p,body:m}=this.buildBody({options:s}),y=await this.buildHeaders({options:e,method:o,bodyHeaders:p,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:o,headers:y},s.signal&&{signal:s.signal}),globalThis.ReadableStream&&m instanceof globalThis.ReadableStream&&{duplex:"half"}),m&&{body:m}),(i=this.fetchOptions)!==null&&i!==void 0?i:{}),(a=s.fetchOptions)!==null&&a!==void 0?a:{}),url:f,timeout:s.timeout}}async buildHeaders({options:e,method:n,bodyHeaders:r,retryCount:i}){let a={};this.idempotencyHeader&&n!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=e.idempotencyKey);const s=await this.authHeaders(e);let o=wo([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(i)},e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{}),jO()),this._options.defaultHeaders,r,e.headers,s]);return this.validateHeaders(o),o.values}buildBody({options:{body:e,headers:n}}){if(!e)return{bodyHeaders:void 0,body:void 0};const r=wo([n]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&r.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:WO(e)}:this.encoder({body:e,headers:r})}}U0.DEFAULT_TIMEOUT=6e4;class zt extends U0{constructor(){super(...arguments),this.interactions=new rw(this)}}aw=zt;zt.GeminiNextGenAPIClient=aw;zt.GeminiNextGenAPIClientError=er;zt.APIError=Qt;zt.APIConnectionError=D0;zt.APIConnectionTimeoutError=H7;zt.APIUserAbortError=Ff;zt.NotFoundError=$7;zt.ConflictError=Y7;zt.RateLimitError=J7;zt.BadRequestError=F7;zt.AuthenticationError=G7;zt.InternalServerError=j7;zt.PermissionDeniedError=V7;zt.UnprocessableEntityError=K7;zt.toFile=iL;zt.Interactions=rw;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yL(t,e){const n={},r=d(t,["name"]);return r!=null&&h(n,["_url","name"],r),n}function vL(t,e){const n={},r=d(t,["name"]);return r!=null&&h(n,["_url","name"],r),n}function bL(t,e){const n={},r=d(t,["sdkHttpResponse"]);return r!=null&&h(n,["sdkHttpResponse"],r),n}function wL(t,e){const n={},r=d(t,["sdkHttpResponse"]);return r!=null&&h(n,["sdkHttpResponse"],r),n}function xL(t,e,n){const r={};if(d(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=d(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&h(e,["displayName"],i),d(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=d(t,["epochCount"]);e!==void 0&&a!=null&&h(e,["tuningTask","hyperparameters","epochCount"],a);const s=d(t,["learningRateMultiplier"]);if(s!=null&&h(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),d(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(d(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(d(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const o=d(t,["batchSize"]);e!==void 0&&o!=null&&h(e,["tuningTask","hyperparameters","batchSize"],o);const l=d(t,["learningRate"]);if(e!==void 0&&l!=null&&h(e,["tuningTask","hyperparameters","learningRate"],l),d(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(d(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function SL(t,e,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const m=d(t,["validationDataset"]);e!==void 0&&m!=null&&h(e,["supervisedTuningSpec"],j4(m))}else if(i==="PREFERENCE_TUNING"){const m=d(t,["validationDataset"]);e!==void 0&&m!=null&&h(e,["preferenceOptimizationSpec"],j4(m))}const a=d(t,["tunedModelDisplayName"]);e!==void 0&&a!=null&&h(e,["tunedModelDisplayName"],a);const s=d(t,["description"]);e!==void 0&&s!=null&&h(e,["description"],s);let o=d(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const m=d(t,["epochCount"]);e!==void 0&&m!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],m)}else if(o==="PREFERENCE_TUNING"){const m=d(t,["epochCount"]);e!==void 0&&m!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],m)}let l=d(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const m=d(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],m)}else if(l==="PREFERENCE_TUNING"){const m=d(t,["learningRateMultiplier"]);e!==void 0&&m!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],m)}let u=d(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const m=d(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],m)}else if(u==="PREFERENCE_TUNING"){const m=d(t,["exportLastCheckpointOnly"]);e!==void 0&&m!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],m)}let c=d(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const m=d(t,["adapterSize"]);e!==void 0&&m!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],m)}else if(c==="PREFERENCE_TUNING"){const m=d(t,["adapterSize"]);e!==void 0&&m!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],m)}if(d(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(d(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const f=d(t,["labels"]);e!==void 0&&f!=null&&h(e,["labels"],f);const p=d(t,["beta"]);return e!==void 0&&p!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],p),r}function _L(t,e){const n={},r=d(t,["baseModel"]);r!=null&&h(n,["baseModel"],r);const i=d(t,["preTunedModel"]);i!=null&&h(n,["preTunedModel"],i);const a=d(t,["trainingDataset"]);a!=null&&zL(a);const s=d(t,["config"]);return s!=null&&xL(s,n),n}function TL(t,e){const n={},r=d(t,["baseModel"]);r!=null&&h(n,["baseModel"],r);const i=d(t,["preTunedModel"]);i!=null&&h(n,["preTunedModel"],i);const a=d(t,["trainingDataset"]);a!=null&&UL(a,n,e);const s=d(t,["config"]);return s!=null&&SL(s,n,e),n}function EL(t,e){const n={},r=d(t,["name"]);return r!=null&&h(n,["_url","name"],r),n}function AL(t,e){const n={},r=d(t,["name"]);return r!=null&&h(n,["_url","name"],r),n}function CL(t,e,n){const r={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&h(e,["_query","pageSize"],i);const a=d(t,["pageToken"]);e!==void 0&&a!=null&&h(e,["_query","pageToken"],a);const s=d(t,["filter"]);return e!==void 0&&s!=null&&h(e,["_query","filter"],s),r}function kL(t,e,n){const r={},i=d(t,["pageSize"]);e!==void 0&&i!=null&&h(e,["_query","pageSize"],i);const a=d(t,["pageToken"]);e!==void 0&&a!=null&&h(e,["_query","pageToken"],a);const s=d(t,["filter"]);return e!==void 0&&s!=null&&h(e,["_query","filter"],s),r}function NL(t,e){const n={},r=d(t,["config"]);return r!=null&&CL(r,n),n}function RL(t,e){const n={},r=d(t,["config"]);return r!=null&&kL(r,n),n}function ML(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&h(n,["sdkHttpResponse"],r);const i=d(t,["nextPageToken"]);i!=null&&h(n,["nextPageToken"],i);const a=d(t,["tunedModels"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>sw(o))),h(n,["tuningJobs"],s)}return n}function IL(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&h(n,["sdkHttpResponse"],r);const i=d(t,["nextPageToken"]);i!=null&&h(n,["nextPageToken"],i);const a=d(t,["tuningJobs"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(o=>$f(o))),h(n,["tuningJobs"],s)}return n}function DL(t,e){const n={},r=d(t,["name"]);r!=null&&h(n,["model"],r);const i=d(t,["name"]);return i!=null&&h(n,["endpoint"],i),n}function zL(t,e){const n={};if(d(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(d(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=d(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(a=>a)),h(n,["examples","examples"],i)}return n}function UL(t,e,n){const r={};let i=d(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=d(t,["gcsUri"]);e!==void 0&&s!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=d(t,["gcsUri"]);e!==void 0&&s!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let a=d(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const s=d(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(a==="PREFERENCE_TUNING"){const s=d(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(d(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function sw(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&h(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&h(n,["name"],i);const a=d(t,["state"]);a!=null&&h(n,["state"],S7(a));const s=d(t,["createTime"]);s!=null&&h(n,["createTime"],s);const o=d(t,["tuningTask","startTime"]);o!=null&&h(n,["startTime"],o);const l=d(t,["tuningTask","completeTime"]);l!=null&&h(n,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&h(n,["updateTime"],u);const c=d(t,["description"]);c!=null&&h(n,["description"],c);const f=d(t,["baseModel"]);f!=null&&h(n,["baseModel"],f);const p=d(t,["_self"]);return p!=null&&h(n,["tunedModel"],DL(p)),n}function $f(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&h(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&h(n,["name"],i);const a=d(t,["state"]);a!=null&&h(n,["state"],S7(a));const s=d(t,["createTime"]);s!=null&&h(n,["createTime"],s);const o=d(t,["startTime"]);o!=null&&h(n,["startTime"],o);const l=d(t,["endTime"]);l!=null&&h(n,["endTime"],l);const u=d(t,["updateTime"]);u!=null&&h(n,["updateTime"],u);const c=d(t,["error"]);c!=null&&h(n,["error"],c);const f=d(t,["description"]);f!=null&&h(n,["description"],f);const p=d(t,["baseModel"]);p!=null&&h(n,["baseModel"],p);const m=d(t,["tunedModel"]);m!=null&&h(n,["tunedModel"],m);const y=d(t,["preTunedModel"]);y!=null&&h(n,["preTunedModel"],y);const w=d(t,["supervisedTuningSpec"]);w!=null&&h(n,["supervisedTuningSpec"],w);const E=d(t,["preferenceOptimizationSpec"]);E!=null&&h(n,["preferenceOptimizationSpec"],E);const b=d(t,["tuningDataStats"]);b!=null&&h(n,["tuningDataStats"],b);const S=d(t,["encryptionSpec"]);S!=null&&h(n,["encryptionSpec"],S);const _=d(t,["partnerModelTuningSpec"]);_!=null&&h(n,["partnerModelTuningSpec"],_);const C=d(t,["customBaseModel"]);C!=null&&h(n,["customBaseModel"],C);const I=d(t,["experiment"]);I!=null&&h(n,["experiment"],I);const k=d(t,["labels"]);k!=null&&h(n,["labels"],k);const D=d(t,["outputUri"]);D!=null&&h(n,["outputUri"],D);const B=d(t,["pipelineJob"]);B!=null&&h(n,["pipelineJob"],B);const O=d(t,["serviceAccount"]);O!=null&&h(n,["serviceAccount"],O);const F=d(t,["tunedModelDisplayName"]);F!=null&&h(n,["tunedModelDisplayName"],F);const Y=d(t,["veoTuningSpec"]);return Y!=null&&h(n,["veoTuningSpec"],Y),n}function OL(t,e){const n={},r=d(t,["sdkHttpResponse"]);r!=null&&h(n,["sdkHttpResponse"],r);const i=d(t,["name"]);i!=null&&h(n,["name"],i);const a=d(t,["metadata"]);a!=null&&h(n,["metadata"],a);const s=d(t,["done"]);s!=null&&h(n,["done"],s);const o=d(t,["error"]);return o!=null&&h(n,["error"],o),n}function j4(t,e){const n={},r=d(t,["gcsUri"]);r!=null&&h(n,["validationDatasetUri"],r);const i=d(t,["vertexDatasetResource"]);return i!=null&&h(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LL extends ui{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new Pa(si.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:i});return a.baseModel=void 0,await this.tuneInternal(a)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),a=await this.tuneMldevInternal(i);let s="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?s=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(s=a.name.split("/operations/")[0]),{name:s,state:If.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=AL(e);return o=te("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>$f(c))}else{const u=EL(e);return o=te("{name}",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>sw(c))}}async listInternal(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=RL(e);return o=te("tuningJobs",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=IL(c),p=new x4;return Object.assign(p,f),p})}else{const u=NL(e);return o=te("tunedModels",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=ML(c),p=new x4;return Object.assign(p,f),p})}}async cancel(e){var n,r,i,a;let s,o="",l={};if(this.apiClient.isVertexAI()){const u=vL(e);return o=te("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=wL(c),p=new S4;return Object.assign(p,f),p})}else{const u=yL(e);return o=te("{name}:cancel",u._url),l=u._query,delete u._url,delete u._query,s=this.apiClient.request({path:o,queryParams:l,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(a=e.config)===null||a===void 0?void 0:a.abortSignal}).then(c=>c.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:c.headers},p})),s.then(c=>{const f=bL(c),p=new S4;return Object.assign(p,f),p})}}async tuneInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI()){const o=TL(e,e);return a=te("tuningJobs",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>$f(l))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,a="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=_L(e);return a=te("tunedModels",o._url),s=o._query,delete o._url,delete o._query,i=this.apiClient.request({path:a,queryParams:s,body:JSON.stringify(o),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(l=>l.json().then(u=>{const c=u;return c.sdkHttpResponse={headers:l.headers},c})),i.then(l=>OL(l))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class PL{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const BL=1024*1024*8,qL=3,HL=1e3,FL=2,Jc="x-goog-upload-status";async function GL(t,e,n){var r;const i=await ow(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Jc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function VL(t,e,n){var r;const i=await ow(t,e,n),a=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[Jc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=g7(a),o=new Gm;return Object.assign(o,s),o}async function ow(t,e,n){var r,i;let a=0,s=0,o=new zf(new Response),l="upload";for(a=t.size;s<a;){const u=Math.min(BL,a-s),c=t.slice(s,s+u);s+u>=a&&(l+=", finalize");let f=0,p=HL;for(;f<qL&&(o=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":l,"X-Goog-Upload-Offset":String(s),"Content-Length":String(u)}}}),!(!((r=o==null?void 0:o.headers)===null||r===void 0)&&r[Jc]));)f++,await YL(p),p=p*FL;if(s+=u,((i=o==null?void 0:o.headers)===null||i===void 0?void 0:i[Jc])!=="active")break;if(a<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return o}async function $L(t){return{size:t.size,type:t.type}}function YL(t){return new Promise(e=>setTimeout(e,t))}class KL{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GL(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await VL(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $L(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JL{create(e,n,r){return new jL(e,n,r)}}class jL{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const X4="x-goog-api-key";class XL{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(X4)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(X4,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const WL="gl-node/";class QL{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const e=this.httpOptions;e!=null&&e.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new zt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:e==null?void 0:e.timeout});return this._interactions=n.interactions,this._interactions}constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=$R(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const i=new XL(this.apiKey);this.apiClient=new $U({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:WL+"web",uploader:new KL,downloader:new PL}),this.models=new cO(this.apiClient),this.live=new iO(this.apiClient,i,new JL),this.batches=new wI(this.apiClient),this.chats=new tD(this.models,this.apiClient),this.caches=new QI(this.apiClient),this.files=new dD(this.apiClient),this.operations=new dO(this.apiClient),this.authTokens=new CO(this.apiClient),this.tunings=new LL(this.apiClient),this.fileSearchStores=new UO(this.apiClient)}}const W4=`
 CLT

1. ****
2. ****
3. ****
`,ZL=async t=>{try{const e=await fetch(t,{method:"GET",mode:"cors",credentials:"omit",headers:{Origin:window.location.origin}});if(!e.ok)throw new Error(`Fetch failed: ${e.status}`);const n=await e.blob();return new Promise((r,i)=>{const a=new FileReader;a.onloadend=()=>{const o=a.result.split(","),l=o[0].split(":")[1].split(";")[0],u=o[1];r({data:u,mimeType:l})},a.onerror=i,a.readAsDataURL(n)})}catch(e){throw console.error("Failed to convert image URL to base64",e),new Error("AI 1. Supabase Storage  2.  CORS ")}},eP=async(t,e,n="zh",r)=>{var s,o,l,u,c;const i=`
    
    
    ### 1. 
    []
    
    ### 2. 
    [...]
    [...]
    
    ### 3. 
    **[]**
    
    : ${t.subject}
    : ${t.questionText||""}
  `;if(e.toLowerCase().startsWith("gemini")&&!!(r!=null&&r.geminiApiKey)){const f=r==null?void 0:r.geminiApiKey;if(!f)throw new Error(" Gemini API Key");const p=new QL({apiKey:f});try{const m=[];if(t.imageUrl){let w="",E="image/jpeg";if(t.imageUrl.startsWith("http")){const b=await ZL(t.imageUrl);w=b.data,E=b.mimeType}else t.imageUrl.startsWith("data:")&&(w=t.imageUrl.split(",")[1],E=t.imageUrl.split(";")[0].split(":")[1]);w&&m.push({inlineData:{data:w,mimeType:E}})}return m.push({text:i}),((s=(await p.models.generateContent({model:e,contents:{parts:m},config:{systemInstruction:W4}})).text)==null?void 0:s.trim())||""}catch(m){throw console.error("Gemini API Error details:",m),new Error(`Gemini AI : ${m.message||" API Key "}`)}}else{const f=r==null?void 0:r.openRouterApiKey;if(!f)throw new Error(" OpenRouter API Key ( Gemini  Gemini API Key)");const p=(r==null?void 0:r.openRouterBaseUrl)||"https://openrouter.ai/api/v1",m=p.endsWith("/chat/completions")?p:`${p.replace(/\/+$/,"")}/chat/completions`;try{const y=[];y.push({type:"text",text:W4+`
`+i}),t.imageUrl&&y.push({type:"image_url",image_url:{url:t.imageUrl}});const w=await fetch(m,{method:"POST",headers:{Authorization:`Bearer ${f}`,"Content-Type":"application/json","HTTP-Referer":window.location.origin},body:JSON.stringify({model:e,messages:[{role:"user",content:y}]})});if(!w.ok){const b=await w.json().catch(()=>({}));throw new Error(((o=b.error)==null?void 0:o.message)||b.message||`Request Failed: ${w.status}`)}return((c=(u=(l=(await w.json()).choices)==null?void 0:l[0])==null?void 0:u.message)==null?void 0:c.content)||""}catch(y){throw console.error("OpenRouter/API Error:",y),new Error("AI : "+(y.message||"Unknown error"))}}};function O0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function tP(t,e,n,r){function i(a){return a instanceof n?a:new n(function(s){s(a)})}return new(n||(n=Promise))(function(a,s){function o(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?a(c.value):i(c.value).then(o,l)}u((r=r.apply(t,e||[])).next())})}const nP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Wm extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class rP extends Wm{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Q4 extends Wm{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Z4 extends Wm{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Yf;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Yf||(Yf={}));class iP{constructor(e,{headers:n={},customFetch:r,region:i=Yf.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=nP(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return tP(this,arguments,void 0,function*(n,r={}){var i;let a,s;try{const{headers:o,method:l,body:u,signal:c,timeout:f}=r;let p={},{region:m}=r;m||(m=this.region);const y=new URL(`${this.url}/${n}`);m&&m!=="any"&&(p["x-region"]=m,y.searchParams.set("forceFunctionRegion",m));let w;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(p["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(p["Content-Type"]="application/json",w=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?w=JSON.stringify(u):w=u;let E=c;f&&(s=new AbortController,a=setTimeout(()=>s.abort(),f),c?(E=s.signal,c.addEventListener("abort",()=>s.abort())):E=s.signal);const b=yield this.fetch(y.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),o),body:w,signal:E}).catch(I=>{throw new rP(I)}),S=b.headers.get("x-relay-error");if(S&&S==="true")throw new Q4(b);if(!b.ok)throw new Z4(b);let _=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),C;return _==="application/json"?C=yield b.json():_==="application/octet-stream"||_==="application/pdf"?C=yield b.blob():_==="text/event-stream"?C=b:_==="multipart/form-data"?C=yield b.formData():C=yield b.text(),{data:C,error:null,response:b}}catch(o){return{data:null,error:o,response:o instanceof Z4||o instanceof Q4?o.context:void 0}}finally{a&&clearTimeout(a)}})}}var aP=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},sP=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{let s=null,o=null,l=null,u=a.status,c=a.statusText;if(a.ok){var f,p;if(n.method!=="HEAD"){var m;const b=await a.text();b===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((m=n.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?o=b:o=JSON.parse(b))}const w=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),E=(p=a.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");w&&E&&E.length>1&&(l=parseInt(E[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(s={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,c="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var y;const w=await a.text();try{s=JSON.parse(w),Array.isArray(s)&&a.status===404&&(o=[],s=null,u=200,c="OK")}catch{a.status===404&&w===""?(u=204,c="No Content"):s={message:w}}if(s&&n.isMaybeSingle&&(!(s==null||(y=s.details)===null||y===void 0)&&y.includes("0 rows"))&&(s=null,u=200,c="OK"),s&&n.shouldThrowOnError)throw new aP(s)}return{error:s,data:o,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(i=i.catch(a=>{var s;let o="";const l=a==null?void 0:a.cause;if(l){var u,c,f,p;const y=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",w=(c=l==null?void 0:l.code)!==null&&c!==void 0?c:"";o=`${(f=a==null?void 0:a.name)!==null&&f!==void 0?f:"FetchError"}: ${a==null?void 0:a.message}`,o+=`

Caused by: ${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"Error"}: ${y}`,w&&(o+=` (${w})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var m;o=(m=a==null?void 0:a.stack)!==null&&m!==void 0?m:""}return{error:{message:`${(s=a==null?void 0:a.name)!==null&&s!==void 0?s:"FetchError"}: ${a==null?void 0:a.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},oP=class extends sP{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const a=i?`${i}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(a,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:a="text"}={}){var s;const o=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${l}"; options=${o};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const e2=new RegExp("[,()]");var ns=class extends oP{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&e2.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&e2.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${a}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},lP=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let a=!1;const s=(t??"*").split("").map(u=>/\s/.test(u)&&!a?"":(u==='"'&&(a=!a),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",s),r&&l.append("Prefer",`count=${r}`),new ns({method:i,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST",{url:a,headers:s}=this.cloneRequestState();if(e&&s.append("Prefer",`count=${e}`),n||s.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);a.searchParams.set("columns",l.join(","))}}return new ns({method:i,url:a,headers:s,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var a;const s="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&o.searchParams.set("on_conflict",e),r&&l.append("Prefer",`count=${r}`),i||l.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);o.searchParams.set("columns",c.join(","))}}return new ns({method:s,url:o,headers:l,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:e}={}){var n;const r="PATCH",{url:i,headers:a}=this.cloneRequestState();return e&&a.append("Prefer",`count=${e}`),new ns({method:r,url:i,headers:a,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE",{url:r,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new ns({method:n,url:r,headers:i,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},uP=class lw{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new lP(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new lw(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:a}={}){var s;let o;const l=new URL(`${this.url}/rpc/${e}`);let u;const c=m=>m!==null&&typeof m=="object"&&(!Array.isArray(m)||m.some(c)),f=r&&Object.values(n).some(c);f?(o="POST",u=n):r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([m,y])=>y!==void 0).map(([m,y])=>[m,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([m,y])=>{l.searchParams.append(m,y)})):(o="POST",u=n);const p=new Headers(this.headers);return f?p.set("Prefer",a?`count=${a},return=minimal`:"return=minimal"):a&&p.set("Prefer",`count=${a}`),new ns({method:o,url:l,headers:p,schema:this.schemaName,body:u,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};class cP{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const i=r.node,a=parseInt(i.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const dP="2.91.0",hP=`realtime-js/${dP}`,fP="1.0.0",uw="2.0.0",t2=uw,Kf=1e4,pP=1e3,mP=100;var xi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xi||(xi={}));var At;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(At||(At={}));var ur;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ur||(ur={}));var Jf;(function(t){t.websocket="websocket"})(Jf||(Jf={}));var ya;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ya||(ya={}));class gP{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},s=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,n,r){var i,a;const s=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(a=e.join_ref)!==null&&a!==void 0?a:"",u=e.payload.event,c=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(c).length===0?"":JSON.stringify(c);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`topic length ${s.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+s.length+u.length+f.length,m=new ArrayBuffer(this.HEADER_LENGTH+p);let y=new DataView(m),w=0;y.setUint8(w++,this.KINDS.userBroadcastPush),y.setUint8(w++,l.length),y.setUint8(w++,o.length),y.setUint8(w++,s.length),y.setUint8(w++,u.length),y.setUint8(w++,f.length),y.setUint8(w++,n),Array.from(l,b=>y.setUint8(w++,b.charCodeAt(0))),Array.from(o,b=>y.setUint8(w++,b.charCodeAt(0))),Array.from(s,b=>y.setUint8(w++,b.charCodeAt(0))),Array.from(u,b=>y.setUint8(w++,b.charCodeAt(0))),Array.from(f,b=>y.setUint8(w++,b.charCodeAt(0)));var E=new Uint8Array(m.byteLength+r.byteLength);return E.set(new Uint8Array(m),0),E.set(new Uint8Array(r),m.byteLength),E.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,a,s,o,l]=r;return n({join_ref:i,ref:a,topic:s,event:o,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),a=n.getUint8(2),s=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(e.slice(l,l+i));l=l+i;const c=r.decode(e.slice(l,l+a));l=l+a;const f=r.decode(e.slice(l,l+s));l=l+s;const p=e.slice(l,e.byteLength),m=o===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,y={type:this.BROADCAST_EVENT,event:c,payload:m};return s>0&&(y.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class cw{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Je||(Je={}));const n2=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((a,s)=>(a[s]=yP(s,t,e,i),a),{}):{}},yP=(t,e,n,r)=>{const i=e.find(o=>o.name===t),a=i==null?void 0:i.type,s=n[t];return a&&!r.includes(a)?dw(a,s):jf(s)},dw=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return xP(e,n)}switch(t){case Je.bool:return vP(e);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return bP(e);case Je.json:case Je.jsonb:return wP(e);case Je.timestamp:return SP(e);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return jf(e);default:return jf(e)}},jf=t=>t,vP=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},bP=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},wP=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},xP=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let a;const s=t.slice(1,n);try{a=JSON.parse("["+s+"]")}catch{a=s?s.split(","):[]}return a.map(o=>dw(e,o))}return t},SP=t=>typeof t=="string"?t.replace(" ","T"):t,hw=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Zd{constructor(e,n,r={},i=Kf){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var r2;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(r2||(r2={}));class jo{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jo.syncState(this.state,i,a,s),this.pendingDiffs.forEach(l=>{this.state=jo.syncDiff(this.state,l,a,s)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:a,onLeave:s,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=jo.syncDiff(this.state,i,a,s),o())}),this.onJoin((i,a,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:s})}),this.onLeave((i,a,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const a=this.cloneDeep(e),s=this.transformState(n),o={},l={};return this.map(a,(u,c)=>{s[u]||(l[u]=c)}),this.map(s,(u,c)=>{const f=a[u];if(f){const p=c.map(E=>E.presence_ref),m=f.map(E=>E.presence_ref),y=c.filter(E=>m.indexOf(E.presence_ref)<0),w=f.filter(E=>p.indexOf(E.presence_ref)<0);y.length>0&&(o[u]=y),w.length>0&&(l[u]=w)}else o[u]=c}),this.syncDiff(a,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:a,leaves:s}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(a,(o,l)=>{var u;const c=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),c.length>0){const f=e[o].map(m=>m.presence_ref),p=c.filter(m=>f.indexOf(m.presence_ref)<0);e[o].unshift(...p)}r(o,c,l)}),this.map(s,(o,l)=>{let u=e[o];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var i2;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(i2||(i2={}));var Xo;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Xo||(Xo={}));var qr;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(qr||(qr={}));class bs{constructor(e,n={config:{}},r){var i,a;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=At.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Zd(this,ur.join,this.params,this.timeout),this.rejoinTimer=new cw(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=At.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=At.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=At.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ur.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new jo(this),this.broadcastEndpointURL=hw(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((a=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||a===void 0)&&a.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,a;if(this.socket.isConnected()||this.socket.connect(),this.state==At.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params,u=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(m=>m.filter))!==null&&i!==void 0?i:[],c=!!this.bindings[Xo.PRESENCE]&&this.bindings[Xo.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},p={broadcast:s,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(qr.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(qr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:m})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),m===void 0){e==null||e(qr.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,E=(y=w==null?void 0:w.length)!==null&&y!==void 0?y:0,b=[];for(let S=0;S<E;S++){const _=w[S],{filter:{event:C,schema:I,table:k,filter:D}}=_,B=m&&m[S];if(B&&B.event===C&&bs.isFilterValueEqual(B.schema,I)&&bs.isFilterValueEqual(B.table,k)&&bs.isFilterValueEqual(B.filter,D))b.push(Object.assign(Object.assign({},_),{id:B.id}));else{this.unsubscribe(),this.state=At.errored,e==null||e(qr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(qr.SUBSCRIBED);return}}).receive("error",m=>{this.state=At.errored,e==null||e(qr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(qr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===At.joined&&e===Xo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const s={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:a,payload:s}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,o,l;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(s=this.params)===null||s===void 0?void 0:s.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=At.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ur.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Zd(this,ur.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=At.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,a=setTimeout(()=>i.abort(),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(a),s}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Zd(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>mP){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,a;const s=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:c}=ur;if(r&&[o,l,u,c].indexOf(s)>=0&&r!==this._joinRef())return;let p=this._onMessage(s,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(m=>{var y,w,E;return((y=m.filter)===null||y===void 0?void 0:y.event)==="*"||((E=(w=m.filter)===null||w===void 0?void 0:w.event)===null||E===void 0?void 0:E.toLocaleLowerCase())===s}).map(m=>m.callback(p,r)):(a=this.bindings[s])===null||a===void 0||a.filter(m=>{var y,w,E,b,S,_,C,I;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in m){const k=m.id,D=(y=m.filter)===null||y===void 0?void 0:y.event;return k&&((w=n.ids)===null||w===void 0?void 0:w.includes(k))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((E=n.data)===null||E===void 0?void 0:E.type.toLocaleLowerCase()))&&(!(!((b=m.filter)===null||b===void 0)&&b.table)||m.filter.table===((S=n.data)===null||S===void 0?void 0:S.table))}else{const k=(C=(_=m==null?void 0:m.filter)===null||_===void 0?void 0:_.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return k==="*"||k===((I=n==null?void 0:n.event)===null||I===void 0?void 0:I.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===s}).map(m=>{if(typeof p=="object"&&"ids"in p){const y=p.data,{schema:w,table:E,commit_timestamp:b,type:S,errors:_}=y;p=Object.assign(Object.assign({},{schema:w,table:E,commit_timestamp:b,eventType:S,new:{},old:{},errors:_}),this._getPayloadRecords(y))}m.callback(p,r)})}_isClosed(){return this.state===At.closed}_isJoined(){return this.state===At.joined}_isJoining(){return this.state===At.joining}_isLeaving(){return this.state===At.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),a={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===r&&bs.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ur.close,{},e)}_onError(e){this._on(ur.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=At.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=n2(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=n2(e.columns,e.old_record)),n}}const eh=()=>{},Tu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},_P=[1e3,2e3,5e3,1e4],TP=1e4,EP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AP{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Kf,this.transport=null,this.heartbeatIntervalMs=Tu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=eh,this.ref=0,this.reconnectTimer=null,this.vsn=t2,this.logger=eh,this.conn=null,this.sendBuffer=[],this.serializer=new gP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...a)=>i(...a):(...a)=>fetch(...a),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${Jf.websocket}`,this.httpEndpoint=hw(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=cP.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xi.connecting:return ya.Connecting;case xi.open:return ya.Open;case xi.closing:return ya.Closing;default:return ya.Closed}}isConnected(){return this.connectionState()===ya.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===r);if(i)return i;{const a=new bs(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:r,payload:i,ref:a}=e,s=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${a})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(pP,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Tu.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(c){this.log("error","error in heartbeat callback",c)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:i,payload:a,ref:s}=n,o=s?`(${s})`:"",l=a.status||"";this.log("receive",`${l} ${r} ${i} ${o}`.trim(),a),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(i,a,s)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===xi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===xi.open||this.conn.readyState===xi.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ur.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([EP],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const a={access_token:n,version:hP};n&&i.updateJoinPayload(a),i.joinedOnce&&i._isJoined()&&i._push(ur.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new cw(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Tu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,a,s,o,l,u,c,f,p,m;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Kf,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Tu.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(s=e==null?void 0:e.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:eh,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:t2,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:y=>_P[y-1]||TP,this.vsn){case fP:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(y,w)=>w(JSON.stringify(y)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(y,w)=>w(JSON.parse(y));break;case uw:this.encode=(p=e==null?void 0:e.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var bl=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function CP(t,e,n){const r=new URL(e,t);if(n)for(const[i,a]of Object.entries(n))a!==void 0&&r.searchParams.set(i,a);return r.toString()}async function kP(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function NP(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:a,headers:s}){const o=CP(t.baseUrl,r,i),l=await kP(t.auth),u=await e(o,{method:n,headers:{...a?{"Content-Type":"application/json"}:{},...l,...s},body:a?JSON.stringify(a):void 0}),c=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),p=f&&c?JSON.parse(c):c;if(!u.ok){const m=f?p:void 0,y=m==null?void 0:m.error;throw new bl((y==null?void 0:y.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:y==null?void 0:y.type,icebergCode:y==null?void 0:y.code,details:m})}return{status:u.status,headers:u.headers,data:p}}}}function Eu(t){return t.join("")}var RP=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Eu(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Eu(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Eu(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Eu(t.namespace)}`}),!0}catch(e){if(e instanceof bl&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof bl&&n.status===409)return;throw n}}};function Ya(t){return t.join("")}var MP=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ya(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ya(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ya(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ya(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ya(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ya(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof bl&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof bl&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},IP=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=NP({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new RP(this.client,e),this.tableOps=new MP(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},L0=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ut(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var DP=class extends L0{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Xf=class extends L0{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Qm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),zP=()=>Response,Wf=t=>{if(Array.isArray(t))return t.map(n=>Wf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=Wf(r)}),e},UP=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},OP=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function LP(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PP(t){var e=LP(t,"string");return wl(e)=="symbol"?e:e+""}function BP(t,e,n){return(e=PP(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a2(Object(n),!0).forEach(function(r){BP(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const th=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},qP=async(t,e,n)=>{t instanceof await zP()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,a=(r==null?void 0:r.statusCode)||i+"";e(new DP(th(r),i,a))}).catch(r=>{e(new Xf(th(r),r))}):e(new Xf(th(t),t))},HP=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(UP(r)?(i.headers=fe({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),fe(fe({},i),n))};async function Fl(t,e,n,r,i,a){return new Promise((s,o)=>{t(n,HP(e,r,i,a)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>qP(l,o,r))})}async function xl(t,e,n,r){return Fl(t,"GET",e,n,r)}async function sr(t,e,n,r,i){return Fl(t,"POST",e,r,i,n)}async function Qf(t,e,n,r,i){return Fl(t,"PUT",e,r,i,n)}async function FP(t,e,n,r){return Fl(t,"HEAD",e,fe(fe({},n),{},{noResolveJson:!0}),r)}async function Zm(t,e,n,r,i){return Fl(t,"DELETE",e,r,i,n)}var GP=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ut(e))return{data:null,error:e};throw e}}};let fw;fw=Symbol.toStringTag;var VP=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[fw]="BlobDownloadBuilder",this.promise=null}asStream(){return new GP(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(ut(e))return{data:null,error:e};throw e}}};const $P={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},s2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var YP=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Qm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let a;const s=fe(fe({},s2),r);let o=fe(fe({},i.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),l&&a.append("metadata",i.encodeMetadata(l)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.has("cacheControl")||a.append("cacheControl",s.cacheControl),l&&!a.has("metadata")&&a.append("metadata",i.encodeMetadata(l))):(a=n,o["cache-control"]=`max-age=${s.cacheControl}`,o["content-type"]=s.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&a instanceof ReadableStream||a&&typeof a=="object"&&"pipe"in a&&typeof a.pipe=="function")&&!s.duplex&&(s.duplex="half")),r!=null&&r.headers&&(o=fe(fe({},o),r.headers));const u=i._removeEmptyFolders(e),c=i._getFinalPath(u),f=await(t=="PUT"?Qf:sr)(i.fetch,`${i.url}/object/${c}`,a,fe({headers:o},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(i.shouldThrowOnError)throw a;if(ut(a))return{data:null,error:a};throw a}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const a=i._removeEmptyFolders(t),s=i._getFinalPath(a),o=new URL(i.url+`/object/upload/sign/${s}`);o.searchParams.set("token",e);try{let l;const u=fe({upsert:s2.upsert},r),c=fe(fe({},i.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType),{data:{path:a,fullPath:(await Qf(i.fetch,o.toString(),l,{headers:c})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if(ut(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=fe({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const a=await sr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),s=new URL(n.url+a.url),o=s.searchParams.get("token");if(!o)throw new L0("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:o},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await sr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await sr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),a=await sr(r.fetch,`${r.url}/object/sign/${i}`,fe({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${r.url}${a.signedURL}${s}`)},{data:a,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await sr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>fe(fe({},s),{},{signedUrl:s.signedURL?encodeURI(`${r.url}${s.signedURL}${a}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",a=this._getFinalPath(t),s=()=>xl(this.fetch,`${this.url}/${n}/${a}${i}`,{headers:this.headers,noResolveJson:!0});return new VP(s,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Wf(await xl(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await FP(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(ut(r)&&r instanceof Xf){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const a=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});s!==""&&r.push(s);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${o}`)}}}async remove(t){var e=this;try{return{data:await Zm(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=fe(fe(fe({},$P),e),{},{prefix:t||""});return{data:await sr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(ut(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=fe({},t);return{data:await sr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const pw="2.91.0",mw={"X-Client-Info":`storage-js/${pw}`};var KP=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=fe(fe({},mw),e),this.fetch=Qm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await xl(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await xl(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await sr(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Qf(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ut(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await sr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Zm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},JP=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=fe(fe({},mw),e),this.fetch=Qm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await sr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await xl(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Zm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(ut(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!OP(t))throw new L0("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new IP({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,a){const s=i[a];return typeof s!="function"?s:async(...o)=>{try{return{data:await s.apply(i,o),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const e1={"X-Client-Info":`storage-js/${pw}`,"Content-Type":"application/json"};var gw=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function An(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var nh=class extends gw{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},jP=class extends gw{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const t1=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),XP=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},o2=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),WP=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(a=>{const s=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||r+"";e(new nh(o2(a),r,s))}).catch(()=>{const a=r+"";e(new nh(i.statusText||`HTTP ${r} error`,r,a))});else{const a=r+"";e(new nh(i.statusText||`HTTP ${r} error`,r,a))}}else e(new jP(o2(t),t))},QP=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(XP(r)?(i.headers=fe({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,fe(fe({},i),n)):i};async function ZP(t,e,n,r,i,a){return new Promise((s,o)=>{t(n,QP(e,r,i,a)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>s(l)).catch(l=>WP(l,o,r))})}async function Cn(t,e,n,r,i){return ZP(t,"POST",e,r,i,n)}var eB=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=fe(fe({},e1),e),this.fetch=t1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await Cn(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await Cn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await Cn(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await Cn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(An(r))return{data:null,error:r};throw r}}},tB=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=fe(fe({},e1),e),this.fetch=t1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Cn(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await Cn(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await Cn(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await Cn(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Cn(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}},nB=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=fe(fe({},e1),e),this.fetch=t1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await Cn(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await Cn(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await Cn(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await Cn(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(An(n))return{data:null,error:n};throw n}}},rB=class extends nB{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new iB(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},iB=class extends eB{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,fe(fe({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,fe(fe({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new aB(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},aB=class extends tB{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,fe(fe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,fe(fe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,fe(fe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,fe(fe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,fe(fe({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},sB=class extends KP{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new YP(this.url,this.headers,t,this.fetch)}get vectors(){return new rB(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new JP(this.url+"/iceberg",this.headers,this.fetch)}};const yw="2.91.0",rs=30*1e3,Zf=3,rh=Zf*rs,oB="http://localhost:9999",lB="supabase.auth.token",uB={"X-Client-Info":`gotrue-js/${yw}`},ep="X-Supabase-Api-Version",vw={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},cB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,dB=10*60*1e3;class Sl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function se(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class hB extends Sl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function fB(t){return se(t)&&t.name==="AuthApiError"}class va extends Sl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class di extends Sl{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class wn extends di{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function pB(t){return se(t)&&t.name==="AuthSessionMissingError"}class Ka extends di{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Au extends di{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Cu extends di{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function mB(t){return se(t)&&t.name==="AuthImplicitGrantRedirectError"}class l2 extends di{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gB extends di{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class tp extends di{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function ih(t){return se(t)&&t.name==="AuthRetryableFetchError"}class u2 extends di{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class np extends di{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const jc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),c2=` 	
\r=`.split(""),yB=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<c2.length;e+=1)t[c2[e].charCodeAt(0)]=-2;for(let e=0;e<jc.length;e+=1)t[jc[e].charCodeAt(0)]=e;return t})();function d2(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(jc[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(jc[r]),e.queuedBits-=6}}function bw(t,e,n){const r=yB[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function h2(t){const e=[],n=s=>{e.push(String.fromCodePoint(s))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=s=>{wB(s,r,n)};for(let s=0;s<t.length;s+=1)bw(t.charCodeAt(s),i,a);return e.join("")}function vB(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function bB(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}vB(r,e)}}function wB(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Ds(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)bw(t.charCodeAt(i),n,r);return new Uint8Array(e)}function xB(t){const e=[];return bB(t,n=>e.push(n)),new Uint8Array(e)}function ba(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>d2(i,n,r)),d2(null,n,r),e.join("")}function SB(t){return Math.round(Date.now()/1e3)+t}function _B(){return Symbol("auth-callback")}const Lt=()=>typeof window<"u"&&typeof document<"u",la={tested:!1,writable:!1},ww=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(la.tested)return la.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),la.tested=!0,la.writable=!0}catch{la.tested=!0,la.writable=!1}return la.writable};function TB(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const xw=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),EB=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",is=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},ua=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Ot=async(t,e)=>{await t.removeItem(e)};class P0{constructor(){this.promise=new P0.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}P0.promiseConstructor=Promise;function ah(t){const e=t.split(".");if(e.length!==3)throw new np("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!cB.test(e[r]))throw new np("JWT not in base64url format");return{header:JSON.parse(h2(e[0])),payload:JSON.parse(h2(e[1])),signature:Ds(e[2]),raw:{header:e[0],payload:e[1]}}}async function AB(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function CB(t,e){return new Promise((r,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const s=await t(a);if(!e(a,null,s)){r(s);return}}catch(s){if(!e(a,s)){i(s);return}}})()})}function kB(t){return("0"+t.toString(16)).substr(-2)}function NB(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let a=0;a<56;a++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,kB).join("")}async function RB(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function MB(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await RB(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ja(t,e,n=!1){const r=NB();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await is(t,`${e}-code-verifier`,i);const a=await MB(r);return[a,r===a?"plain":"s256"]}const IB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DB(t){const e=t.headers.get(ep);if(!e||!e.match(IB))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function zB(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function UB(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const OB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ja(t){if(!OB.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function sh(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function LB(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const a=r.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)"||a==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function f2(t){return JSON.parse(JSON.stringify(t))}const ma=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),PB=[502,503,504];async function p2(t){var e;if(!EB(t))throw new tp(ma(t),0);if(PB.includes(t.status))throw new tp(ma(t),t.status);let n;try{n=await t.json()}catch(a){throw new va(ma(a),a)}let r;const i=DB(t);if(i&&i.getTime()>=vw["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new u2(ma(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new wn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,s)=>a&&typeof s=="string",!0))throw new u2(ma(n),t.status,n.weak_password.reasons);throw new hB(ma(n),t.status||500,r)}const BB=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function he(t,e,n,r){var i;const a=Object.assign({},r==null?void 0:r.headers);a[ep]||(a[ep]=vw["2024-01-01"].name),r!=null&&r.jwt&&(a.Authorization=`Bearer ${r.jwt}`);const s=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(s.redirect_to=r.redirectTo);const o=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await qB(t,e,n+o,{headers:a,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function qB(t,e,n,r,i,a){const s=BB(e,r,i,a);let o;try{o=await t(n,Object.assign({},s))}catch(l){throw console.error(l),new tp(ma(l),0)}if(o.ok||await p2(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await p2(l)}}function ar(t){var e;let n=null;GB(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=SB(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function m2(t){const e=ar(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ai(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function HB(t){return{data:t,error:null}}function FB(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a}=t,s=O0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:a},l=Object.assign({},s);return{data:{properties:o,user:l},error:null}}function g2(t){return t}function GB(t){return t.access_token&&t.refresh_token&&t.expires_in}const oh=["global","local","others"];class VB{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=xw(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=oh[0]){if(oh.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${oh.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(se(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ai})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=O0(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:FB,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(se(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ai})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:g2});if(c.error)throw c.error;const f=await c.json(),p=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(y.split(";")[1].split("=")[1]);u[`${E}Page`]=w}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(se(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ja(e);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ai})}catch(n){if(se(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){ja(e);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ai})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){ja(e);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ai})}catch(r){if(se(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){ja(e.userId);try{const{data:n,error:r}=await he(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _deleteFactor(e){ja(e.userId),ja(e.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,a,s,o,l;try{const u={nextPage:null,lastPage:0,total:0},c=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(a=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:g2});if(c.error)throw c.error;const f=await c.json(),p=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,m=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return m.length>0&&(m.forEach(y=>{const w=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),E=JSON.parse(y.split(";")[1].split("=")[1]);u[`${E}Page`]=w}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(se(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(se(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(se(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(se(n))return{data:null,error:n};throw n}}}function y2(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Xa={debug:!!(globalThis&&ww()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Sw extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class $B extends Sw{}async function YB(t,e,n){Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Xa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new $B(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Xa.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function KB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _w(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function JB(t){return parseInt(t,16)}function jB(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function XB(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:a=new Date,nonce:s,notBefore:o,requestId:l,resources:u,scheme:c,uri:f,version:p}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const m=_w(t.address),y=c?`${c}://${r}`:r,w=t.statement?`${t.statement}
`:"",E=`${y} wants you to sign in with your Ethereum account:
${m}

${w}`;let b=`URI: ${f}
Version: ${p}
Chain ID: ${n}${s?`
Nonce: ${s}`:""}
Issued At: ${a.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),o&&(b+=`
Not Before: ${o.toISOString()}`),l&&(b+=`
Request ID: ${l}`),u){let S=`
Resources:`;for(const _ of u){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);S+=`
- ${_}`}b+=S}return`${E}
${b}`}class wt extends Error{constructor({message:e,code:n,cause:r,name:i}){var a;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(a=i??(r instanceof Error?r.name:void 0))!==null&&a!==void 0?a:"Unknown Error",this.code=n}}class Xc extends wt{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function WB({error:t,options:e}){var n,r,i;const{publicKey:a}=e;if(!a)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new wt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=a.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new wt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=a.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new wt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=a.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new wt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new wt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new wt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return a.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new wt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new wt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const s=window.location.hostname;if(Tw(s)){if(a.rp.id!==s)return new wt({message:`The RP ID "${a.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(a.user.id.byteLength<1||a.user.id.byteLength>64)return new wt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new wt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function QB({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new wt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new wt({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Tw(r)){if(n.rpId!==r)return new wt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new wt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new wt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new wt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class ZB{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const eq=new ZB;function tq(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=O0(t,["challenge","user","excludeCredentials"]),a=Ds(e).buffer,s=Object.assign(Object.assign({},n),{id:Ds(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:a,user:s});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Ds(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function nq(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=O0(t,["challenge","allowCredentials"]),i=Ds(e).buffer,a=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){a.allowCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const o=n[s];a.allowCredentials[s]=Object.assign(Object.assign({},o),{id:Ds(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return a}function rq(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:ba(new Uint8Array(t.response.attestationObject)),clientDataJSON:ba(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function iq(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ba(new Uint8Array(i.authenticatorData)),clientDataJSON:ba(new Uint8Array(i.clientDataJSON)),signature:ba(new Uint8Array(i.signature)),userHandle:i.userHandle?ba(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Tw(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function v2(){var t,e;return!!(Lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function aq(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xc("Browser returned unexpected credential type",e)}:{data:null,error:new Xc("Empty credential response",e)}}catch(e){return{data:null,error:WB({error:e,options:t})}}}async function sq(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Xc("Browser returned unexpected credential type",e)}:{data:null,error:new Xc("Empty credential response",e)}}catch(e){return{data:null,error:QB({error:e,options:t})}}}const oq={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},lq={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Wc(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const a in i){const s=i[a];if(s!==void 0)if(Array.isArray(s))r[a]=s;else if(n(s))r[a]=s;else if(e(s)){const o=r[a];e(o)?r[a]=Wc(o,s):r[a]=Wc(s)}else r[a]=s}return r}function uq(t,e){return Wc(oq,t,e||{})}function cq(t,e){return Wc(lq,t,e||{})}class dq{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},a){try{const{data:s,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!s)return{data:null,error:o};const l=i??eq.createNewAbortSignal();if(s.webauthn.type==="create"){const{user:u}=s.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(s.webauthn.type){case"create":{const u=uq(s.webauthn.credential_options.publicKey,a==null?void 0:a.create),{data:c,error:f}=await aq({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}case"request":{const u=cq(s.webauthn.credential_options.publicKey,a==null?void 0:a.request),{data:c,error:f}=await sq(Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:s.id,webauthn:{type:s.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}}}catch(s){return se(s)?{data:null,error:s}:{data:null,error:new va("Unexpected error in challenge",s)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Sl("rpId is required for WebAuthn authentication")};try{if(!v2())return{data:null,error:new va("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:a});if(!s)return{data:null,error:o};const{webauthn:l}=s;return this._verify({factorId:e,challengeId:s.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(s){return se(s)?{data:null,error:s}:{data:null,error:new va("Unexpected error in authenticate",s)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},a){if(!n)return{data:null,error:new Sl("rpId is required for WebAuthn registration")};try{if(!v2())return{data:null,error:new va("Browser does not support WebAuthn",null)};const{data:s,error:o}=await this._enroll({friendlyName:e});if(!s)return await this.client.mfa.listFactors().then(c=>{var f;return(f=c.data)===null||f===void 0?void 0:f.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===e&&p.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:s.id,friendlyName:s.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:a});return l?this._verify({factorId:s.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(s){return se(s)?{data:null,error:s}:{data:null,error:new va("Unexpected error in register",s)}}}}KB();const hq={url:oB,storageKey:lB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function b2(t,e,n){return await n()}const Wa={};class _l{get jwks(){var e,n;return(n=(e=Wa[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Wa[this.storageKey]=Object.assign(Object.assign({},Wa[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Wa[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Wa[this.storageKey]=Object.assign(Object.assign({},Wa[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const a=Object.assign(Object.assign({},hq),e);if(this.storageKey=a.storageKey,this.instanceID=(n=_l.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,_l.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Lt()){const s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new VB({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=xw(a.fetch),this.lock=a.lock||b2,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Lt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=YB:this.lock=b2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new dq(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:ww()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=y2(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=y2(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${yw}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Lt()&&(n=TB(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Lt()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:a}=await this._getSessionFromURL(n,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),mB(a)){const l=(e=a.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return{error:a}}const{session:s,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return se(n)?this._returnResult({error:n}):this._returnResult({error:new va("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:ar}),{data:s,error:o}=a;if(o||!s)return this._returnResult({data:{user:null,session:null},error:o});const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(e){var n,r,i;try{let a;if("email"in e){const{email:c,password:f,options:p}=e;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await Ja(this.storage,this.storageKey)),a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:c,password:f,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:m,code_challenge_method:y},xform:ar})}else if("phone"in e){const{phone:c,password:f,options:p}=e;a=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(i=p==null?void 0:p.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:ar})}else throw new Au("You must provide either an email or phone number and a password");const{data:s,error:o}=a;if(o||!s)return await Ot(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(a){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),se(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:s,options:o}=e;n=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:m2})}else if("phone"in e){const{phone:a,password:s,options:o}=e;n=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:m2})}else throw new Au("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const a=new Ka;return this._returnResult({data:{user:null,session:null},error:a})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,a,s,o,l,u,c,f,p;let m,y;if("message"in e)m=e.message,y=e.signature;else{const{chain:w,wallet:E,statement:b,options:S}=e;let _;if(Lt())if(typeof E=="object")_=E;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")_=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=E}const C=new URL((n=S==null?void 0:S.url)!==null&&n!==void 0?n:window.location.href),I=await _.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!I||I.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=_w(I[0]);let D=(r=S==null?void 0:S.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!D){const O=await _.request({method:"eth_chainId"});D=JB(O)}const B={domain:C.host,address:k,statement:b,uri:C.href,version:"1",chainId:D,nonce:(i=S==null?void 0:S.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(a=S==null?void 0:S.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(o=S==null?void 0:S.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=S==null?void 0:S.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=S==null?void 0:S.signInWithEthereum)===null||c===void 0?void 0:c.resources};m=XB(B),y=await _.request({method:"personal_sign",params:[jB(m),k]})}try{const{data:w,error:E}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:y},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ar});if(E)throw E;if(!w||!w.session||!w.user){const b=new Ka;return this._returnResult({data:{user:null,session:null},error:b})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:E})}catch(w){if(se(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var n,r,i,a,s,o,l,u,c,f,p,m;let y,w;if("message"in e)y=e.message,w=e.signature;else{const{chain:E,wallet:b,statement:S,options:_}=e;let C;if(Lt())if(typeof b=="object")C=b;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))C=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=b}const I=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const k=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),S?{statement:S}:null));let D;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")D=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)D=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)y=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),w=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${I.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((u=_==null?void 0:_.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((f=(c=_==null?void 0:_.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",..._.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const k=await C.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=k}}try{const{data:E,error:b}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:ba(w)},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(m=e.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:ar});if(b)throw b;if(!E||!E.session||!E.user){const S=new Ka;return this._returnResult({data:{user:null,session:null},error:S})}return E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),this._returnResult({data:Object.assign({},E),error:b})}catch(E){if(se(E))return this._returnResult({data:{user:null,session:null},error:E});throw E}}async _exchangeCodeForSession(e){const n=await ua(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new gB;const{data:a,error:s}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ar});if(await Ot(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){const o=new Ka;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return a.session&&(await this._saveSession(a.session),setTimeout(async()=>{await this._notifyAllSubscribers("SIGNED_IN",a.session)},0)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:s})}catch(a){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),se(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:a,nonce:s}=e,o=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ar}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new Ka;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,a,s;try{if("email"in e){const{email:o,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Ja(this.storage,this.storageKey));const{error:f}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:c}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(a=l==null?void 0:l.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new Au("You must provide either an email or phone number.")}catch(o){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),se(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var n,r;try{let i,a;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:s,error:o}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:ar});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,a,s;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Ja(this.storage,this.storageKey));const u=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:HB});return!((a=u.data)===null||a===void 0)&&a.url&&Lt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),se(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new wn;const{error:i}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(se(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:a}=e,{error:s}=await he(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){const{phone:r,type:i,options:a}=e,{data:s,error:o}=await he(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:o})}throw new Au("You must provide either an email or phone number and a type")}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await ua(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<rh:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const s=await ua(this.userStorage,this.storageKey+"-user");s!=null&&s.user?e.user=s.user:e.user=sh()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const s={value:this.suppressGetSessionWarning};e.user=LB(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ai}):await this._useSession(async n=>{var r,i,a;const{data:s,error:o}=n;if(o)throw o;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wn}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:Ai})})}catch(n){if(se(n))return pB(n)&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:a}=r;if(a)throw a;if(!i.session)throw new wn;const s=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Ja(this.storage,this.storageKey));const{data:u,error:c}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:s.access_token,xform:Ai});if(c)throw c;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),se(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wn;const n=Date.now()/1e3;let r=n,i=!0,a=null;const{payload:s}=ah(e.access_token);if(s.exp&&(r=s.exp,i=r<=n),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};a=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;a={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(n){if(se(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:s,error:o}=n;if(o)throw o;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new wn;const{data:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(se(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Lt())throw new Cu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Cu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new l2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cu("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new l2("No code detected.");const{data:S,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:a,refresh_token:s,expires_in:o,expires_at:l,token_type:u}=e;if(!a||!o||!s||!u)throw new Cu("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(o);let p=c+f;l&&(p=parseInt(l));const m=p-c;m*1e3<=rs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const y=p-f;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,p,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,p,c);const{data:w,error:E}=await this._getUser(a);if(E)throw E;const b={provider_token:r,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:p,refresh_token:s,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(r){if(se(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await ua(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({error:a});const s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){const{error:o}=await this.admin.signOut(s,e);if(o&&!(fB(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Ot(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=_B(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:a},error:s}=n;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ja(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),se(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async a=>{var s,o,l,u,c;const{data:f,error:p}=a;if(p)throw p;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",m,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return Lt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(se(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:a}}=n;if(i)throw i;const{options:s,provider:o,token:l,access_token:u,nonce:c}=e,f=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=a==null?void 0:a.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:ar}),{data:p,error:m}=f;return m?this._returnResult({data:{user:null,session:null},error:m}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Ka}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:m}))}catch(i){if(await Ot(this.storage,`${this.storageKey}-code-verifier`),se(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)throw s;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=a.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await CB(async i=>(i>0&&await AB(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ar})),(i,a)=>{const s=200*Math.pow(2,i);return a&&ih(a)&&Date.now()+s-r<rs})}catch(r){if(this._debug(n,"error",r),se(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Lt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await ua(this.storage,this.storageKey);if(i&&this.userStorage){let s=await ua(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await is(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s==null?void 0:s.user)!==null&&e!==void 0?e:sh()}else if(i&&!i.user&&!i.user){const s=await ua(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Ot(this.storage,this.storageKey+"-user"),await is(this.storage,this.storageKey,i)):i.user=sh()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const a=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<rh;if(this._debug(r,`session has${a?"":" not"} expired with margin of ${rh}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),ih(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:o}=await this._getUser(i.access_token);!o&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new wn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new P0;const{data:a,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!a.session)throw new wn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const o={data:a.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(a){if(this._debug(i,"error",a),se(a)){const s={data:null,error:a};return ih(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],s=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let o=0;o<a.length;o+=1)console.error(a[o]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ot(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await is(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const a=f2(i);await is(this.storage,this.storageKey,a)}else{const i=f2(n);await is(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ot(this.storage,this.storageKey),await Ot(this.storage,this.storageKey+"-code-verifier"),await Ot(this.storage,this.storageKey+"-user"),this.userStorage&&await Ot(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),rs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/rs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${rs}ms, refresh threshold is ${Zf} ticks`),i<=Zf&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Sw)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[a,s]=await Ja(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const a=new URLSearchParams(r.queryParams);i.push(a.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;return a?this._returnResult({data:null,error:a}):await he(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:a,error:s}=n;if(s)return this._returnResult({data:null,error:s});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await he(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=a==null?void 0:a.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?rq(e.webauthn.credential_response):iq(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const s=await he(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;const{data:o}=s;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:tq(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:nq(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const a of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(a),a.status==="verified"&&i[a.factor_type].push(a);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=ah(r.access_token);let s=null;a.aal&&(s=a.aal);let o=s;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const u=a.amr||[];return{data:{currentLevel:s,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new wn})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new wn});const s=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Lt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:a}=r;if(a)return this._returnResult({data:null,error:a});if(!i)return this._returnResult({data:null,error:new wn});const s=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return s.data&&s.data.redirect_url&&Lt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(s.data.redirect_url),s})}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new wn})})}catch(e){if(se(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new wn})})}catch(n){if(se(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+dB>i)return r;const{data:a,error:s}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,r=a.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:m,error:y}=await this.getSession();if(y||!m.session)return this._returnResult({data:null,error:y});r=m.session.access_token}const{header:i,payload:a,signature:s,raw:{header:o,payload:l}}=ah(r);n!=null&&n.allowExpired||zB(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:m}=await this.getUser(r);if(m)throw m;return{data:{claims:a,header:i,signature:s},error:null}}const c=UB(i.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,s,xB(`${o}.${l}`)))throw new np("Invalid JWT signature");return{data:{claims:a,header:i,signature:s},error:null}}catch(r){if(se(r))return this._returnResult({data:null,error:r});throw r}}}_l.nextInstanceID={};const fq=_l,pq="2.91.0";let No="";typeof Deno<"u"?No="deno":typeof document<"u"?No="web":typeof navigator<"u"&&navigator.product==="ReactNative"?No="react-native":No="node";const mq={"X-Client-Info":`supabase-js-${No}/${pq}`},gq={headers:mq},yq={schema:"public"},vq={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},bq={};function Tl(t){"@babel/helpers - typeof";return Tl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tl(t)}function wq(t,e){if(Tl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xq(t){var e=wq(t,"string");return Tl(e)=="symbol"?e:e+""}function Sq(t,e,n){return(e=xq(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function w2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ft(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w2(Object(n),!0).forEach(function(r){Sq(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const _q=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Tq=()=>Headers,Eq=(t,e,n)=>{const r=_q(n),i=Tq();return async(a,s)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(a,ft(ft({},s),{},{headers:u}))}};function Aq(t){return t.endsWith("/")?t:t+"/"}function Cq(t,e){var n,r;const{db:i,auth:a,realtime:s,global:o}=t,{db:l,auth:u,realtime:c,global:f}=e,p={db:ft(ft({},l),i),auth:ft(ft({},u),a),realtime:ft(ft({},c),s),storage:{},global:ft(ft(ft({},f),o),{},{headers:ft(ft({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?p.accessToken=t.accessToken:delete p.accessToken,p}function kq(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Aq(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Nq=class extends fq{constructor(t){super(t)}},Rq=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const a=kq(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const s=`sb-${a.hostname.split(".")[0]}-auth-token`,o={db:yq,realtime:bq,auth:ft(ft({},vq),{},{storageKey:s}),global:gq},l=Cq(n??{},o);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(c,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=Eq(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ft({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(c=>this.realtime.setAuth(c)).catch(c=>console.warn("Failed to set initial Realtime auth token:",c)),this.rest=new uP(new URL("rest/v1",a).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new sB(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new iP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:a,flowType:s,lock:o,debug:l,throwOnError:u},c,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Nq({url:this.authUrl.href,headers:ft(ft({},p),c),storageKey:a,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:s,lock:o,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new AP(this.realtimeUrl.href,ft(ft({},t),{},{params:ft(ft({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Ew=(t,e,n)=>new Rq(t,e,n);function Mq(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const n=e.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}Mq()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let ku=null;const Bt=()=>{var n,r;if(ku)return ku;let t=Vt.supabaseConfig.url,e=Vt.supabaseConfig.anonKey;if(!t||!e)try{const i=localStorage.getItem("mistake-notebook-settings");if(i){const a=JSON.parse(i);(n=a.supabaseConfig)!=null&&n.url&&((r=a.supabaseConfig)!=null&&r.anonKey)&&(t=a.supabaseConfig.url,e=a.supabaseConfig.anonKey)}}catch{console.warn("Error reading settings for Supabase config")}return t&&e?(ku=Ew(t,e),ku):null},Aw="mistake-notebook-data",Cw="mistake-notebook-trash",Iq="mistake-notebook-settings",gi=()=>{try{const t=localStorage.getItem(Iq),e=t?JSON.parse(t):{},n={...Vt,...e};return Mt.supabaseUrl&&(n.supabaseConfig.url=Vt.supabaseConfig.url),Mt.supabaseKey&&(n.supabaseConfig.anonKey=Vt.supabaseConfig.anonKey),Mt.supabaseUrl&&Mt.supabaseKey&&e.useSupabase!==!1&&(n.useSupabase=!0),n}catch{return Vt}},Dq=async t=>await(await fetch(t)).blob(),x2=async(t,e)=>{if(!e||!e.startsWith("data:"))return e||"";const n=Bt();if(!n)return console.warn("Supabase not configured, falling back to base64"),e;try{const r=await Dq(e),i=e.split(";")[0].split(":")[1],a=i.split("/")[1]||"webp",s=`${t}.${a}`,{error:o}=await n.storage.from("mistake-images").upload(s,r,{contentType:i,upsert:!0,cacheControl:"3600"});if(o)throw o;const{data:l}=n.storage.from("mistake-images").getPublicUrl(s);return`${l.publicUrl}?t=${Date.now()}`}catch(r){return console.error("Supabase Storage Upload Failed:",r),e}},xo=()=>{try{return JSON.parse(localStorage.getItem(Aw)||"[]")}catch{return[]}},Nu=t=>localStorage.setItem(Aw,JSON.stringify(t)),Ru=()=>{try{return JSON.parse(localStorage.getItem(Cw)||"[]")}catch{return[]}},Mu=t=>localStorage.setItem(Cw,JSON.stringify(t)),xn={async checkConnection(t,e){if(!t||!e)return{success:!1,message:"URL  Key "};try{const n=Ew(t,e),{count:r,error:i}=await n.from("mistakes").select("*",{count:"exact",head:!0});return i&&i.code==="42P01"?{success:!1,message:":  Supabase  'mistakes' "}:{success:!0,message:""}}catch(n){return{success:!1,message:`: ${n.message}`}}},async loadSettingsFromCloud(t){const e=Bt();if(!e)return null;try{const{data:n,error:r}=await e.from("user_settings").select("settings").eq("user_id",t).single();return r?(r.code!=="PGRST116"&&console.warn("Error fetching user settings:",r.message),null):n==null?void 0:n.settings}catch(n){return console.error("Failed to load settings from cloud",n),null}},async saveSettingsToCloud(t,e){const n=Bt();if(n)try{const r={...e},{error:i}=await n.from("user_settings").upsert({user_id:t,settings:r,updated_at:new Date().toISOString()});i&&(console.error("Error saving settings to cloud:",i.message),i.code==="42P01"&&console.warn("Table 'user_settings' does not exist. Please create it in Supabase."))}catch(r){console.error("Failed to save settings to cloud",r)}},async loadMistakes(){if(gi().useSupabase){const e=Bt();if(!e)throw new Error("Supabase ");const{data:n,error:r}=await e.from("mistakes").select("*").is("deletedAt",null).order("createdAt",{ascending:!1});if(r)throw r;return n||[]}else return xo()},async loadTrash(){if(gi().useSupabase){const e=Bt();if(!e)throw new Error("Supabase ");const{data:n,error:r}=await e.from("mistakes").select("*").not("deletedAt","is",null).order("deletedAt",{ascending:!1});if(r)throw r;return n||[]}else return Ru()},async addMistake(t){const e=gi();let n=t.imageUrl;e.useSupabase&&(n=await x2(t.id,t.imageUrl||""));const r={...t,imageUrl:n||null};if(e.useSupabase){const i=Bt();if(!i)throw new Error("Supabase ");const{error:a}=await i.from("mistakes").insert([{...r}]);if(a)throw a}else{const i=xo();Nu([r,...i])}return r},async updateMistake(t){var i;const e=gi();let n=t.imageUrl;e.useSupabase&&((i=t.imageUrl)!=null&&i.startsWith("data:"))&&(n=await x2(t.id,t.imageUrl));const r={...t,imageUrl:n||null};if(e.useSupabase){const a=Bt();if(!a)throw new Error("Supabase ");const{error:s}=await a.from("mistakes").update(r).eq("id",t.id);if(s)throw s}else{const a=xo(),s=a.findIndex(o=>o.id===t.id);s!==-1&&(a[s]=r,Nu(a))}return r},async moveToTrash(t){const e=gi(),n=Date.now();if(e.useSupabase){const r=Bt();if(!r)throw new Error("Supabase ");const{error:i}=await r.from("mistakes").update({deletedAt:n}).eq("id",t.id);if(i)throw i}else{const i=xo().filter(s=>s.id!==t.id);Nu(i);const a=Ru();Mu([{...t,deletedAt:n},...a])}},async restoreFromTrash(t){if(gi().useSupabase){const n=Bt();if(!n)throw new Error("Supabase ");const{error:r}=await n.from("mistakes").update({deletedAt:null}).eq("id",t.id);if(r)throw r}else{const r=Ru().filter(a=>a.id!==t.id);Mu(r);const i=xo();Nu([{...t,deletedAt:void 0},...i])}},async deletePermanently(t){if(gi().useSupabase){const n=Bt();if(!n)throw new Error("Supabase ");const{error:r}=await n.from("mistakes").delete().eq("id",t);if(r)throw r}else{const r=Ru().filter(i=>i.id!==t);Mu(r)}},async emptyTrash(){if(gi().useSupabase){const e=Bt();if(!e)throw new Error("Supabase ");const{error:n}=await e.from("mistakes").delete().not("deletedAt","is",null);if(n)throw n}else Mu([])}},Wo={async signUp(t,e,n){const r=Bt();if(!r)throw new Error("Supabase ");const{data:i,error:a}=await r.auth.signUp({email:t,password:e,options:{data:{display_name:n||"User"}}});if(a)throw a;return i},async signIn(t,e){const n=Bt();if(!n)throw new Error("Supabase ");const{data:r,error:i}=await n.auth.signInWithPassword({email:t,password:e});if(i)throw i;return r},async signOut(){const t=Bt();if(!t)return;const{error:e}=await t.auth.signOut();if(e)throw e},async getSession(){const t=Bt();if(!t)return null;const{data:e}=await t.auth.getSession();return e.session},async getUser(){const t=Bt();if(!t)return null;const{data:e}=await t.auth.getUser();return e.user}},Iu=[{id:"gemini-3-flash-preview",name:"Gemini 3.0 Flash",description:" ()",is_multimodal:!0},{id:"gemini-3-pro-preview",name:"Gemini 3.0 Pro",description:" ()",is_multimodal:!0},{id:"gemini-2.0-flash",name:"Gemini 2.0 Flash",description:"2.0  ()",is_multimodal:!0},{id:"gemini-2.0-pro-exp-02-05",name:"Gemini 2.0 Pro Exp",description:"2.0  ()",is_multimodal:!0},{id:"gemini-1.5-pro",name:"Gemini 1.5 Pro",description:"1.5  ()",is_multimodal:!0}],zq=({settings:t,onSaveSettings:e,onLogout:n})=>{const[r,i]=ee.useState(t),[a,s]=ee.useState(!1),[o,l]=ee.useState(!1),[u,c]=ee.useState(null),[f,p]=ee.useState(!1),[m,y]=ee.useState("...");ee.useEffect(()=>{Wo.getUser().then(I=>{I!=null&&I.email&&y(I.email)})},[]);const[w,E]=ee.useState(()=>{if(t.customModels&&t.customModels.length>0){const I=t.customModels.filter(k=>!k.id.startsWith("gemini"));return[...Iu,...I]}return Iu});ee.useEffect(()=>{i(t)},[t]);const b=(I,k)=>{i(D=>({...D,[I]:k}))},S=(I,k)=>{Mt.supabaseUrl||i(D=>({...D,supabaseConfig:{...D.supabaseConfig,[I]:k}}))},_=async()=>{p(!0),c(null);try{const I=await xn.checkConnection(r.supabaseConfig.url,r.supabaseConfig.anonKey);c(I)}catch{c({success:!1,message:""})}finally{p(!1)}},C=I=>{I.preventDefault();let k={...r};k.supabaseConfig.url&&!k.supabaseConfig.url.startsWith("http")&&(k.supabaseConfig.url=`https://${k.supabaseConfig.url}`),k.useSupabase&&(!k.supabaseConfig.url||!k.supabaseConfig.anonKey)&&(alert(" Supabase "),k.useSupabase=!1);const D=w.filter(B=>!Iu.some(O=>O.id===B.id));k.customModels=D,e(k),s(!0),setTimeout(()=>s(!1),2e3)};return x.jsxs("div",{className:"max-w-3xl mx-auto pb-20 animate-soft",children:[x.jsxs("div",{className:"flex items-center justify-between mb-8",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:""}),x.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest mt-1",children:"Preferences & Config"})]}),x.jsxs("button",{onClick:n,className:"text-[10px] font-bold text-slate-400 hover:text-slate-600 uppercase tracking-widest flex items-center gap-2 bg-white px-3 py-2 rounded-lg border border-slate-100 hover:border-slate-300 transition-all",children:[x.jsx(R9,{size:14})," "]})]}),x.jsxs("form",{id:"settings-form",onSubmit:C,className:"space-y-6",children:[x.jsxs(Ii,{className:"p-6 md:p-8 border-slate-100",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[x.jsx("div",{className:"bg-slate-100 p-3 rounded-2xl text-slate-600",children:x.jsx(zc,{size:24})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-sm font-bold text-slate-800",children:""}),x.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Account Profile"})]})]}),x.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-2 tracking-widest",children:""}),x.jsxs("div",{className:"bg-slate-50 border border-slate-100 rounded-xl py-3 px-4 flex items-center justify-between overflow-hidden",children:[x.jsxs("span",{className:"text-xs font-bold text-slate-600 flex items-center gap-2 truncate",children:[x.jsx(A6,{size:14})," ",m]}),x.jsx(im,{size:14,className:"text-emerald-500 shrink-0"})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-2 tracking-widest",children:""}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"text",value:r.username,onChange:I=>b("username",I.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-xl py-3.5 pl-11 pr-4 text-xs font-mono font-medium text-slate-600 focus:bg-white focus:ring-1 focus:ring-emerald-200 outline-none"}),x.jsx(zc,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16})]})]})]})]}),x.jsxs(Ii,{className:"p-6 border-slate-100",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[x.jsx("div",{className:`p-3 rounded-2xl ${r.useSupabase?"bg-emerald-600 text-white":"bg-slate-200 text-slate-500"}`,children:r.useSupabase?x.jsx(s9,{size:24}):x.jsx(sf,{size:24})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-sm font-bold text-slate-800",children:r.useSupabase?"Supabase ":""}),x.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:r.useSupabase?"":""})]})]}),x.jsxs("div",{className:"flex items-center gap-3 bg-slate-50 p-3 rounded-xl border border-slate-100",children:[x.jsx("label",{className:"text-xs font-bold text-slate-600 flex-1",children:""}),x.jsx("div",{onClick:()=>{if(Mt.supabaseUrl){alert("");return}i(I=>({...I,useSupabase:!I.useSupabase}))},className:`w-12 h-6 rounded-full p-1 cursor-pointer transition-colors ${r.useSupabase?"bg-emerald-500":"bg-slate-300"} ${Mt.supabaseUrl?"opacity-50":""}`,children:x.jsx("div",{className:`w-4 h-4 rounded-full bg-white shadow-sm transition-transform ${r.useSupabase?"translate-x-6":"translate-x-0"}`})})]})]}),x.jsxs(Ii,{className:"p-6 border-slate-100",children:[x.jsx("div",{className:"flex items-center justify-between mb-6",children:x.jsxs("div",{className:"flex items-center gap-4",children:[x.jsx("div",{className:"bg-emerald-50 p-3 rounded-2xl text-emerald-600",children:x.jsx(sf,{size:24})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-sm font-bold text-slate-800",children:"Supabase "}),x.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Project Connection"})]})]})}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-2 tracking-widest",children:"Project URL"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"text",value:r.supabaseConfig.url,onChange:I=>S("url",I.target.value),readOnly:!!Mt.supabaseUrl,className:`w-full border rounded-xl py-3 pl-11 pr-4 text-xs font-mono font-medium outline-none focus:ring-1 transition-all ${Mt.supabaseUrl?"bg-slate-100 border-slate-200":"bg-slate-50 border-slate-100 focus:bg-white focus:ring-emerald-200"}`}),x.jsx(E9,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase mb-2 tracking-widest block",children:"Anon Public Key"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"password",value:r.supabaseConfig.anonKey,onChange:I=>S("anonKey",I.target.value),readOnly:!!Mt.supabaseUrl,className:`w-full border rounded-xl py-3 pl-11 pr-4 text-xs font-mono font-medium outline-none focus:ring-1 transition-all ${Mt.supabaseUrl?"bg-slate-100 border-slate-200":"bg-slate-50 border-slate-100 focus:bg-white focus:ring-emerald-200"}`}),x.jsx(uf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16})]})]}),x.jsxs("button",{type:"button",onClick:_,disabled:f||!r.supabaseConfig.url,className:"w-full py-3 bg-emerald-50 text-emerald-600 hover:bg-emerald-600 hover:text-white rounded-xl text-xs font-bold transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[f?x.jsx(Dc,{className:"animate-spin",size:14}):x.jsx(PS,{size:14}),""]}),u&&x.jsx("div",{className:`p-3 rounded-xl text-[10px] font-bold border ${u.success?"bg-emerald-50 text-emerald-600 border-emerald-100":"bg-red-50 text-red-500 border-red-100"}`,children:u.message})]})]}),x.jsxs(Ii,{className:"p-6 md:p-8 border-slate-100",children:[x.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[x.jsx("div",{className:"bg-amber-50 p-3 rounded-2xl text-amber-500",children:x.jsx(W9,{size:24})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-sm font-bold text-slate-800",children:"AI "}),x.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-widest",children:"Gemini API Configuration"})]})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-2 tracking-widest",children:"Gemini API Key"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"password",value:r.geminiApiKey,onChange:I=>b("geminiApiKey",I.target.value),placeholder:"AIza...",className:"w-full bg-slate-50 border border-slate-100 rounded-xl py-3.5 pl-11 pr-4 text-xs font-mono font-medium text-slate-600 focus:bg-white focus:ring-1 focus:ring-amber-200 outline-none"}),x.jsx(uf,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:16})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest mb-2 block",children:""}),x.jsxs("div",{className:"relative",children:[x.jsx("select",{value:r.aiModel,onChange:I=>b("aiModel",I.target.value),className:"w-full appearance-none bg-white border border-slate-200 rounded-xl text-sm py-3.5 pl-4 pr-10 font-bold text-slate-700 outline-none focus:ring-2 focus:ring-blue-100 focus:border-blue-400 transition-all cursor-pointer shadow-sm",children:x.jsx("optgroup",{label:"Google Gemini",children:Iu.map(I=>x.jsx("option",{value:I.id,children:I.name},I.id))})}),x.jsx(XS,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-400 pointer-events-none",size:16})]})]})]})]}),x.jsxs("div",{className:"pt-4 pb-12",children:[x.jsx(zi,{type:"submit",form:"settings-form",size:"lg",fullWidth:!0,className:`h-16 rounded-2xl font-bold text-base transition-all shadow-xl ${a?"bg-emerald-500 hover:bg-emerald-600":"bg-blue-600 hover:bg-blue-700 shadow-blue-100"}`,children:a?x.jsxs(x.Fragment,{children:[x.jsx(n9,{size:20,className:"mr-2"})," "]}):x.jsxs(x.Fragment,{children:[x.jsx(C6,{size:20,className:"mr-2"})," "]})}),x.jsx("p",{className:"text-center text-[10px] text-slate-400 mt-4 font-bold uppercase tracking-widest",children:"Settings are synced across devices when cloud mode is on"})]})]})]})},Uq=({onComplete:t})=>{const[e,n]=ee.useState({...Vt,language:"zh"}),[r,i]=ee.useState(!1),[a,s]=ee.useState(Mt.supabaseUrl?"cloud":"local"),[o,l]=ee.useState(!1),[u,c]=ee.useState(Vt.supabaseConfig.url||""),[f,p]=ee.useState(Vt.supabaseConfig.anonKey||""),[m,y]=ee.useState(null),w=fl.zh,E=!!(Mt.supabaseUrl&&Mt.supabaseKey);ee.useEffect(()=>{E&&s("cloud")},[E]);const b=(C,I)=>{n(k=>({...k,[C]:I}))},S=C=>{if(C.preventDefault(),!e.username.trim()){alert("");return}i(!0),setTimeout(()=>{t(e),i(!1)},800)},_=async C=>{C&&C.preventDefault(),y(null);const I=E?Vt.supabaseConfig.url:u,k=E?Vt.supabaseConfig.anonKey:f;if(!I||!k){y(" Supabase URL  Key");return}let D=I;D.startsWith("http")||(D=`https://${D}`),i(!0);const B=await xn.checkConnection(D,k);if(!B.success&&(B.message.includes("Failed to fetch")||B.message.includes("URL"))){y(" URL "),i(!1);return}const O={...e,useSupabase:!0,supabaseConfig:{url:D,anonKey:k}};setTimeout(()=>{t(O),i(!1)},500)};return x.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4 relative animate-soft",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[x.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-lg shadow-blue-100",children:x.jsx(Vo,{size:28,strokeWidth:2.5})}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:w.app_title}),x.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em]",children:"Mistake Tracker"})]})]}),x.jsxs(Ii,{className:"w-full max-w-md p-0 shadow-xl shadow-slate-200/50 border-t-2 border-t-blue-600 overflow-hidden bg-white",children:[x.jsxs("div",{className:"flex border-b border-slate-100",children:[x.jsxs("button",{type:"button",onClick:()=>s("local"),className:`flex-1 py-4 text-xs font-bold transition-colors flex items-center justify-center gap-2 ${a==="local"?"bg-white text-blue-600 border-b-2 border-b-blue-600":"bg-slate-50 text-slate-400 hover:bg-slate-100"}`,children:[x.jsx(zc,{size:14})," /"]}),x.jsxs("button",{type:"button",onClick:()=>s("cloud"),className:`flex-1 py-4 text-xs font-bold transition-colors flex items-center justify-center gap-2 ${a==="cloud"?"bg-white text-blue-600 border-b-2 border-b-blue-600":"bg-slate-50 text-slate-400 hover:bg-slate-100"}`,children:[x.jsx(im,{size:14})," /"]})]}),x.jsx("div",{className:"p-8",children:a==="local"?x.jsxs("form",{onSubmit:S,className:"space-y-6 animate-in slide-in-from-left duration-300",children:[x.jsxs("div",{className:"text-center",children:[x.jsx("h2",{className:"text-lg font-bold text-slate-800",children:""}),x.jsx("p",{className:"text-xs text-slate-400 mt-1",children:""})]}),x.jsx("div",{children:x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"text",required:!0,placeholder:"",value:e.username==="Student"?"":e.username,onChange:C=>b("username",C.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-xl py-3.5 pl-11 pr-4 text-sm focus:ring-1 focus:ring-blue-200 focus:bg-white transition-all outline-none font-semibold text-slate-700 placeholder:text-slate-300"}),x.jsx(zc,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18})]})}),x.jsx(zi,{type:"submit",className:"w-full h-12 rounded-xl text-sm font-bold",size:"lg",isLoading:r,children:""})]}):x.jsx("div",{className:"animate-in slide-in-from-right duration-300",children:E?x.jsxs("div",{className:"text-center space-y-6",children:[x.jsx("div",{className:"w-16 h-16 bg-emerald-50 text-emerald-500 rounded-full flex items-center justify-center mx-auto mb-2",children:x.jsx(F9,{size:32})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-lg font-bold text-slate-800",children:""}),x.jsx("p",{className:"text-xs text-slate-400 mt-1 px-4",children:" Vercel "})]}),x.jsxs(zi,{onClick:()=>_(),className:"w-full h-12 rounded-xl text-sm font-bold bg-emerald-600 hover:bg-emerald-700",size:"lg",isLoading:r,children:[" ",x.jsx(E6,{size:16,className:"ml-2"})]})]}):x.jsx("div",{className:"space-y-6",children:o?x.jsxs("form",{onSubmit:_,className:"space-y-5 animate-in fade-in",children:[x.jsxs("div",{className:"text-center mb-2",children:[x.jsx("h2",{className:"text-lg font-bold text-slate-800",children:""}),x.jsx("p",{className:"text-[11px] text-slate-400 mt-1",children:""})]}),x.jsxs("div",{className:"space-y-4 bg-slate-50 p-4 rounded-xl border border-slate-100",children:[x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1.5 tracking-widest",children:"Supabase URL"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"text",required:!0,value:u,onChange:C=>c(C.target.value),placeholder:"https://xyz.supabase.co",className:"w-full bg-white border border-slate-200 rounded-lg py-2.5 pl-9 pr-3 text-xs font-mono text-slate-600 focus:ring-1 focus:ring-blue-200 outline-none"}),x.jsx(sf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300",size:14})]})]}),x.jsxs("div",{children:[x.jsx("label",{className:"block text-[10px] font-bold text-slate-400 uppercase mb-1.5 tracking-widest",children:"Anon Key"}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"password",required:!0,value:f,onChange:C=>p(C.target.value),placeholder:"your-anon-key",className:"w-full bg-white border border-slate-200 rounded-lg py-2.5 pl-9 pr-3 text-xs font-mono text-slate-600 focus:ring-1 focus:ring-blue-200 outline-none"}),x.jsx(uf,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-300",size:14})]})]})]}),m&&x.jsx("p",{className:"text-[10px] text-red-500 font-bold bg-red-50 p-2 rounded-lg text-center",children:m}),x.jsx(zi,{type:"submit",className:"w-full h-12 rounded-xl text-sm font-bold",size:"lg",isLoading:r,children:""}),x.jsx("button",{type:"button",onClick:()=>l(!1),className:"w-full text-[10px] text-slate-400",children:""})]}):x.jsxs("div",{className:"text-center space-y-4",children:[x.jsx("div",{className:"w-16 h-16 bg-amber-50 text-amber-500 rounded-full flex items-center justify-center mx-auto mb-2",children:x.jsx(k6,{size:32})}),x.jsxs("div",{children:[x.jsx("h2",{className:"text-lg font-bold text-slate-800",children:""}),x.jsxs("div",{className:"text-xs text-slate-500 mt-2 px-2 text-left bg-slate-50 p-3 rounded-lg border border-slate-100",children:[x.jsx("p",{className:"mb-2",children:" Vercel "}),x.jsxs("ul",{className:"list-disc list-inside space-y-1 font-mono text-[10px] text-slate-600",children:[x.jsxs("li",{children:[": ",x.jsx("span",{className:"text-emerald-600 font-bold",children:"VITE_SUPABASE_URL"})]}),x.jsx("li",{children:": SUPABASE_URL ()"})]})]})]}),x.jsxs(zi,{onClick:()=>window.location.reload(),variant:"secondary",className:"w-full h-10 rounded-xl text-xs font-bold",children:[x.jsx(Dc,{size:14,className:"mr-2"}),"  VITE_ "]}),x.jsx("button",{onClick:()=>l(!0),className:"text-[10px] text-blue-500 hover:underline mt-4",children:" ()"})]})})})})]})]})},Oq=({onLoginSuccess:t})=>{const[e,n]=ee.useState(""),[r,i]=ee.useState(""),[a,s]=ee.useState(!1),[o,l]=ee.useState(null),[u,c]=ee.useState(!1),f=async p=>{p.preventDefault(),l(null),s(!0);try{await Wo.signIn(e,r),t()}catch(m){let y=m.message;y==="Invalid login credentials"&&(y=""),l(y||"")}finally{s(!1)}};return x.jsxs("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4 animate-soft",children:[x.jsxs("div",{className:"flex items-center gap-3 mb-10",children:[x.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl text-white shadow-lg shadow-blue-100",children:x.jsx(Vo,{size:28,strokeWidth:2.5})}),x.jsxs("div",{className:"flex flex-col",children:[x.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:" AI"}),x.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-[0.2em]",children:"Admin Console"})]})]}),x.jsx(Ii,{className:"w-full max-w-md p-8 md:p-10 shadow-xl shadow-slate-200/50 border-t-2 border-t-blue-600 relative overflow-hidden",children:x.jsxs("form",{onSubmit:f,className:"space-y-6 relative z-10",children:[x.jsxs("div",{className:"text-center mb-6",children:[x.jsx("div",{className:"inline-flex items-center justify-center p-3 bg-blue-50 text-blue-600 rounded-full mb-4",children:x.jsx(im,{size:24})}),x.jsx("h2",{className:"text-xl font-bold text-slate-800",children:""}),x.jsx("p",{className:"text-xs text-slate-400 mt-2 font-medium",children:""})]}),x.jsxs("div",{className:"space-y-4",children:[x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:"email",required:!0,placeholder:"",value:e,onChange:p=>n(p.target.value),className:"w-full bg-slate-50 border border-slate-100 rounded-xl py-3.5 pl-11 pr-4 text-sm font-semibold text-slate-600 outline-none focus:bg-white focus:ring-1 focus:ring-blue-200 transition-all"}),x.jsx(A6,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18})]}),x.jsxs("div",{className:"relative",children:[x.jsx("input",{type:u?"text":"password",required:!0,placeholder:"",value:r,onChange:p=>{i(p.target.value),l(null)},className:`w-full bg-slate-50 border ${o?"border-red-300 ring-1 ring-red-100":"border-slate-100"} rounded-xl py-3.5 pl-11 pr-10 text-sm focus:ring-1 focus:ring-blue-200 focus:bg-white transition-all outline-none font-semibold text-slate-700 placeholder:text-slate-300`}),x.jsx(k9,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-300",size:18}),x.jsx("button",{type:"button",onClick:()=>c(!u),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-300 hover:text-slate-500 transition-colors p-1",children:u?x.jsx(h9,{size:16}):x.jsx(p9,{size:16})})]}),o&&x.jsx("p",{className:"text-[10px] text-red-500 font-bold text-center bg-red-50 py-2 rounded-lg",children:o})]}),x.jsxs(zi,{type:"submit",className:"w-full h-12 rounded-xl text-sm font-bold shadow-lg shadow-blue-100",size:"lg",isLoading:a,children:[" ",x.jsx(E6,{size:16,className:"ml-2"})]})]})})]})},lh="mistake-notebook-settings",Lq=()=>typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():Date.now().toString(36)+Math.random().toString(36).substring(2),Pq=t=>{let e={};if(t)try{e=JSON.parse(t)}catch(r){console.error("Failed to parse settings",r)}const n={...Vt,...e,supabaseConfig:{...Vt.supabaseConfig,...e.supabaseConfig}};return Mt.username&&(n.username=Vt.username),Mt.supabaseUrl&&Mt.supabaseKey&&(n.useSupabase=!0,n.supabaseConfig.url=Vt.supabaseConfig.url,n.supabaseConfig.anonKey=Vt.supabaseConfig.anonKey),n},Bq=()=>{const[t,e]=ee.useState("dashboard"),[n,r]=ee.useState("semesters"),[i,a]=ee.useState(null),[s,o]=ee.useState(null),[l,u]=ee.useState([]),[c,f]=ee.useState([]),[p,m]=ee.useState(null),[y,w]=ee.useState(!1),[E,b]=ee.useState(!1),[S,_]=ee.useState(null),[C,I]=ee.useState(void 0),[k,D]=ee.useState(!1),[B,O]=ee.useState(!1),[F,Y]=ee.useState(null),[J,ie]=ee.useState(!0);ee.useEffect(()=>{const ae=localStorage.getItem(lh),pe=Pq(ae);m(pe),(ae||pe.useSupabase)&&O(!0),D(!0)},[]),ee.useEffect(()=>{(async()=>{try{const ye=await Wo.getSession();Y(ye)}catch(ye){console.error("Auth check failed",ye)}finally{ie(!1)}})();const pe=Bt();if(pe){const{data:{subscription:ye}}=pe.auth.onAuthStateChange((it,mt)=>{Y(mt)});return()=>ye.unsubscribe()}},[]),ee.useEffect(()=>{(async()=>{if(k){if(F&&(p!=null&&p.useSupabase)){w(!0);try{const pe=await xn.loadSettingsFromCloud(F.user.id);pe&&m(ye=>{if(!ye)return null;const it={...ye,...pe,supabaseConfig:ye.supabaseConfig,useSupabase:!0};return localStorage.setItem(lh,JSON.stringify(it)),it})}catch(pe){console.warn("Failed to sync settings from cloud",pe)}}if(!(!F&&(p!=null&&p.useSupabase))){w(!0),_(null);try{const pe=await xn.loadMistakes(),ye=await xn.loadTrash();u(pe||[]),f(ye||[])}catch(pe){console.error("Sync Error:",pe),_(pe.message||"")}finally{w(!1)}}}})()},[F,k,p==null?void 0:p.useSupabase]);const oe=ee.useMemo(()=>{const ae=new Set;return l.forEach(pe=>{pe.tags&&pe.tags.forEach(ye=>ae.add(ye))}),Array.from(ae).sort()},[l]),H=async()=>{await Wo.signOut(),Y(null)},q=async()=>{const ae=await Wo.getSession();Y(ae)},V=async ae=>{if(m(ae),localStorage.setItem(lh,JSON.stringify(ae)),F&&ae.useSupabase){b(!0);try{await xn.saveSettingsToCloud(F.user.id,ae)}catch(pe){console.error("Failed to save settings to cloud",pe)}finally{b(!1)}}},P=()=>{if(!p||Mt.supabaseUrl&&!confirm(""))return;const ae={...p,useSupabase:!1};V(ae),_(null),alert("")},le=async(ae,pe)=>{if(pe){w(!0),_(null);try{const mt=l.find(Pn=>Pn.id===pe);if(mt){const Pn={...mt,...ae};u(tr=>tr.map(Mr=>Mr.id===pe?Pn:Mr)),e("dashboard"),I(void 0),await xn.updateMistake(Pn)}}catch(mt){alert(": "+mt.message),_(mt.message)}finally{w(!1)}return}const ye=Lq(),it={...ae,id:ye,createdAt:Date.now()};u(mt=>[it,...mt]),r("all"),e("dashboard"),I(void 0),b(!0),_(null);try{const mt=await xn.addMistake(it);u(Pn=>Pn.map(tr=>tr.id===ye?mt:tr))}catch(mt){console.error("Background upload failed:",mt),_("")}finally{b(!1)}},R=async ae=>{const pe=l.find(ye=>ye.id===ae);if(pe){u(ye=>ye.filter(it=>it.id!==ae)),f(ye=>[{...pe,deletedAt:Date.now()},...ye]),b(!0);try{await xn.moveToTrash(pe)}catch(ye){alert(": "+ye.message)}finally{b(!1)}}},Me=async(ae,pe)=>{ae.stopPropagation(),ae.preventDefault();const ye=c.find(it=>it.id===pe);if(ye){f(it=>it.filter(mt=>mt.id!==pe)),u(it=>[{...ye,deletedAt:void 0},...it]),b(!0);try{await xn.restoreFromTrash(ye)}catch(it){alert(": "+it.message)}finally{b(!1)}}},Re=async(ae,pe)=>{if(ae.stopPropagation(),ae.preventDefault(),window.confirm("")){f(ye=>ye.filter(it=>it.id!==pe)),b(!0);try{await xn.deletePermanently(pe)}catch(ye){alert(": "+ye.message)}finally{b(!1)}}},z=async()=>{if(window.confirm("")){f([]),b(!0);try{await xn.emptyTrash()}catch(ae){alert(": "+ae.message)}finally{b(!1)}}},Fe=async ae=>{u(pe=>pe.map(ye=>ye.id===ae.id?ae:ye)),b(!0);try{await xn.updateMistake(ae)}catch(pe){alert(": "+pe.message)}finally{b(!1)}},nt=ae=>{I(ae),e("add")},rt=async ae=>{if(!p)return;const pe=p.geminiApiKey;if(!pe)throw new Error(" Gemini API Key ");return eP(ae,p.aiModel,p.language,{geminiApiKey:pe,openRouterApiKey:p.openRouterApiKey,openRouterBaseUrl:p.openRouterBaseUrl})},tn=ee.useMemo(()=>t==="dashboard"?n==="all"?"dashboard":"archive":t,[t,n]),Ut=ae=>{ae==="archive"?(e("dashboard"),r("semesters"),a(null)):ae==="dashboard"?(e("dashboard"),r("all")):e(ae)};if(!k||J)return x.jsx("div",{className:"min-h-screen flex items-center justify-center bg-slate-50",children:x.jsx(Mc,{className:"animate-spin text-blue-600",size:32})});const nn=p==null?void 0:p.useSupabase;if(nn&&!F)return x.jsx(Oq,{onLoginSuccess:q});if(!nn&&!B)return x.jsx(Uq,{onComplete:ae=>{m(ae),V(ae),O(!0)}});if(!p)return null;const rn=p.language||"zh";return x.jsx(Q9,{currentView:tn,onChangeView:Ut,username:p.username,language:rn,children:x.jsxs("div",{className:"relative h-full flex flex-col",children:[(y||E)&&x.jsx("div",{className:"absolute top-0 right-0 m-4 z-50 animate-in fade-in pointer-events-none",children:x.jsxs("span",{className:"bg-white/90 backdrop-blur text-[10px] px-3 py-1.5 rounded-full border border-blue-100 shadow-sm flex items-center gap-2 text-blue-600 font-bold",children:[x.jsx(Mc,{className:"animate-spin",size:10}),y?"...":"..."]})}),S&&p.useSupabase&&x.jsxs("div",{className:"bg-red-50 border-b border-red-100 px-4 py-2 flex flex-col sm:flex-row sm:items-center justify-between gap-2 text-red-500 text-[10px] font-bold uppercase tracking-wider animate-in slide-in-from-top z-[60]",children:[x.jsxs("div",{className:"flex items-center gap-2",children:[x.jsx(l9,{size:14,className:"shrink-0"}),x.jsx("span",{className:"truncate max-w-xl",children:S})]}),x.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[x.jsx("button",{onClick:()=>window.location.reload(),className:"bg-white px-3 py-1.5 rounded-lg border border-red-100 hover:bg-red-500 hover:text-white transition-all",children:""}),x.jsxs("button",{onClick:P,className:"bg-white px-3 py-1.5 rounded-lg border border-slate-200 text-slate-600 hover:bg-slate-100 transition-all flex items-center gap-1.5",children:[x.jsx(w9,{size:12}),""]})]})]}),t==="dashboard"&&x.jsx(AR,{mistakes:l,onAddNew:()=>{I(void 0),e("add")},onEdit:nt,onDelete:R,onUpdateMistake:Fe,language:rn,viewState:n,setViewState:r,selectedSemester:i,setSelectedSemester:a,selectedSubject:s,setSelectedSubject:o,onCustomAnalyze:rt}),t==="trash"&&x.jsxs("div",{className:"flex-1 flex flex-col min-h-0 animate-soft",children:[x.jsxs("div",{className:"mb-8 flex items-center justify-between",children:[x.jsxs("div",{children:[x.jsx("h1",{className:"text-2xl font-bold text-slate-800 tracking-tight",children:""}),x.jsxs("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest mt-1",children:[p.useSupabase?" (Supabase)":""," ",c.length," "]})]}),c.length>0&&x.jsxs("button",{onClick:z,className:"flex items-center gap-2 px-4 py-2 bg-red-50 text-red-500 rounded-xl hover:bg-red-500 hover:text-white transition-all text-xs font-bold border border-red-100",children:[x.jsx(k6,{size:14}),""]})]}),x.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 pb-32 overflow-y-auto pr-1",children:c.map(ae=>{var pe;return x.jsxs("div",{className:"flex flex-col bg-slate-50 border border-slate-200 rounded-2xl overflow-hidden opacity-80 transition-all duration-300",children:[x.jsx("div",{className:"relative aspect-[4/3] bg-slate-100",children:ae.imageUrl&&x.jsx("img",{src:ae.imageUrl,className:"w-full h-full object-cover",alt:"Trash"})}),x.jsxs("div",{className:"p-5 flex flex-col flex-1",children:[x.jsx("div",{className:"flex flex-wrap gap-1 mb-4",children:(pe=ae.tags)==null?void 0:pe.map(ye=>x.jsx("span",{className:"text-[9px] font-bold text-slate-400 bg-white px-2 py-0.5 rounded",children:ye},ye))}),x.jsxs("div",{className:"flex gap-2 mt-auto",children:[x.jsx("button",{type:"button",onClick:ye=>Me(ye,ae.id),className:"flex-1 py-2 text-[11px] font-bold text-blue-600 bg-white border border-blue-100 rounded-xl hover:bg-blue-600 hover:text-white transition-all",children:""}),x.jsx("button",{type:"button",onClick:ye=>Re(ye,ae.id),className:"flex-1 py-2 text-[11px] font-bold text-red-400 bg-white border border-red-50 rounded-xl hover:bg-red-500 hover:text-white transition-all",children:""})]})]})]},ae.id)})})]}),t==="add"&&x.jsx(BR,{initialData:C,onSave:le,onCancel:()=>{I(void 0),e("dashboard")},existingTags:oe,geminiApiKey:p==null?void 0:p.geminiApiKey}),t==="settings"&&x.jsx(zq,{settings:p,onSaveSettings:V,onLogout:H})]})})},kw=document.getElementById("root");if(!kw)throw new Error("Could not find root element to mount to");const qq=MS.createRoot(kw);qq.render(x.jsx(Be.StrictMode,{children:x.jsx(Bq,{})}));
